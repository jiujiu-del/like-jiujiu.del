<!DOCTYPE html>
<html lang="zh_CN">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  
  
  <title>基础总结 | 山有木兮木有枝，心悦君兮君未知</title>
  
  <meta name="author" content="酒酒" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="" />
  
  <meta name="description" content="总结 markdaown 语法 123456789101112131415基础语法标题：一级标题[# 正文]二级标题[## 正文]目录：[TOC]加粗字体：**正文**倾斜字体：*正文*超链接：[正文](网址)分割线：---空格语法框：&#96;&#96;&#96;bash    #快捷： ctrl+shift+k穿插图片：![](图片位置路径)分类;[减号空格]二级分类：[删除减号空格]后此类推，回到一级分类：回车回车">
<meta property="og:type" content="article">
<meta property="og:title" content="基础总结">
<meta property="og:url" content="https://jiujiu.tj.cn/[object%20Object]/%E5%9F%BA%E7%A1%80%E6%80%BB%E7%BB%93/index.html">
<meta property="og:site_name" content="山有木兮木有枝，心悦君兮君未知">
<meta property="og:description" content="总结 markdaown 语法 123456789101112131415基础语法标题：一级标题[# 正文]二级标题[## 正文]目录：[TOC]加粗字体：**正文**倾斜字体：*正文*超链接：[正文](网址)分割线：---空格语法框：&#96;&#96;&#96;bash    #快捷： ctrl+shift+k穿插图片：![](图片位置路径)分类;[减号空格]二级分类：[删除减号空格]后此类推，回到一级分类：回车回车">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/07/07/DSWPAi9QK2Zat5j.png">
<meta property="og:image" content="https://s2.loli.net/2023/07/07/rUg1bojFwtPBsCe.png">
<meta property="og:image" content="https://s2.loli.net/2023/07/07/ePkamLG5JgZdsfR.png">
<meta property="og:image" content="https://s2.loli.net/2023/07/07/lu3aQeqpwoDGb8I.png">
<meta property="article:published_time" content="2023-07-07T07:39:03.000Z">
<meta property="article:modified_time" content="2023-07-07T07:39:40.783Z">
<meta property="article:author" content="酒酒">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/07/07/DSWPAi9QK2Zat5j.png">
  
  <!-- 站点验证相关 -->
  
    
    
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" media="all"></script>
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-color-dark.min.css" media="(prefers-color-scheme: dark)"></script>
    <script src="/js/kr-dark.min.js"></script>
  
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" media="all"></script>
  
  <link rel="stylesheet" id="fontawe-css" href="/vendors/font-awesome@4.7.0/css/font-awesome.min.css" media="all"></script>
  <link rel="stylesheet" id="nprogress-css" href="/vendors/nprogress@0.2.0/nprogress.css" media="all"></script>
  
  
    <link rel="stylesheet" href="/vendors/aplayer@1.10.1/dist/APlayer.min.css"></script>
  
  
    <link rel="stylesheet" href="/vendors/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"></script>
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="/vendors/jquery@3.6.0/dist/jquery.min.js"></script>
  
    <script src="/vendors/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  
  <style>
    
      .kratos-cover.kratos-cover-2 {
        background-image: url('/images/banner.webp');
      }
    
    
      @media(min-width:768px) {
        body.custom-background {
          background-image: url('/images/bg.webp');
        }
      }
    
  </style>
  
<meta name="generator" content="Hexo 6.3.0"></head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">山有木兮木有枝，心悦君兮君未知</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>山有木兮木有枝，心悦君兮君未知</h2> <br />
                        <span>酒酒</span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        

            <section class="col-md-8">

        

            <article itemscope itemtype="https://schema.org/Article">
    
    <link itemprop="mainEntityOfPage" href="https://jiujiu.tj.cn/[object%20Object]/%E5%9F%BA%E7%A1%80%E6%80%BB%E7%BB%93/">
    <div class="kratos-hentry kratos-post-inner clearfix">
        <header class="kratos-entry-header">
            
                <h1 class="kratos-entry-title text-center" itemprop="name headline">基础总结</h1>
            
            
            <ul class="kratos-post-meta text-center">
                <li><time datetime="2023-07-07T07:39:03.000Z" itemprop="datePublished"><i class="fa fa-calendar"></i> 2023-07-07</time></li>
                <li itemprop="author" itemscope itemtype="https://schema.org/Person">
                    <i class="fa fa-user"></i> 作者 <span itemprop="name">酒酒</span>
                </li>
                
                    <li>
                        <i class="fa fa-edit"></i> 
                        
                        
                            ~43.69K
                        
                        字
                    </li>
                
                
            </ul>
        </header>
        <div class="kratos-post-content">
            
            <div id="expire-alert" class="alert alert-warning hidden" role="alert">
                <div class="icon"><i class="fa fa-warning"></i></div>
                <div class="text"><p>本文最后编辑于 <time datetime="1688715580783"></time> 前，其中的内容可能需要更新。</p></div>
            </div>
            
            
            
            <hr />
            <div itemprop="articleBody"><p>总结</p>
<p>markdaown 语法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">基础语法</span><br><span class="line">标题：一级标题[<span class="comment"># 正文]二级标题[## 正文]</span></span><br><span class="line">目录：[TOC]</span><br><span class="line">加粗字体：**正文**</span><br><span class="line">倾斜字体：*正文*</span><br><span class="line">超链接：[正文](网址)</span><br><span class="line">分割线：---空格</span><br><span class="line">语法框：```bash    <span class="comment">#快捷： ctrl+shift+k</span></span><br><span class="line">穿插图片：![](图片位置路径)</span><br><span class="line">分类;[减号空格]二级分类：[删除减号空格]后此类推，回到一级分类：回车回车...</span><br><span class="line">高亮：``正文``</span><br><span class="line">插入表格：| | |  <span class="comment">#快捷：ctrl+t</span></span><br><span class="line">勾选：【减号空格中括号x】 [- [x] ]</span><br><span class="line">颜色选项：例&lt;font color = <span class="string">&#x27;red&#x27;</span>&gt;苹果&lt;/font&gt;  <span class="string">&#x27;可以写任何颜色&#x27;</span></span><br><span class="line">引用：&gt;空格</span><br></pre></td></tr></table></figure>
<p>计算机的组成</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#计算机的组成：</span></span><br><span class="line">显示器</span><br><span class="line"><span class="comment">##硬件 </span></span><br><span class="line">主板：搭载其他硬件 </span><br><span class="line">CPU：计算机的大脑 </span><br><span class="line">内存：临时储存空间 </span><br><span class="line">磁盘：永久储存空间 </span><br><span class="line">显卡：处理图片 </span><br><span class="line">电源：给计算机供电 </span><br><span class="line">风扇：给CPU散热 </span><br><span class="line"><span class="comment">##输出和输入设备 </span></span><br><span class="line">显示器 鼠标麦克风</span><br></pre></td></tr></table></figure>
<p>网络连接的三种定义</p>
<p>桥接模式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">桥接模式下虚拟机和主机同处于一个网段，物理机可以ping虚拟机，虚拟机也可以ping物理机</span><br><span class="line">但是，这种模式下虚拟机的安全性会受到很大威胁，因为只要知道物理机IP外部就可以谁都访问虚拟机</span><br></pre></td></tr></table></figure>
<p>NAT 模式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">虚拟机和主机构建一个专用网络，并通过虚拟机网络地址转换(nat)设备对物理机ip进行转换，虚拟机通过共享主机ip可以访问外部网络</span><br><span class="line">但是，其他物理机访问不了虚拟机，只局限于本台物理机访问</span><br></pre></td></tr></table></figure>
<p>仅主机模式</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">物理机与主机共用一个网络，无法访问外部，</span><br></pre></td></tr></table></figure>
<p>IP 丶网关丶子网掩码丶 DNS</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">IP:ipv4（Internet Protocol version 4）由4个8位二进制位表示，每8位有一个.隔开。8位二进制位的范围是0-255。根据IPv4地址的第一个字节（前8位），可对其分为A-E类，其中A类为0-126，B类为128-191，C类为192-223,127.0.0.1为回环地址</span><br><span class="line"></span><br><span class="line">子网掩码:子网掩码跟ip地址成对存在。如255.255.255.0就说明ip前24位为网段位，剩余8位为主机位。一段为8个位，在一个局域网里，同一网段的两ip能互相连接。</span><br><span class="line"></span><br><span class="line">网关：（Gateway）能实现不同网络之间的互相通信。网关是一个ip地址，一般为同一网段的第一个有效地址或最后一个。如网关192.168.154.2是该网段的第二个有效地址（192.168.154.0是网段，192.168.154.255是广播地址，192.168.154.1到192.168.154.254是该网段有效ip地址）</span><br><span class="line"></span><br><span class="line">DNS:域名系统（Domain Name System，缩写：DNS）是互联网的一项服务。平时浏览网页明显是用一串字符访问的，但要与服务器通信当然要知道该服务器的ip地址，用ip地址访问。所以中间是先访问了DNS服务器，DNS给我们把字符串解析成ip了，然后再用ip访问所想的服务器。当然如果已经知道访问的字符串对应ip地址了，就不用请求DNS了，比如有缓存</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>修改网卡</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#修改IP或者设置为静态， 网卡的配置文件编辑</span></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># vim /etc/sysconfig/network-scripts/ifcfg-ens33</span></span><br><span class="line">TYPE=<span class="string">&quot;Ethernet&quot;</span>         <span class="comment">#网卡类型：为以太网</span></span><br><span class="line">PROXY_METHOD=<span class="string">&quot;none&quot;</span>     <span class="comment">#代理方式：关闭状态</span></span><br><span class="line">BROWSER_ONLY=<span class="string">&quot;no&quot;</span></span><br><span class="line">BOOTPROTO=<span class="string">&quot;static&quot;</span>      <span class="comment">#IP的配置方法[none|static|bootp|dhcp]（引导时不使用协议|静态分配IP|BOOTP协议|DHCP协议动态获取ip）</span></span><br><span class="line">IPADDR=10.10.10.10     <span class="comment">#本机地址（静态方式需要指定本地Ip,dhcp动态获取不需要这个字段）</span></span><br><span class="line">NETMASK=24              <span class="comment">#子网掩码  或者255.255.255.0</span></span><br><span class="line">DEFROUTE=<span class="string">&quot;yes&quot;</span></span><br><span class="line">IPV4_FAILURE_FATAL=<span class="string">&quot;no&quot;</span>  <span class="comment"># 是否开启IPV4致命错误检测：否</span></span><br><span class="line">IPV6INIT=<span class="string">&quot;yes&quot;</span>          <span class="comment"># IPV6是否自动初始化: 是  </span></span><br><span class="line">IPV6_AUTOCONF=<span class="string">&quot;yes&quot;</span>      <span class="comment">#IPV6是否自动配置：是</span></span><br><span class="line">IPV6_DEFROUTE=<span class="string">&quot;yes&quot;</span></span><br><span class="line">IPV6_FAILURE_FATAL=<span class="string">&quot;no&quot;</span></span><br><span class="line">IPV6_ADDR_GEN_MODE=<span class="string">&quot;stable-privacy&quot;</span>     <span class="comment"># IPV6地址生成模型</span></span><br><span class="line">NAME=<span class="string">&quot;ens33&quot;</span>        <span class="comment">#网卡名字（与DEVICE一致）</span></span><br><span class="line">UUID=<span class="string">&quot;fcf797fd-b300-4106-9123-daec72ca6e92&quot;</span></span><br><span class="line">DEVICE=<span class="string">&quot;ens33&quot;</span>         <span class="comment">#接口名（设备,网卡)</span></span><br><span class="line">ONBOOT=<span class="string">&quot;yes&quot;</span>           <span class="comment">#系统启动的时候网络接口是否有效（yes/no）</span></span><br><span class="line">                                                 </span><br></pre></td></tr></table></figure>
<p>虚拟机的克隆和快照</p>
<p>快照：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">快照相当于存档意思，可以在我们虚拟机出现文档损害情况下，使用快照回档恢复到文档损害之前</span><br></pre></td></tr></table></figure>
<p>克隆：</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">克隆的前提条件;</span><br><span class="line">不能克隆处于开机状态下或者挂起的虚拟机，开机状态保存的快照也不能保存，只能克隆关机状态下的虚拟机</span><br><span class="line">类似于复制一份当前虚拟机状态</span><br></pre></td></tr></table></figure>
<p>shell 命令初始</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line">命令 [-options] [ ] </span><br><span class="line"><span class="built_in">command</span> - 选项 参数 </span><br><span class="line"> 命令空格[选项]空格[参数] </span><br><span class="line"><span class="built_in">ls</span> --&gt; 目录 list <span class="comment">#列表形式展开 </span></span><br><span class="line">  -1   每列仅显示一个文件或目录名称。</span><br><span class="line">  -a或--all   列出目录下所有文件和目录，包括以 . 开头的隐含文件。</span><br><span class="line">  -A或--almost-all   显示所有文件和目录，但不显示现行目录（当前目录）和上层目录（当前目录的父目录）。</span><br><span class="line">  -b或--escape   显示脱离字符，即以八进制溢出序列表示不可打印的字符。</span><br><span class="line">  -B或--ignore-backups   忽略备份文件和目录，即不列出任何以<span class="string">&quot;~&quot;</span>字符结束的项目。</span><br><span class="line">  -c   以更改时间排序，显示文件和目录。</span><br><span class="line">  -C   以又上至下，从左到右的直行方式显示文件和目录名称。</span><br><span class="line">  -d或--directory   显示目录名称而非其内容。</span><br><span class="line">  -D或--dired   用Emacs的模式产生文件和目录列表。</span><br><span class="line">  -f   对输出的文件不进行排序，-aU 选项生效，-lst 选项失效。</span><br><span class="line">  -F或--classify   在执行文件，目录，Socket，符号连接，管道名称后面，各自加上<span class="string">&quot;*&quot;</span>,<span class="string">&quot;/&quot;</span>,<span class="string">&quot;=&quot;</span>,<span class="string">&quot;@&quot;</span>,<span class="string">&quot;|&quot;</span>号。</span><br><span class="line">  -g   次参数将忽略不予处理，即类似 -l,但不列出所有者。</span><br><span class="line">  -G或--no-group   不显示群组名称。</span><br><span class="line">  -h或--human-readable   用<span class="string">&quot;K&quot;</span>,<span class="string">&quot;M&quot;</span>,<span class="string">&quot;G&quot;</span>来显示文件和目录的大小。</span><br><span class="line">  -H或--si   此参数的效果和指定<span class="string">&quot;-h&quot;</span>参数类似，但计算单位是1000Bytes而非1024Bytes。</span><br><span class="line">  -i或--inode   显示文件和目录的inode编号。</span><br><span class="line">  -I&lt;范本样式&gt;或--ignore=&lt;范本样式&gt;   不显示符合范本样式的文件或目录名称。</span><br><span class="line">  -k或--kilobytes   此参数的效果和指定<span class="string">&quot;block-size=1024&quot;</span>参数相同。</span><br><span class="line">  -l   使用详细格式列表，除了文件名之外，还将文件的权限、所有者、文件大小等信息详细列出来。<span class="built_in">ls</span> -l 等于 ll</span><br><span class="line">  -L或--dereference   如遇到性质为符号连接的文件或目录，直接列出该连接所指向的原始文件或目录。</span><br><span class="line">  -m   用<span class="string">&quot;,&quot;</span>号区隔每个文件和目录的名称。</span><br><span class="line">  -n或--numeric-uid-gid   以用户识别码和群组识别码替代其名称。</span><br><span class="line">  -N或--literal   直接列出文件和目录名称，包括控制字符。</span><br><span class="line">  -o   此参数的效果和指定<span class="string">&quot;-l&quot;</span> 参数类似，但不列出群组名称或识别码。</span><br><span class="line">  -p或--file-type   此参数的效果和指定<span class="string">&quot;-F&quot;</span>参数类似，但不会在执行文件名称后面加上<span class="string">&quot;*&quot;</span>号。</span><br><span class="line">  -q或--hide-control-chars   用<span class="string">&quot;?&quot;</span>号取代控制字符，列出文件和目录名称。</span><br><span class="line">  -Q或--quote-name   把文件和目录名称以<span class="string">&quot;&quot;</span>号标示起来。</span><br><span class="line">  -r或--reverse   反向排序。</span><br><span class="line">  -R或--recursive   递归处理，将指定目录下的所有文件及子目录一并处理。</span><br><span class="line">  -s或--size   显示文件和目录的大小，以区块为单位。</span><br><span class="line">  -S   用文件和目录的大小排序。</span><br><span class="line">  -t   用文件和目录的更改时间排序。</span><br><span class="line">  -T&lt;跳格字符&gt;或--tabsize=&lt;跳格字数&gt;   设置跳格字符所对应的空白字符数。</span><br><span class="line">  -u   以最后存取时间排序，显示文件和目录。</span><br><span class="line">       同-lt 一起使用：按照访问时间排序并显示。</span><br><span class="line">	   同-l一起使用：显示访问时间并按文件名排序。</span><br><span class="line">	   其他：按照访问时间排序。</span><br><span class="line">  -U   列出文件和目录名称时不予排序，以文件系统原有的次序列出项目。</span><br><span class="line">  -v   文件和目录的名称列表以版本进行排序。</span><br><span class="line">  -w&lt;每列字符数&gt;或--width=&lt;每列字符数&gt;   设置每列的最大字符数。</span><br><span class="line">  -x   以从左到右，由上至下的横列方式显示文件和目录名称。</span><br><span class="line">  -X   以文件和目录的最后一个扩展名排序。</span><br><span class="line">  --block-size=&lt;区块大小&gt;   指定存放文件的区块大小。</span><br><span class="line">  --color=&lt;列表格式&gt;   培植文件和目录的列表格式。</span><br><span class="line">  --full-time   列出完整的日期与时间。</span><br><span class="line">  --<span class="built_in">help</span>   在线帮助。</span><br><span class="line">  --indicator-style=&lt;标注样式&gt;   在文件和目录等名称后面加上标注，易于辨识该名称所属的类型。</span><br><span class="line">  --quoting-syte=&lt;引号样式&gt;   把文件和目录名称以指定的引号样式标示起来。</span><br><span class="line">  --show-control-chars   在文件和目录列表时，使用控制字符。</span><br><span class="line">  --<span class="built_in">sort</span>=&lt;排序方式&gt;   配置文件和目录列表的排序方式。</span><br><span class="line">  --time=&lt;时间戳记&gt;   用指定的时间戳记取代更改时间。</span><br><span class="line">  --version   显示版本信息。</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>bashshell 的基本特性</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">当使用windows查找一个目录层级特别多的文件时，打开的效率会非常的慢，但如果使用linux查找一个目录 层级特别多的文件时，可以通过tab键快速补全。</span><br><span class="line"><span class="comment"># 命令补全 </span></span><br><span class="line">选项补全</span><br></pre></td></tr></table></figure>
<p>终端命令快捷键</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">ctrl + l 清屏 </span><br><span class="line">ctrl + c 终止命令的执行 </span><br><span class="line">ctrl + a 让光标跳转至行首 </span><br><span class="line">ctrl + e 让光标跳转至行末 </span><br><span class="line">ctrl + w 以空格为分隔符，删除光标前到空格的距离 </span><br><span class="line">ctrl + d 退出登录 </span><br><span class="line">ctrl + z 将命令挂后台运行 </span><br><span class="line">ctrl + k 删除光标所在到行末的所有 </span><br><span class="line">ctrl + u 删除光标所在行至行首的所有 </span><br><span class="line">ctrl + r 搜索历史命令 关键字查找 </span><br><span class="line">ctrl + s 锁屏 </span><br><span class="line">ctrl + q 解锁 </span><br><span class="line">ctrl + ← 左移动 </span><br><span class="line">ctrl + → 右移动 </span><br><span class="line">ESC + . 获取上一条命令最后的参数</span><br></pre></td></tr></table></figure>
<p>历史命令 history</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看历史命令 </span></span><br><span class="line"><span class="built_in">history</span> </span><br><span class="line"><span class="comment"># 清空历史命令 </span></span><br><span class="line"><span class="built_in">history</span> -c </span><br><span class="line"><span class="comment"># 删除指定的历史命令 </span></span><br><span class="line"><span class="built_in">history</span> -d （编号） </span><br><span class="line"><span class="comment"># 保存历史命令到文件 </span></span><br><span class="line"><span class="built_in">history</span> -w </span><br><span class="line"><span class="comment"># 保存的路径</span></span><br><span class="line">/root/.bash_history</span><br><span class="line"></span><br><span class="line"><span class="comment"># 执行上一条命令 </span></span><br><span class="line">!!</span><br><span class="line"><span class="comment"># 执行上一条相关命令 </span></span><br><span class="line">！vi</span><br><span class="line"><span class="comment"># 执行历史命令中的命令 </span></span><br><span class="line">！（编号</span><br></pre></td></tr></table></figure>
<p>alias 别名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 临时设置别名，一旦重启就会失效 </span></span><br><span class="line">例：</span><br><span class="line"><span class="built_in">alias</span> hi=<span class="string">&#x27;history&#x27;</span> </span><br><span class="line"><span class="built_in">alias</span> wk=<span class="string">&#x27;vi /etc/sysconfig/network-scripts/ifcfg-ens33&#x27;</span> </span><br><span class="line"><span class="comment"># 取消临时别名 unalias (别名名称)   如：unalias hi unalias wk </span></span><br><span class="line"><span class="comment"># 永久设置别名，修改配置文件： </span></span><br><span class="line">vi /etc/bashrc </span><br><span class="line">按G 跳转至文本最后一行 按o 在光标所在行下面进入编辑模式 输入你要设置的别名 </span><br><span class="line"><span class="built_in">alias</span> tong=<span class="string">&#x27;ping baidu.com&#x27;</span> </span><br><span class="line"><span class="comment"># 生效文件 source /etc/bashrc</span></span><br><span class="line"><span class="comment"># 查看所有别名 </span></span><br><span class="line"><span class="built_in">alias</span></span><br></pre></td></tr></table></figure>
<p>命令帮助手册</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#获取ls命令的帮助</span></span><br><span class="line">[root@hadoop100 ~]<span class="comment">#ls  --help</span></span><br><span class="line">man [命令]</span><br></pre></td></tr></table></figure>
<p>绝对路径 / 相对路径</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">绝对路径</span><br><span class="line">带/的路径就是绝对路径</span><br><span class="line">- 如：/etc/</span><br><span class="line">（波浪符)~是个特殊的绝对路径</span><br><span class="line">相对路径</span><br><span class="line">- 不带/的路径就是相对路径</span><br><span class="line">- 如：<span class="built_in">cd</span> etc  这种不带/的</span><br></pre></td></tr></table></figure>
<p>系统目录结构</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">/            <span class="comment">#第一层次结构的根、整个文件系统层次结构的根目录。</span></span><br><span class="line">/bin/       <span class="comment">#需要在单用户模式可用的必要命令（可执行文件）；面向所有用户，例如：cat、ls、cp，和/usr/bin类似。</span></span><br><span class="line">/boot/      <span class="comment">#引导程序文件，例如：kernel、initrd；时常是一个单独的分区</span></span><br><span class="line">/dev/       <span class="comment">#必要设备, 例如：, /dev/null  /dev/zero</span></span><br><span class="line">/etc/       <span class="comment">#特定主机，系统范围内的配置文件。关于这个名称目前有争议。在贝尔实验室关于UNIX实现文档的早期版本中，/etc 被称为/etcetra 目录，这是由于过去此目录中存放所有不属于别处的所有东西（然而，FHS限制/etc存放静态配置文件，不能包含二进制文件）。自从早期文档出版以来，目录名称已被以各种方式重新称呼。最近的解释包括反向缩略语如：&quot;可编辑的文本配置&quot;（英文 &quot;Editable Text Configuration&quot;）或&quot;扩展工具箱&quot;（英文 &quot;Extended Tool Chest&quot;)。</span></span><br><span class="line">/etc/opt/       <span class="comment">#/opt/的配置文件</span></span><br><span class="line">/etc/X11/       <span class="comment">#X_Window系统(版本11)的配置文件</span></span><br><span class="line">/etc/sgml/      <span class="comment">#SGML的配置文件</span></span><br><span class="line">/etc/xml/       <span class="comment">#XML的配置文件</span></span><br><span class="line">/home/          <span class="comment">#用户的家目录，包含保存的文件、个人设置等，一般为单独的分区。</span></span><br><span class="line">/lib/           <span class="comment">#/bin/ and /sbin/中二进制文件必要的库文件。</span></span><br><span class="line">/media/         <span class="comment">#可移除媒体(如CD-ROM)的挂载点 </span></span><br><span class="line">/lost+found     <span class="comment">#在ext3文件系统中，当系统意外崩溃或机器意外关机，会产生一些文件碎片在这里。当系统在开机启动的过程中fsck工具会检查这里，并修复已经损坏的文件系统。当系统发生问题。可能会有文件被移动到这个目录中，可能需要用手工的方式来修复，或移到文件到原来的位置上。</span></span><br><span class="line">/mnt/       <span class="comment">#临时挂载的文件系统。比如cdrom,u盘等，直接插入光驱无法使用，要先挂载后使用</span></span><br><span class="line">/opt/       <span class="comment">#可选应用软件包。</span></span><br><span class="line">/proc/      <span class="comment">#虚拟文件系统，将内核与进程状态归档为文本文件（系统信息都存放这目录下）。例如：uptime、 network。在Linux中，对应Procfs格式挂载。该目录下文件只能看不能改（包括root）</span></span><br><span class="line">/root/      <span class="comment">#超级用户的家目录</span></span><br><span class="line">/sbin/      <span class="comment">#必要的系统二进制文件，例如： init、 ip、 mount。sbin目录下的命令，普通用户都执行不了。</span></span><br><span class="line">/srv/       <span class="comment">#站点的具体数据，由系统提供。</span></span><br><span class="line">/tmp/       <span class="comment">#临时文件(参见 /var/tmp)，在系统重启时目录中文件不会被保留。</span></span><br><span class="line">/usr/       <span class="comment">#默认软件都会存于该目录下。用于存储只读用户数据的第二层次；包含绝大多数的(多)用户工具和应用程序。</span></span><br><span class="line">/var/       <span class="comment">#变量文件——在正常运行的系统中其内容不断变化的文件，如日志，脱机文件和临时电子邮件文件。有时是一个单独的分区。如果不单独分区，有可能会把整个分区充满。如果单独分区，给大给小都不合适。</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>常用目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">/etc        <span class="comment">#系统重要配置文件, 以及常用服务配置文件</span></span><br><span class="line">/var     <span class="comment">#存放系统引导启动时产生的可变文件,文件通常动态更改的,例如: 缓存目录,日志文件</span></span><br><span class="line">/run         <span class="comment"># 系统启动后, 运行的程序产生的运行时数据, 包括进程的pid文件,锁文件等</span></span><br><span class="line">/home        <span class="comment"># 普通用户的主目录, 普通用户的家目录默认为/HOME/USERNAME</span></span><br><span class="line">/root      <span class="comment"># 超级管理员的主目录, 普通用户无权操作</span></span><br><span class="line">/tmp        <span class="comment">#存放临时文件, 一般存放超过10天以上都会自动删除,可以更改删除临时文件的期限</span></span><br><span class="line">/boot        <span class="comment">#存放系统引导时候需要的文件</span></span><br><span class="line">/dev         <span class="comment">#存放设备文件</span></span><br><span class="line">/usr         <span class="comment">#安装的软件, 共享库, 重要的子目录</span></span><br><span class="line">/usr/bin    <span class="comment">#用户命令目录</span></span><br><span class="line">/usr/sbin    <span class="comment">#管理员命令目录</span></span><br><span class="line">/usr/local   <span class="comment">#本地自定义安装的软件</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">#//注 意:在Linux7系统中, /bin, /sbin, /lib, /lib64都以软链接的形式链接到/usr/目录下,例如:</span></span><br><span class="line">/bin  --&gt; /usr/bin</span><br><span class="line">/sbin --&gt; /usr/sbin</span><br><span class="line">lib -&gt; usr/lib</span><br><span class="line">lib64 -&gt; usr/lib64</span><br></pre></td></tr></table></figure>
<p>/dev</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">dev定义</span><br><span class="line"><span class="comment"># sda</span></span><br><span class="line">表示系统的第一块磁盘</span><br><span class="line"><span class="comment"># sda1</span></span><br><span class="line">表示系统的第一块磁盘第一个分区</span><br><span class="line"><span class="comment">#sda2</span></span><br><span class="line">表示系统的第一块磁盘第二个分区</span><br><span class="line">往后以此类推</span><br><span class="line"></span><br><span class="line"><span class="comment">#sdb</span></span><br><span class="line">表示系统的第二块磁盘</span><br><span class="line"><span class="comment">#sdb1</span></span><br><span class="line">表示系统的第二块磁盘第一个分区</span><br><span class="line"><span class="comment">#sdb2</span></span><br><span class="line">表示系统的第二块磁盘二个分区</span><br><span class="line">dev <span class="comment">#存放设备文件，比如硬盘，硬盘分区，光驱等 </span></span><br><span class="line">/dev/null <span class="comment">#黑洞设备，只进不出，类似于辣鸡回收站 </span></span><br><span class="line">/dev/random <span class="comment">#生成随机数的设备 </span></span><br><span class="line">/dev/zero <span class="comment">#能远远不断的产生数据，类似于取款机，随时随地取钱 </span></span><br><span class="line">/dev/pts/0 <span class="comment">#虚拟的Bash Shell终端，提供给远程用户使用，0：一个终端 1：2个终端...</span></span><br><span class="line"><span class="built_in">tty</span>（终端设备的统称）：<span class="built_in">tty</span>一词源于Teletypes，或teletypewriters，原来指的是电传打字机，是通过串行线用打印机键盘通过阅读和发送信息的东西，后来这东西被键盘和显示器取代，所以现在叫终端比较合适。终端是一种字符型设备，他有多种类型，通常使用<span class="built_in">tty</span>来简称各种类型的终端设备</span><br></pre></td></tr></table></figure>
<p>文件管理类</p>
<p>cd 切换目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">语法： <span class="built_in">cd</span> [目录]</span><br><span class="line">常用命令：</span><br><span class="line"><span class="built_in">cd</span>~ 进入当前用户目录</span><br><span class="line"><span class="built_in">cd</span>- 上次目录</span><br><span class="line"><span class="built_in">cd</span>.. 进入上一级目录</span><br><span class="line"><span class="built_in">pwd</span> 查看当前目录所在位置</span><br><span class="line">例：从当前目录切换到/etc/sudoers.d</span><br><span class="line">[root@hadoop101 ~]<span class="comment"># cd /etc/sudoers.d/</span></span><br></pre></td></tr></table></figure>
<p>mkdir 创建</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">语法： <span class="built_in">mkdir</span> [目录名]</span><br><span class="line">选项：</span><br><span class="line">-p （递归创建目录）</span><br><span class="line">-v 显示过程信息</span><br><span class="line">例：创建一个a目录，a目录里面创建一个b目录，b目录里面创建一个c目录  </span><br><span class="line">[root@hadoop101 ~]<span class="comment"># mkdir -p a/b/c</span></span><br><span class="line">序列用法;</span><br><span class="line"><span class="comment"># 序列用法</span></span><br><span class="line"><span class="built_in">mkdir</span> &#123;1..10&#125; </span><br><span class="line"><span class="built_in">mkdir</span> &#123;a..z&#125; </span><br><span class="line"><span class="built_in">mkdir</span> /opt/&#123;zls/&#123;1,2&#125;,oldboyedu&#125;</span><br><span class="line"><span class="built_in">mkdir</span> /&#123;opt,tmp,root,home&#125;</span><br></pre></td></tr></table></figure>
<p>touch 创建文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">语法:<span class="built_in">touch</span> 文件名</span><br><span class="line"><span class="comment"># 当前目录下创建xxx </span></span><br><span class="line"><span class="built_in">touch</span> xxx </span><br><span class="line"><span class="comment"># 在tmp目录下创建xxx </span></span><br><span class="line"><span class="built_in">touch</span> /tmp/xxx </span><br><span class="line"><span class="comment"># 序列 touch &#123;1..10&#125; </span></span><br><span class="line"><span class="built_in">touch</span> xxx&#123;1..10&#125; </span><br><span class="line"><span class="built_in">touch</span> &#123;1..10&#125;xxx</span><br></pre></td></tr></table></figure>
<p>tree 树状结构展开目录</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装tree </span></span><br><span class="line">yum install -y tree </span><br><span class="line"><span class="comment"># 语法 tree + 目录名 </span></span><br><span class="line">[root@localhost 19:43:13 4.2 ~]<span class="comment"># tree 222 </span></span><br><span class="line">222 └── 333 └── 444</span><br></pre></td></tr></table></figure>
<p>rm 删除</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法：<span class="built_in">rm</span> +文件名/目录</span><br><span class="line">-r；递归删除</span><br><span class="line">-f：强制删除</span><br><span class="line">-i :安全提示</span><br></pre></td></tr></table></figure>
<p>echo</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">echo</span>命令常用的两个选项： -n 和 -e</span><br><span class="line">-n : 表示输出之后不换行，直接显示新行的提示符</span><br><span class="line">-e : 表示对于转义字符按对应的方式进行处理。使用-e选项时，若字符串中出现以下字符，则特别加以处理，而不会将它当成一般文字输出，若不加-e ，那么在输出时转义字符会按照普通字符进行处理。</span><br><span class="line"><span class="comment"># 转义字符：用一些普通字符的组合来代替一些特殊字符，由于其组合改变了原来字符所表示的含义，因此称为转义字符</span></span><br><span class="line">\a	发出警告声</span><br><span class="line">\b	删除前一个字符</span><br><span class="line">\c	\c后面的字符将不再输出，同一时候，输出完毕后也不换行</span><br><span class="line">\f	换页符，光标停在原来的位置</span><br><span class="line">\n	换行且光标移至行首</span><br><span class="line">\r	回车符</span><br><span class="line">\t	水平制表符，也就是Tab键</span><br><span class="line">\v	垂直制表符</span><br><span class="line">\	插入\字符</span><br><span class="line">\e	Esc键</span><br><span class="line">\0nnn	按照八进制 ASCII 码表输出字符。其中 0 为数字 0，nnn 是三位八进制数</span><br><span class="line">\xhh	按照十六进制 ASCH 码表输出字符。其中 hh 是两位十六进制数</span><br></pre></td></tr></table></figure>
<p>cp：复制丶拷贝</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">语法 <span class="built_in">cp</span> [选项] 源文件 目标文件</span><br><span class="line">选项：</span><br><span class="line">-a：相当于 -v、-p、-r 选项的集合，</span><br><span class="line">-i：询问，如果目标文件已经存在，则会询问是否覆盖；</span><br><span class="line">-p：复制后目标文件保留源文件的属性（包括所有者、所属组、权限和时间）；</span><br><span class="line">-r：递归复制，用于复制目录；</span><br></pre></td></tr></table></figure>
<p>mv：移动 / 改名</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法：<span class="built_in">mv</span> [原文件目录][目标文件目录]</span><br><span class="line">常用选项：</span><br><span class="line">-i 安全机制，如果有相同文件，会提示你是否覆盖 </span><br><span class="line">-v 显示过程</span><br></pre></td></tr></table></figure>
<p>cat：查看文件内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">语法：<span class="built_in">cat</span> 选项 文件</span><br><span class="line">选项：</span><br><span class="line">-n：显示行号</span><br><span class="line">-E：显示文件内容行数的末尾标识$</span><br><span class="line">-T:将tab显示为 ^I</span><br><span class="line">-A：等价于 -ET</span><br><span class="line"><span class="comment">#追加内容</span></span><br><span class="line"><span class="built_in">cat</span> &gt;&gt; txt &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<p>拓展：less/more/head/tail</p>
<h5 id="lessmore"><a class="markdownIt-Anchor" href="#lessmore">#</a> less/more</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#回车 :一行一行翻页 </span></span><br><span class="line">空格 :一页一页翻页 </span><br><span class="line">ctrl+b:往上翻页</span><br><span class="line">q:退出</span><br></pre></td></tr></table></figure>
<h5 id="headtail"><a class="markdownIt-Anchor" href="#headtail">#</a> head/tail</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">head</span></span><br><span class="line"><span class="comment"># 默认 </span></span><br><span class="line">查看文件默认的前10行 :<span class="built_in">head</span> </span><br><span class="line"><span class="built_in">head</span> 选项 文件名 </span><br><span class="line">-n :选填数字</span><br><span class="line">-1 <span class="comment">#查看第一行 </span></span><br><span class="line">-2 <span class="comment">#查看前两行 </span></span><br><span class="line">-5 <span class="comment">#前五行</span></span><br><span class="line"><span class="built_in">tail</span></span><br><span class="line"><span class="comment"># 默认 </span></span><br><span class="line">查看文件的后10行 </span><br><span class="line">-n number </span><br><span class="line">-f ： 实时追踪文件</span><br><span class="line"><span class="built_in">tail</span> -1 查看文件末行 </span><br><span class="line"><span class="built_in">tail</span> -2 查看文件最后两行</span><br><span class="line"><span class="built_in">tail</span> -f：实时追踪变化</span><br><span class="line"><span class="comment"># 例：查看文件txt的变化</span></span><br><span class="line">[root@hadoop100 ~]<span class="comment"># tail -f like </span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>上传 / 下载：rz  sz</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">首先安装：yum install -y lrzsz</span><br><span class="line">rz 上传到linux</span><br><span class="line">sz 下载到windows</span><br><span class="line"><span class="comment">#wget + 文件网址链接也可下载</span></span><br><span class="line">wget + URL</span><br></pre></td></tr></table></figure>
<h4 id="whichwhereis"><a class="markdownIt-Anchor" href="#whichwhereis">#</a> which/whereis</h4>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">语法：<span class="built_in">which</span> [命令]</span><br><span class="line"><span class="comment"># 找命令的绝对路径</span></span><br><span class="line">[root@Hadoop102 ~]<span class="comment"># which touch</span></span><br><span class="line">/usr/bin/touch</span><br></pre></td></tr></table></figure>
<p>排序 / 去重：sort /uniq</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">语法：<span class="built_in">sort</span> 选项 文件</span><br><span class="line"><span class="comment"># 选项</span></span><br><span class="line">-t 指定分隔符</span><br><span class="line">-k 分割区域进行排序</span><br><span class="line">-n 按照数值的大小排序</span><br><span class="line">-r 倒叙  <span class="comment">#//默认顺序</span></span><br><span class="line"></span><br><span class="line"><span class="built_in">uniq</span></span><br><span class="line"><span class="comment">#uniq必须配合sort使用</span></span><br><span class="line">-c 统计去重后的每个值的数量</span><br><span class="line">[root@localhost ~]<span class="comment"># cat 1.txt | sort | uniq -c</span></span><br><span class="line">6 123</span><br><span class="line">6 abc</span><br></pre></td></tr></table></figure>
<p>截取：cut</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">语法：<span class="built_in">cut</span> [选项] [文件名]</span><br><span class="line">选项：</span><br><span class="line">-d 指定分隔符</span><br><span class="line">-f 指定第几列</span><br><span class="line">-c 按字符集截取</span><br><span class="line">例：配合grep截取ip</span><br><span class="line">[root@hadoop103 ~]<span class="comment"># ifconfig ens33 | grep &#x27;inet&#x27;</span></span><br><span class="line">        inet 192.168.16.13  netmask 255.255.255.0  broadcast 192.168.16.255</span><br><span class="line">[root@hadoop103 ~]<span class="comment"># ifconfig ens33 | grep &#x27;inet&#x27; | cut -d &#x27; &#x27; -f10</span></span><br><span class="line">192.168.16.13</span><br></pre></td></tr></table></figure>
<p>tr：临时替换字符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#将逗号替换成空格</span></span><br><span class="line"><span class="built_in">tr</span> <span class="string">&#x27;,&#x27;</span> <span class="string">&#x27; &#x27;</span></span><br><span class="line"><span class="built_in">tr</span></span><br><span class="line">一换一</span><br><span class="line">‘ 换 空格</span><br><span class="line">“ 换 空格</span><br><span class="line">例：利用<span class="built_in">tr</span>替换计算权限</span><br><span class="line">[root@hadoop101 ~]<span class="comment">#ll</span></span><br><span class="line">total 0</span><br><span class="line">drwxr-xr-x. 2 root root 6 Apr  6 11:49 jiujiu</span><br><span class="line">-rw-r--r--. 1 root root 0 Apr  6 11:49 like</span><br><span class="line">[root@hadoop101 ~]<span class="comment">#ll | tr &#x27;rwx-&#x27; &#x27;4210&#x27; | awk -F &#x27;&#x27; &#x27;NR==2&#123;print 2+$3+$4&quot;&quot;$5+$6+$7&quot;&quot;$8+$9+$10&#125;&#x27; </span></span><br><span class="line">755</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>wc：统计</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 统计</span></span><br><span class="line">-l 统计行数</span><br><span class="line">[root@localhost ~]<span class="comment"># wc -l /etc/services</span></span><br><span class="line">11176 /etc/services</span><br><span class="line">-c 统计字节</span><br><span class="line">[root@localhost ~]<span class="comment"># wc -c /etc/services</span></span><br><span class="line">670293 /etc/services</span><br><span class="line">-w 统计单词数</span><br><span class="line">[root@localhost ~]<span class="comment"># wc -w /etc/services</span></span><br><span class="line">61033 /etc/services</span><br><span class="line">-L 找出文件中的最长一行，统计元素个数</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># cat 99</span></span><br><span class="line">123</span><br><span class="line">1234</span><br><span class="line">123456</span><br><span class="line">1233456</span><br><span class="line">12433454</span><br><span class="line">123456789</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># cat 99| wc -L</span></span><br><span class="line">9</span><br></pre></td></tr></table></figure>
<p>find 查找</p>
<p>按名字查找</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">语法： find 路径 选项 参数</span><br><span class="line">-name</span><br><span class="line"><span class="comment"># 在根号底下找名字为1.txt的文件或者目录</span></span><br><span class="line">find / -name 1.txt</span><br><span class="line"><span class="comment"># 不区分大小写</span></span><br><span class="line">[root@pkq ~]<span class="comment"># find /root -name 1.txt</span></span><br><span class="line">/root/1.txt</span><br><span class="line">[root@pkq ~]<span class="comment"># find /root -iname 1.txt</span></span><br><span class="line">/root/1.txt</span><br><span class="line">/root/1.TXT</span><br><span class="line"><span class="comment"># 找.txt结尾的</span></span><br><span class="line">find / -name <span class="string">&quot;*.txt&quot;</span></span><br></pre></td></tr></table></figure>
<p>按照文件类型</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line">find 路径 选项 参数</span><br><span class="line">-name</span><br><span class="line"><span class="comment"># 在根号地下找名字为1.txt的文件或者目录</span></span><br><span class="line">find / -name 1.txt</span><br><span class="line"><span class="comment"># 不区分大小写</span></span><br><span class="line">[root@pkq ~]<span class="comment"># find /root -name 1.txt</span></span><br><span class="line">/root/1.txt</span><br><span class="line">[root@pkq ~]<span class="comment"># find /root -iname 1.txt</span></span><br><span class="line">/root/1.txt</span><br><span class="line">/root/1.TXT</span><br><span class="line"><span class="comment"># 找.txt结尾的</span></span><br><span class="line">find / -name <span class="string">&quot;*.txt&quot;</span></span><br><span class="line">-<span class="built_in">type</span></span><br><span class="line">	d 目录</span><br><span class="line">	f 文件 file</span><br><span class="line">	l 链接文件</span><br><span class="line">	s socket 套接字文件</span><br><span class="line">	p 管道文件</span><br><span class="line">	b 块设备 磁盘</span><br><span class="line">    c 块设备 设备</span><br><span class="line"><span class="comment"># root下找文件</span></span><br><span class="line">find /root -<span class="built_in">type</span> f</span><br><span class="line"><span class="comment"># root下找目录</span></span><br><span class="line">find /root -<span class="built_in">type</span> d</span><br><span class="line"><span class="comment"># 根号下找socket文件</span></span><br><span class="line">find / -<span class="built_in">type</span> s</span><br><span class="line"><span class="comment"># 根号下找c设备文件</span></span><br><span class="line">find / -<span class="built_in">type</span> c</span><br><span class="line"><span class="comment"># 根号下找块设备文件</span></span><br><span class="line">find / -<span class="built_in">type</span> b</span><br><span class="line"><span class="comment"># 根号下找链接文件</span></span><br><span class="line">find / -<span class="built_in">type</span> l</span><br><span class="line"><span class="comment"># 根号下找管道文件</span></span><br><span class="line">find / -<span class="built_in">type</span> p</span><br></pre></td></tr></table></figure>
<p>按照用户查找</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 根据文件用户查找</span></span><br><span class="line">-user</span><br><span class="line"><span class="comment"># 查找home下属主是baolong</span></span><br><span class="line">[root@pkq ~]<span class="comment"># find /home -user baolong</span></span><br><span class="line">/home/baolong</span><br><span class="line">/home/baolong/.bash_logout</span><br><span class="line">-group</span><br><span class="line"><span class="comment"># 查找home下属组是baolong</span></span><br><span class="line">[root@pkq ~]<span class="comment"># find /home -group baolong</span></span><br><span class="line">/home/baolong</span><br><span class="line">/home/baolong/.bash_logout</span><br><span class="line">/home/baolong/.bash_profile</span><br><span class="line">[root@pkq ~]<span class="comment"># find /home -user baolong -o -user oldboy1</span></span><br><span class="line">/home/baolong</span><br><span class="line">/home/baolong/.bash_log</span><br><span class="line">[root@pkq /home/baolong]<span class="comment"># find /home -user baolong -a -group oldboy1</span></span><br><span class="line">/home/baolong/2</span><br><span class="line"><span class="comment"># 没有属主 属组</span></span><br><span class="line">find /home/ -nouser</span><br><span class="line">find /home/ -nogroup</span><br></pre></td></tr></table></figure>
<p>按照时间查找</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">stat</span> ：查看目录或者文件改变情况</span><br><span class="line">-mtime Modified time 是在写入文件时随文件内容的更改而更改的</span><br><span class="line"><span class="comment"># 修改内容的命令都会刷新mtime 和 ctime</span></span><br><span class="line">-atime Access time 是在读取文件或者执行文件时更改</span><br><span class="line"><span class="comment"># 类似 cat vim命令都会刷新atime</span></span><br><span class="line">-ctime Change time 是在写入文件、更改所有者、权限或链接设置</span><br><span class="line"><span class="comment"># 修改内容的命令都会刷新mtime 和 ctime 只有修改文件属性的时候ctime才会单独刷新时间戳</span></span><br><span class="line"><span class="comment">## 按照mtime时间查找</span></span><br><span class="line"><span class="comment"># +7 查找七天之前的文件，不包含当天</span></span><br><span class="line">find / -<span class="built_in">type</span> f -name <span class="string">&#x27;*.txt&#x27;</span> -mtime +7</span><br><span class="line"><span class="comment"># -7 查找最近7天的文件，包含当天</span></span><br><span class="line">find / -<span class="built_in">type</span> f -name <span class="string">&#x27;*.txt&#x27;</span> -mtime -7</span><br><span class="line"><span class="comment"># 7 查找不包含当天的，往前数第7天</span></span><br><span class="line">find / -<span class="built_in">type</span> f -name <span class="string">&#x27;*.txt&#x27;</span> -mtime 7</span><br></pre></td></tr></table></figure>
<p>按照大小查找</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-size</span><br><span class="line">+5M 查找大于5M的</span><br><span class="line">-5M 查找小于5M的</span><br><span class="line">5M 精确查找5M</span><br><span class="line"><span class="comment"># 查找根号地下小于5M 大于1M</span></span><br><span class="line">find / -size -5M -a -size +1M</span><br><span class="line">find / -<span class="built_in">type</span> f -size 11k</span><br></pre></td></tr></table></figure>
<h5 id="find按照深度查找"><a class="markdownIt-Anchor" href="#find按照深度查找">#</a> find 按照深度查找</h5>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">-maxdepth </span><br><span class="line"><span class="comment"># 查找一级目录</span></span><br><span class="line">find /etc/ -<span class="built_in">type</span> d -maxdepth 1</span><br><span class="line"><span class="comment"># 查找二级目录</span></span><br><span class="line">find /etc/ -<span class="built_in">type</span> d -maxdepth 2</span><br><span class="line"><span class="comment"># 查找三级目录</span></span><br><span class="line">find /etc/ -<span class="built_in">type</span> d -maxdepth 3</span><br></pre></td></tr></table></figure>
<p>find 按照权限查找</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line">-perm</span><br><span class="line">[root@pkq ~]<span class="comment"># find -perm 644</span></span><br><span class="line">./.bash_logout</span><br><span class="line">./.bash_profile</span><br><span class="line">./.cshrc</span><br><span class="line">./.tcshrc</span><br><span class="line">./.bashrc</span><br><span class="line">[root@pkq ~]<span class="comment"># find ./ -perm 600</span></span><br><span class="line">./.bash_history</span><br><span class="line">./1.txt</span><br><span class="line">./.viminfo</span><br><span class="line"><span class="comment"># 精确查找</span></span><br><span class="line">-perm 222</span><br><span class="line"><span class="comment"># 模糊匹配-后面的对应权限</span></span><br><span class="line">-perm -222</span><br><span class="line"><span class="comment">#</span></span><br><span class="line">find /home -perm /442</span><br><span class="line">r rw rwx r</span><br><span class="line">r rw rwx r</span><br><span class="line">w wx rw rwx</span><br><span class="line">//包含<span class="built_in">set</span> uid</span><br><span class="line">[root@zls ~]<span class="comment"># find /usr/sbin -perm -4000 -ls</span></span><br><span class="line">//包含<span class="built_in">set</span> gid</span><br><span class="line">[root@zls ~]<span class="comment"># find /usr/sbin -perm -2000 -ls</span></span><br><span class="line">//包含sticky</span><br><span class="line">[root@zls ~]<span class="comment"># find /usr/sbin -perm -1000 -ls</span></span><br></pre></td></tr></table></figure>
<p>find 的动作（了解，并不用）</p>
<table>
<thead>
<tr>
<th><strong>动作</strong></th>
<th><strong>含义</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>-print</td>
<td>打印查找到的内容（默认）</td>
</tr>
<tr>
<td>-ls</td>
<td>以长格式显示的方式打印查找到的内容</td>
</tr>
<tr>
<td>-delete</td>
<td>删除查找到的文件（仅能删除空目录）</td>
</tr>
<tr>
<td>-ok</td>
<td>后面跟自定义 shell 命令（会提示是否操作</td>
</tr>
<tr>
<td>-exec</td>
<td>后面跟自定义 shell 命令（标准写法 - exec  ;</td>
</tr>
</tbody>
</table>
<p>文件属性 / 权限修改</p>
<p>文件属性</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r--. 1 root root 0 Mar 16 10:14 1</span><br><span class="line">- 文件类型</span><br><span class="line">rw-r--r--. 文件权限</span><br><span class="line">1 硬链接数量</span><br><span class="line">root 属主</span><br><span class="line">root 属组</span><br><span class="line">0 文件大小</span><br><span class="line">Mar 16 10:14 时间戳</span><br></pre></td></tr></table></figure>
<p>文件类型</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -l 文件名 //看第一个字符</span><br><span class="line">格式 说明</span><br><span class="line">- 普通文件(文本, 二进制, 压缩, 图片, 日志等)</span><br><span class="line">d 目录文件</span><br><span class="line">b 设备文件(块设备)存储设备硬盘 /dev/sda1, /dev/sda2</span><br><span class="line">c 设备文件(字符设备)打印机，终端 /dev/tty1, /dev/zero</span><br><span class="line">s 套接字文件, 进程间通信(socket)</span><br><span class="line">p 管道文件</span><br><span class="line">l 链接文件</span><br></pre></td></tr></table></figure>
<p>查看磁盘空间 /inode/block</p>
<p>inode</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">inode包含文件的元信息，具体来说有以下内容：</span><br><span class="line">	* 文件的字节数</span><br><span class="line">　　* 文件拥有者的User ID</span><br><span class="line">　　* 文件的Group ID</span><br><span class="line">　　* 文件的读、写、执行权限</span><br><span class="line">　　* 文件的时间戳，共有三个：ctime指inode上一次变动的时间，mtime指文件内容上一次变动的时间，atime指文件上一次打开的时间。</span><br><span class="line">　　* 链接数，即有多少文件名指向这个inode</span><br><span class="line">　　* 文件数据block的位置</span><br></pre></td></tr></table></figure>
<p>block</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">1.Block的概念</span><br><span class="line">block也就是通常所说的代码块，block可以用来存储代码。block用来封装和存储代码是和函数差不多的，block可以在任何时候执行。</span><br><span class="line">block和函数有以下相似性：保存代码；有返回值；有形参；调用方式一样。</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># df 查看磁盘空间</span></span><br><span class="line">-h :以人性化的显示</span><br><span class="line">-i 查看inode空间</span><br><span class="line">例：</span><br><span class="line">[root@localhost ~]<span class="comment"># df -h</span></span><br><span class="line">Filesystem Size Used Avail Use% Mounted on</span><br><span class="line">/dev/sda3 19G 1.2G 18G 7% /</span><br><span class="line">devtmpfs 476M 0 476M 0% /dev</span><br><span class="line">tmpfs 487M 0 487M 0% /dev/shm</span><br><span class="line">tmpfs 487M 7.7M 479M 2% /run</span><br><span class="line">tmpfs 487M 0 487M 0% /sys/fs/cgroup</span><br><span class="line">/dev/sda1 497M 120M 378M 25% /boot</span><br><span class="line">tmpfs 98M 0 98M 0% /run/user/0</span><br><span class="line"><span class="comment">#查看inode</span></span><br><span class="line">例：</span><br><span class="line">[root@localhost ~]<span class="comment"># df -i</span></span><br><span class="line">Filesystem Inodes IUsed IFree IUse% Mounted on</span><br><span class="line">/dev/sda3 9704960 27494 9677466 1% /</span><br><span class="line">devtmpfs 121773 373 121400 1% /dev</span><br><span class="line">tmpfs 124487 1 124486 1% /dev/shm</span><br><span class="line">tmpfs 124487 712 123775 1% /run</span><br><span class="line">tmpfs 124487 16 124471 1% /sys/fs/cgroup</span><br><span class="line">/dev/sda1 256000 326 255674 1% /boot</span><br><span class="line">tmpfs 124487 1 124486 1% /run/user/0</span><br></pre></td></tr></table></figure>
<p>软链接 / 硬链接</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 创建软连接的命令</span></span><br><span class="line"><span class="built_in">ln</span>  链接 创建链接文件</span><br><span class="line">选项：</span><br><span class="line">-s  软 创建软链接</span><br><span class="line"><span class="built_in">ln</span> -s 源文件 链接文件地址名字</span><br><span class="line"><span class="comment"># 例子</span></span><br><span class="line"><span class="built_in">ln</span> -s 2.txt amusitelanghuixuanamusitelangpao</span><br><span class="line"><span class="built_in">ln</span> -s 2.txt /tmp/amusitelang</span><br><span class="line"><span class="comment"># 软连接受到源文件的影响</span></span><br><span class="line"><span class="built_in">ln</span> -s web.txt web.log</span><br><span class="line"><span class="comment"># 删除源文件</span></span><br><span class="line">[root@localhost ~]<span class="comment"># rm -fr web.txt</span></span><br><span class="line"><span class="comment"># 软连接文件失效</span></span><br><span class="line">[root@localhost ~]<span class="comment"># cat web.log</span></span><br><span class="line"><span class="built_in">cat</span>: web.log: No such file or directory <span class="comment">#链接失效报错</span></span><br><span class="line"><span class="comment">## 特性</span></span><br><span class="line">1.硬链接和源文件的inode号一致</span><br><span class="line">2.硬链接不受源文件影响，即使源文件删除，也不影响硬链接</span><br><span class="line">3.硬链接不能针对目录创建硬链接</span><br><span class="line">4.修改源文件，硬链接也会同步更新，修改硬链接，源文件也会同步更新</span><br><span class="line">5.一个新创建的目录会有两个硬链接，一个是目录本身，另一个是影藏的当前目录</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>区别</th>
<th>硬链接</th>
<th>软链接</th>
</tr>
</thead>
<tbody>
<tr>
<td>命令</td>
<td>ln</td>
<td>ln -s</td>
</tr>
<tr>
<td>对象</td>
<td>只能对文件创建硬链接</td>
<td>普通文件丶目录</td>
</tr>
<tr>
<td>是否受源文件影响</td>
<td>否</td>
<td>是</td>
</tr>
<tr>
<td>inode 号</td>
<td>相同</td>
<td>不同</td>
</tr>
<tr>
<td>跨分区创建</td>
<td>不能</td>
<td>可以</td>
</tr>
<tr>
<td>是否影响源文件</td>
<td>是</td>
<td>是</td>
</tr>
</tbody>
</table>
<p>用户 sudo 提权</p>
<p>sudo 将一个普通用户的身份提升至 root 权限</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 第一种提权</span></span><br><span class="line"><span class="comment"># visudo</span></span><br><span class="line">:100行左右</span><br><span class="line">root ALL=（ALL） ALL</span><br><span class="line">user ALL=（ALL） ALL</span><br><span class="line"><span class="comment"># 提权完毕后</span></span><br><span class="line">普通用户执行命令之前要加 sudo</span><br><span class="line">[baolong@localhost root]$ sudo <span class="built_in">ls</span> -l</span><br><span class="line"><span class="comment"># 普通用户免密</span></span><br><span class="line">baolong ALL=(ALL) NOPASSWD:ALL （免密）</span><br><span class="line"><span class="comment"># 讲解</span></span><br><span class="line"><span class="comment"># 用户名 所有主机      所有命令的执行权限</span></span><br><span class="line">root    ALL=（ALL）   ALL</span><br><span class="line"><span class="comment"># 第二种提权</span></span><br><span class="line">针对多个用户</span><br><span class="line">visudo</span><br><span class="line">108附近</span><br><span class="line">%wheel ALL=(ALL) ALL</span><br><span class="line">将用户加入组</span><br><span class="line">usermod oldboy1 -G wheel</span><br><span class="line"><span class="comment">## sudo不认识别名，只能走系统命令</span></span><br><span class="line">Host_Alias HOST = localhost web01 web02</span><br><span class="line">User_Alias OLDBOY = oldboy3,oldboy4</span><br><span class="line">Cmnd_Alias COM = /bin/cp,/bin/mv,/bin/cat</span><br></pre></td></tr></table></figure>
<p>权限的管理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">-rw-r--r--. 1 root root 99 Mar 22 11:34 1.txt</span><br><span class="line">r 读 4</span><br><span class="line">w 写 2</span><br><span class="line">x 执行 1</span><br><span class="line">- 没有权限 0</span><br><span class="line"><span class="comment"># 计算权限  //利用tr替换计算</span></span><br><span class="line">ll | <span class="built_in">tr</span> <span class="string">&#x27;rwx-&#x27;</span> <span class="string">&#x27;4210&#x27;</span> | awk -F <span class="string">&#x27;&#x27;</span> <span class="string">&#x27;NR==2&#123;print $2+$3+$4&quot;&quot;$5+$6+$7&quot;&quot;$8+$9+$10&#125;&#x27;</span></span><br><span class="line">644</span><br><span class="line"><span class="comment"># 优化计算权限</span></span><br><span class="line"><span class="built_in">stat</span> -c %a 文件名</span><br><span class="line">755</span><br></pre></td></tr></table></figure>
<p>权限的修改：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span></span><br><span class="line"><span class="comment"># 修改权限</span></span><br><span class="line">user 属主</span><br><span class="line">group 属组</span><br><span class="line">other 其他用户</span><br><span class="line">a  所有</span><br><span class="line">u 属主</span><br><span class="line">g 数组</span><br><span class="line">o 其他用户</span><br><span class="line"><span class="comment"># =</span></span><br><span class="line"><span class="built_in">chmod</span> u=rwx 1.sh</span><br><span class="line"><span class="built_in">chmod</span> g=rwx 1.sh</span><br><span class="line"><span class="built_in">chmod</span> o=rwx 1.sh</span><br><span class="line"><span class="comment"># -</span></span><br><span class="line"><span class="built_in">chmod</span> u-w 1.sh</span><br><span class="line"><span class="built_in">chmod</span> g-r 1.sh</span><br><span class="line"><span class="built_in">chmod</span> o-x 1.sh</span><br><span class="line"><span class="comment"># +</span></span><br><span class="line"><span class="built_in">chmod</span> a+r 1.sh</span><br><span class="line"><span class="built_in">chmod</span> a+w 1.sh</span><br><span class="line"><span class="built_in">chmod</span> a+x 1.sh</span><br><span class="line"><span class="comment"># a 所有 （+ - =）</span></span><br><span class="line"><span class="built_in">chmod</span> a-r 1.sh <span class="comment"># a+/a=</span></span><br><span class="line"><span class="built_in">chmod</span> a-w 1.sh <span class="comment"># a+/a=</span></span><br><span class="line"><span class="built_in">chmod</span> a-x 1.sh <span class="comment"># a+/a=</span></span><br><span class="line"><span class="comment"># 数字</span></span><br><span class="line"><span class="built_in">chmod</span> 755 1.sh   -rwxr-xr-x</span><br><span class="line"><span class="built_in">chmod</span> 644 1.sh   -r-wr--r--</span><br><span class="line"><span class="built_in">chmod</span> 000 1.sh   ----------</span><br></pre></td></tr></table></figure>
<p>权限对文件的影响：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">r   <span class="comment">#文件只能读取</span></span><br><span class="line">w   <span class="comment">#任何编辑命令都可以写入</span></span><br><span class="line">x   <span class="comment">#对于普通用户来说，还是做不了事 ，必须配合r去使用</span></span><br><span class="line">rw  <span class="comment">#可读可写，正常的使用vim编辑，但是不能执行</span></span><br><span class="line">rx  <span class="comment">#可读，可执行，但是不能编辑</span></span><br><span class="line">wx  <span class="comment">#可写 可执行 不可读取</span></span><br><span class="line">rwx <span class="comment">#可读可写可执行</span></span><br></pre></td></tr></table></figure>
<p>权限对目录的影响：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 注意：目录在只有单权限情况下啥也做不了</span></span><br><span class="line">r  <span class="comment">#能看见目录下的文件，但是看不了目录下文件的详细信息</span></span><br><span class="line">w  <span class="comment">#啥也做不了</span></span><br><span class="line">x  <span class="comment">#啥也做不了</span></span><br><span class="line">rx <span class="comment">#才能查看目录下的文件</span></span><br><span class="line">wx <span class="comment">#读取不了目录里的文件，但是能创建文件/创建目录/删除目录/删除文件  不能用*代替</span></span><br><span class="line">rwx <span class="comment">#可读可写可执行，可以创建，删除 移动 复制 文件/目录</span></span><br></pre></td></tr></table></figure>
<p>修改文件属主和属组</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chown</span></span><br><span class="line"><span class="comment"># 修改属主和属组  //目录和文件的</span></span><br><span class="line"><span class="built_in">chown</span> baolong:baolong xxx</span><br><span class="line"><span class="built_in">chown</span> root:root xxx</span><br><span class="line"><span class="comment"># 递归</span></span><br><span class="line">-R</span><br><span class="line"><span class="comment"># 只修改属主</span></span><br><span class="line"><span class="built_in">chown</span> root xxx</span><br><span class="line"><span class="comment"># 只改属组</span></span><br><span class="line"><span class="built_in">chown</span> :baolong xxx</span><br><span class="line"><span class="comment">#递归修改</span></span><br><span class="line"><span class="built_in">chown</span> -R baolong:</span><br><span class="line">baolong xxx</span><br><span class="line">[root@pkq /opt]<span class="comment"># ll xxx/</span></span><br><span class="line"></span><br><span class="line">total 0</span><br><span class="line">-rw-r--r--. 1 baolong baolong 0 Mar 23 18:57 1.txt</span><br><span class="line">-rw-r--r--. 1 baolong baolong 0 Mar 23 19:04 2.txt</span><br><span class="line">-rw-r--r--. 1 baolong baolong 0 Mar 23 19:04 3.txt</span><br><span class="line">-rw-r--r--. 1 baolong baolong 0 Mar 23 19:04 4.txt</span><br></pre></td></tr></table></figure>
<p>特殊权限</p>
<p>SetUID</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">setuid 特殊权限授权</span><br><span class="line"><span class="comment"># 基本权限</span></span><br><span class="line">r 读</span><br><span class="line">w 写</span><br><span class="line">x 执行</span><br><span class="line">- 没有权限</span><br><span class="line">-rwsr-xr-x. 1 root root 27832 Jun 10 2014 passwd</span><br><span class="line">4000</span><br><span class="line"><span class="comment"># 授权方法</span></span><br><span class="line"><span class="built_in">chmod</span> 4755 file</span><br><span class="line"><span class="built_in">chmod</span> u + s</span><br><span class="line"><span class="built_in">chmod</span> u = s</span><br><span class="line"><span class="comment"># 特性</span></span><br><span class="line">如果原本没有x权限 授权为setuid 会是大写 S</span><br><span class="line">如果原本有x权限 授权为setuid 会是小写 s</span><br><span class="line">u + s</span><br><span class="line">u = s</span><br><span class="line"><span class="comment">## 为什么普通用户可以修改密码</span></span><br><span class="line">1） 使用了passwd命令</span><br><span class="line">2）passwd命令文件在属主位上有个s权限 原本的x变成了s</span><br><span class="line">3）s权限在属主位，又叫做setuid权限 setUID</span><br><span class="line"><span class="comment">#4）作用 普通用户在使用有setuid权限的文件或者命令的时候，会以该文件的属主身份去运行！！！！！</span></span><br></pre></td></tr></table></figure>
<p>setgid</p>
<p>将目录设置为 SGID 后，如果在该目录下创建文件，都将与该目录的所属组保持一致</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 授权方法</span></span><br><span class="line"><span class="built_in">chmod</span> 2755 directory</span><br><span class="line"><span class="built_in">chmod</span> g+s directory</span><br><span class="line">如果原本没有x权限 授权为setuid 会是大写 S</span><br><span class="line">如果原本有x权限 授权为setuid 会是小写 s</span><br></pre></td></tr></table></figure>
<p>sticky</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">ll -d /tmp</span><br><span class="line">drwxrwxrwt. 8 root root 127 Mar 23 16:44 .</span><br><span class="line">1 带有粘滞位的目录下的所有文件，谁都可以读，写</span><br><span class="line">2.带有粘滞位的目录下的文件只有属主才能删除自己的文件，其他普通用户无法删除属主不是自己的文件</span><br><span class="line">3.带有粘滞位的目录 只有root能删</span><br><span class="line"><span class="comment">## 授权方法</span></span><br><span class="line"><span class="built_in">chmod</span> o+t</span><br><span class="line"><span class="built_in">chmod</span> 1777 directory</span><br><span class="line">sbit权限数字是1000</span><br><span class="line">如果原本有x权限 授权特殊sbit后 t</span><br><span class="line">如果原本没有x权限 授权特殊sbit后 T</span><br></pre></td></tr></table></figure>
<p>vim 的三种模式</p>
<p>命令模式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 光标跳转</span></span><br><span class="line">gg 跳转文本行首</span><br><span class="line">G 跳转至文本行末</span><br><span class="line">ngg <span class="comment">#n代表数</span></span><br><span class="line"><span class="comment"># 复制黏贴</span></span><br><span class="line">yy 复制你光标所在的一整行</span><br><span class="line">nyy <span class="comment">#n代表数</span></span><br><span class="line">复制光标所在行开始n行 <span class="comment">#n代表数</span></span><br><span class="line">p 将复制的内容，黏贴在光标所在行的下一行 （小写）</span><br><span class="line">P 将复制的内容，黏贴在光标所在行的上一行 （大写）</span><br><span class="line"><span class="comment"># 剪切</span></span><br><span class="line"><span class="built_in">dd</span> 删除或者剪切 可以通过p黏贴</span><br><span class="line">5dd/d5d 删除/剪切 数字</span><br><span class="line">dG 删除光标所在的行至文本末尾</span><br><span class="line">x 删除光标所在的字符 （小写）</span><br><span class="line">X 删除光标所在前的一个字符 （大写）</span><br><span class="line"><span class="comment"># 撤销</span></span><br><span class="line">u 撤销上一步操作</span><br><span class="line">r 替换贯标所在的字符</span><br><span class="line">R 持续替换知道按下ESC</span><br><span class="line">ctrl + r 恢复撤销，回滚</span><br></pre></td></tr></table></figure>
<p>编辑模式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">i 在光标前进入编辑模式</span><br><span class="line">I 进入编辑模式，光标跳转只行首</span><br><span class="line">a 光标往后退一格，进入编辑模式</span><br><span class="line">A 进入编辑模式，光标跳转只行末</span><br><span class="line">o 跳转至光标下一行进入编辑模式</span><br><span class="line">O 跳转至光标上一行进入编辑模式（大写）</span><br><span class="line">s 吧光标所在的字符删除，并进入编辑模式</span><br><span class="line">S 删除整行并进入编辑模式(大写)</span><br></pre></td></tr></table></figure>
<p>底行模式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">:wq 保存退出</span><br><span class="line">:w 保存</span><br><span class="line">:q 退出</span><br><span class="line">:wq! 强制保存退出</span><br><span class="line">:q! 强制退出</span><br><span class="line">:w! 强制保存</span><br><span class="line">:x 保存退出</span><br><span class="line"><span class="built_in">shift</span> + zz 保存退出</span><br><span class="line">：number <span class="comment">#数字！！</span></span><br><span class="line">：1 跳转只第一行</span><br></pre></td></tr></table></figure>
<p>底行模式查找 / 替换：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">查找：/关键字</span><br><span class="line"><span class="comment">#替换：</span></span><br><span class="line">%s/root/xxx/g</span><br><span class="line">s （search） 查询</span><br><span class="line">g （global） 全局</span><br><span class="line">% 代替所有行</span><br><span class="line">:<span class="built_in">set</span> nu 显示行号</span><br><span class="line">:<span class="built_in">set</span> ai 自动缩进</span><br><span class="line">:<span class="built_in">set</span> ic 不区分大小写</span><br><span class="line">:<span class="built_in">set</span> list 显示制表符吗，显示结尾符号和TAB符号</span><br><span class="line"><span class="comment"># 取消</span></span><br><span class="line">:<span class="built_in">set</span> no（ai nu list ic）</span><br><span class="line"><span class="comment"># 取消高亮</span></span><br><span class="line">nohl</span><br></pre></td></tr></table></figure>
<p>视图模式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">ctrl + v</span><br><span class="line">进入试图模式</span><br><span class="line"><span class="comment"># 集体注释</span></span><br><span class="line">ctrl + v</span><br><span class="line"><span class="built_in">shift</span> +g (G)移动至末行</span><br><span class="line"><span class="built_in">shift</span> +i (i)光标移至行首进入编辑模式</span><br><span class="line"><span class="built_in">shift</span> +3 (<span class="comment">#)</span></span><br><span class="line">ESC ESC</span><br><span class="line"><span class="comment"># 群体取消注释</span></span><br><span class="line">x</span><br><span class="line"><span class="comment">## 多开文件</span></span><br><span class="line">在同一个窗口打开多个文件</span><br><span class="line">vim -o  finename1 finename2 ：水平垂直编辑</span><br><span class="line">vim -O finename1 finename2 ：水平垂直编辑</span><br><span class="line">文件对比：vimdiff   finename1 finename2</span><br><span class="line">(1)先使用vi打开一个文件，例如vi file1</span><br><span class="line">(2)分割窗口打开另外的文件</span><br><span class="line">:sp file2 //水平分割打开第二个文件，sp=[<span class="built_in">split</span>](https://so.csdn.net/so/search?q=<span class="built_in">split</span>&amp;spm=1001.2101.3001.7020)</span><br><span class="line">:vsp file2 //垂直分割打开第二个文件，vsp=vsplit</span><br><span class="line">:vs 也可</span><br><span class="line">ctrl+w：切换两个编辑器</span><br></pre></td></tr></table></figure>
<p>用户管理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">用户指的是能够正常登录Linux或windows系统</span><br><span class="line">那Linux与windows系统的用户有什么区别？</span><br><span class="line">本质都是登录系统的，只不过Linux支持多用户同时登录，windows默认不支持，但是修改组策略的情况下也是可以多用户登录的</span><br><span class="line"><span class="comment">#用户的作用：</span></span><br><span class="line">登录用户</span><br><span class="line">用户用来运行程序</span><br><span class="line">每一个目录或者文件，都有指定的用户的权限</span><br><span class="line">程序的运行用户要与程序调用的用户目录权限相同</span><br></pre></td></tr></table></figure>
<p>用户文件信息释明：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">查看用户：</span><br><span class="line"><span class="built_in">id</span> [用户名]或者<span class="built_in">cat</span> /etc/passwd</span><br><span class="line">/etc/passwd存放用户信息的文件</span><br><span class="line">jiujiu:x:1000:1000:jiujiu:/home/jiujiu:/bin/bash</span><br><span class="line">显示信息说明：</span><br><span class="line">第一列 用户名</span><br><span class="line">第二列 密码的占位符</span><br><span class="line">第三列 用户的<span class="built_in">id</span> UID root 0</span><br><span class="line">第四列 用户组的<span class="built_in">id</span> gid root 0</span><br><span class="line">第五列 对用户的表述</span><br><span class="line">第六列 用户的家目录</span><br><span class="line">第七列 用户登录的bash</span><br><span class="line"></span><br><span class="line">/etc/shadow存放用户密码的文件</span><br><span class="line">jiujiu:!$6<span class="variable">$H8K7zklpu0</span>.hFi4k<span class="variable">$J0jjVuK74pZXZfXOxtMKh9i</span>/ZkB64mI4cDp1ST2w6TheCI5gZL2JH.4VQeiBsXYIYFS6wZognujdISZRRpVfv1::0:99999:7:::</span><br><span class="line">显示信息说明：</span><br><span class="line">第一列 用户名</span><br><span class="line">第二列 加密后的密码，！！/*代表没有密码</span><br><span class="line">第三列 上一次更改密码的时间，是从1970年开始算</span><br><span class="line">第四列 密码最少使用天数 0代表无限</span><br><span class="line">第五列 密码最长使用天数 99999代表无限</span><br><span class="line">第六列 密码到期前7天提示需要修改密码</span><br><span class="line">第七列 密码过期后N天强制更改密码</span><br><span class="line">第八列 账户失效时间，也是从1970年开始算</span><br><span class="line">第九列 为空</span><br></pre></td></tr></table></figure>
<p>用户 uid 的说明：</p>
<table>
<thead>
<tr>
<th>0</th>
<th>超级管理员 (拥有最高权限)</th>
</tr>
</thead>
<tbody>
<tr>
<td>1-200</td>
<td>系统用户，由系统分配给系统进程使用</td>
</tr>
<tr>
<td>201-999</td>
<td>系统用户，用来运行服务账户，不需要登陆系统 (动态分配)</td>
</tr>
<tr>
<td>1000+</td>
<td>常规普通用户</td>
</tr>
</tbody>
</table>
<p>1）增</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">useradd / adduser</span><br><span class="line">-u 指定用户的uid</span><br><span class="line">例：useradd -u 10086 xyz</span><br><span class="line">-g 指定用户的组</span><br><span class="line">例：useradd -g haige xyz <span class="comment"># xyz是新用户  组必须是已存在的组</span></span><br><span class="line">-d 指定用户家目录</span><br><span class="line">例：useradd -d /tmp/ zxc</span><br><span class="line">-c 指定用户注释信息</span><br><span class="line">例：useradd -c<span class="string">&#x27;for linux&#x27;</span> mmm</span><br><span class="line">-M 不创建家目录</span><br><span class="line">例：useradd -M jkl</span><br><span class="line">-s 指定用户默认shell</span><br><span class="line">例：useradd -s /sbin/nologin mnb</span><br><span class="line">-G 指定用户加入附加组</span><br><span class="line">例：useradd -G  要加入的组   新用户</span><br><span class="line">-r 创建系统用户</span><br></pre></td></tr></table></figure>
<p>2）删：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">userdel 用户名</span><br><span class="line">-r 删除用户的同时删除用户的家目录包括邮箱信息</span><br></pre></td></tr></table></figure>
<p>3）改</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">usermod</span><br><span class="line"><span class="comment"># 参数的用户名是必须创建过的</span></span><br><span class="line">-u 修改用户的uid</span><br><span class="line">例：usermod -u 2000 xiaohei</span><br><span class="line">-g 修改gid gid 组必须存在  <span class="comment">#修改用户本身基本组</span></span><br><span class="line">例：usermod -g  组<span class="built_in">id</span>  需修改的用户</span><br><span class="line">[root@hadoop103 ~]<span class="comment"># id jiujiu</span></span><br><span class="line">uid=1000(jiujiu) gid=1000(jiujiu) <span class="built_in">groups</span>=1000(jiujiu)</span><br><span class="line">[root@hadoop103 ~]<span class="comment"># cat /etc/group |tail -1</span></span><br><span class="line">like:x:6666:</span><br><span class="line">[root@hadoop103 ~]<span class="comment"># usermod -g 6666 jiujiu</span></span><br><span class="line">[root@hadoop103 ~]<span class="comment"># id jiujiu</span></span><br><span class="line">uid=1000(jiujiu) gid=6666(like) <span class="built_in">groups</span>=6666(like),1000(jiujiu)</span><br><span class="line"></span><br><span class="line">-G 修改附加组 组必须存在  <span class="comment">#添加附加组</span></span><br><span class="line">例：usermod -G 被加入的组   要加入的组</span><br><span class="line">[root@hadoop103 ~]<span class="comment"># id jiujiu</span></span><br><span class="line">uid=1000(jiujiu) gid=1000(jiujiu) <span class="built_in">groups</span>=1000(jiujiu)</span><br><span class="line">[root@hadoop103 ~]<span class="comment"># usermod -G like jiujiu</span></span><br><span class="line">[root@hadoop103 ~]<span class="comment"># id jiujiu</span></span><br><span class="line">uid=1000(jiujiu) gid=1000(jiujiu) <span class="built_in">groups</span>=1000(jiujiu),1111(like)</span><br><span class="line"></span><br><span class="line">-c 修改注释信息</span><br><span class="line">例：usermod -c <span class="string">&#x27;heideyipi&#x27;</span> xiaohei</span><br><span class="line">-s 修改用户的登录shell</span><br><span class="line">例：usermod -s /sbin/nologin xiaohei</span><br><span class="line">-m 迁移家目录 要配合-d</span><br><span class="line">例：usermod -d /opt/hei -m xiaohei</span><br><span class="line">-l 修改用户的登录名</span><br><span class="line">例：usermod -l zhenniubi niubi</span><br><span class="line"><span class="comment">## 创建用户会默认创建和用户同名的组</span></span><br></pre></td></tr></table></figure>
<p>4）查：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">[root@localhost /home]<span class="comment"># id xiaolv</span></span><br><span class="line"><span class="built_in">id</span>: xiaolv: no such user</span><br><span class="line">[root@localhost /home]<span class="comment"># id xiaohei</span></span><br><span class="line">uid=10096(xiaohei) gid=10096(xiaohei) <span class="built_in">groups</span>=10096(xiaohei)</span><br><span class="line"><span class="built_in">cat</span> /etc/passwd</span><br></pre></td></tr></table></figure>
<p>用户创建配置文件释明：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/login.defs</span><br><span class="line">过滤掉所有注释行和空行后剩余信息说明：</span><br><span class="line">[root@hadoop103 ~]<span class="comment"># cat /etc/login.defs | egrep -v &#x27;^$|^#.*$&#x27;</span></span><br><span class="line"><span class="comment"># 创建用户的时候会创建用户相关邮件所在的路径</span></span><br><span class="line">MAIL_DIR	/var/spool/mail</span><br><span class="line">PASS_MAX_DAYS	99999</span><br><span class="line">PASS_MIN_DAYS	0</span><br><span class="line">PASS_MIN_LEN	5</span><br><span class="line">PASS_WARN_AGE	7</span><br><span class="line">UID_MIN                  1000</span><br><span class="line">UID_MAX                 60000</span><br><span class="line">SYS_UID_MIN               201</span><br><span class="line">SYS_UID_MAX               999</span><br><span class="line">GID_MIN                  1000</span><br><span class="line">GID_MAX                 60000</span><br><span class="line">SYS_GID_MIN               201</span><br><span class="line">SYS_GID_MAX               999</span><br><span class="line">CREATE_HOME	<span class="built_in">yes</span></span><br><span class="line">UMASK           077</span><br><span class="line">USERGROUPS_ENAB <span class="built_in">yes</span></span><br><span class="line">ENCRYPT_METHOD SHA512 </span><br><span class="line"></span><br><span class="line">MAIL_DIR /var/spool/mail</span><br><span class="line"><span class="comment"># 密码最长使用天数</span></span><br><span class="line">PASS_MAX_DAYS 99999</span><br><span class="line"><span class="comment"># 密码最少使用天数</span></span><br><span class="line">PASS_MIN_DAYS 0</span><br><span class="line"><span class="comment"># 密码最少长度</span></span><br><span class="line">PASS_MIN_LEN 5</span><br><span class="line"><span class="comment"># 密码到期前7天会提醒</span></span><br><span class="line">PASS_WARN_AGE 7</span><br><span class="line"><span class="comment"># 普通用户最小uid</span></span><br><span class="line">UID_MIN 1000</span><br><span class="line"><span class="comment"># 普通用户最大uid</span></span><br><span class="line">UID_MAX 60000</span><br><span class="line"><span class="comment"># 系统用户最小uid</span></span><br><span class="line">SYS_UID_MIN 201</span><br><span class="line"><span class="comment"># 系统用户最大uid</span></span><br><span class="line">SYS_UID_MAX 999</span><br><span class="line"><span class="comment"># 普通用户最小gid</span></span><br><span class="line">GID_MIN 1000</span><br><span class="line"><span class="comment"># 普通用户最大gid</span></span><br><span class="line">GID_MAX 60000</span><br><span class="line"><span class="comment"># 系统用户最小gid</span></span><br><span class="line">SYS_GID_MIN 201</span><br><span class="line"><span class="comment"># 系统用户最大gid</span></span><br><span class="line">SYS_GID_MAX 999</span><br><span class="line"><span class="comment"># 创建家目录</span></span><br><span class="line">CREATE_HOME <span class="built_in">yes</span></span><br><span class="line"><span class="comment"># umask</span></span><br><span class="line">UMASK 077</span><br><span class="line"><span class="comment"># 创建用户的时候，同时创建该用户的同名用户组</span></span><br><span class="line">USERGROUPS_ENAB <span class="built_in">yes</span></span><br><span class="line"><span class="comment"># 密码加密格式 SHA512</span></span><br><span class="line">ENCRYPT_METHOD SHA512</span><br><span class="line"></span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line"></span><br><span class="line">如果用户创建配置文件中USERGROUPS_ENAB 结果为no时，则会读取下列配置文件</span><br><span class="line">/etc/default/useradd</span><br><span class="line">说明：</span><br><span class="line"><span class="comment"># useradd defaults file</span></span><br><span class="line"><span class="comment"># 组的gid 100</span></span><br><span class="line">GROUP=100</span><br><span class="line"><span class="comment"># 家目录的位置</span></span><br><span class="line">HOME=/home</span><br><span class="line"><span class="comment"># 账号过期后都不会停止使用 -1=不开启</span></span><br><span class="line">INACTIVE=-1</span><br><span class="line"><span class="comment"># 账号不过期</span></span><br><span class="line">EXPIRE=</span><br><span class="line"><span class="comment"># 指定用户创建时的shell</span></span><br><span class="line">SHELL=/bin/bash</span><br><span class="line"><span class="comment"># 普通用户的环境变量储存</span></span><br><span class="line">SKEL=/etc/skel</span><br><span class="line"><span class="comment"># 创建用户是，是否创建邮件文件</span></span><br><span class="line">CREATE_MAIL_SPOOL=<span class="built_in">yes</span></span><br></pre></td></tr></table></figure>
<p>密码管理设置信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 给当前登录用户设置密码</span></span><br><span class="line">passwd</span><br><span class="line"><span class="comment"># 给普通用户设置密码</span></span><br><span class="line">passwd user  //user表示用户名</span><br><span class="line"><span class="comment"># root用户设置密码可以无视密码长度</span></span><br><span class="line"><span class="comment"># 普通用户设置密码必须遵守8位数</span></span><br><span class="line"><span class="comment"># 交互</span></span><br><span class="line">类似挤牙膏，动一下挤一下</span><br><span class="line"><span class="comment"># 免交互</span></span><br><span class="line">可以免除交互，不需要一个个点</span><br><span class="line"><span class="comment"># 生成密码</span></span><br><span class="line">yum install -y expect</span><br><span class="line">mkpasswd -l 10 -d 3 -c 4 -C 2 -s 1</span><br><span class="line">-l 密码长度</span><br><span class="line">-d 密码数字个数</span><br><span class="line">-c 小写英文个数</span><br><span class="line">-C 大写英文个数</span><br><span class="line">-s 特殊符号</span><br><span class="line"><span class="comment">#拓展  用echo给用户设置密码</span></span><br><span class="line"><span class="built_in">echo</span> 1 | passwd --stdin user2</span><br><span class="line">例：建立一个新用户user2并把它加入到root组中，设置user2的密码为：1</span><br><span class="line">[root@hadoop101 ~]<span class="comment">#useradd -g root user2 &amp;&amp; echo 1 | passwd --stdin user2</span></span><br></pre></td></tr></table></figure>
<p>组管理信息：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/group</span><br><span class="line"><span class="comment"># 组信息</span></span><br><span class="line">canglong:x:10103:</span><br><span class="line">1 组名</span><br><span class="line">2 密码占位符</span><br><span class="line">3 gid</span><br><span class="line">4 附加组，基本成员不显示g</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="built_in">cat</span> /etc/gshadow</span><br><span class="line"><span class="comment"># 组密码信息</span></span><br><span class="line">haige:!::zzz,xbwl</span><br><span class="line">1 组名</span><br><span class="line">2 组密码 ！为空</span><br><span class="line">3 组管理员</span><br><span class="line">4 仅显示附加组成员，不显示基本成员</span><br></pre></td></tr></table></figure>
<p>组创建</p>
<p>1）增</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">-g：指定用户组gid</span><br><span class="line">groupadd jiujiu</span><br><span class="line">groupadd -g 666 jiujiu</span><br><span class="line"><span class="comment"># 创建系统组，gid从201-999</span></span><br><span class="line">-r：创建系统组</span><br><span class="line">[root@zls ~]<span class="comment"># groupadd -r sys_group</span></span><br><span class="line">[root@zls ~]<span class="comment"># tail -1 /etc/group</span></span><br><span class="line">sys_group:x:665</span><br></pre></td></tr></table></figure>
<p>2）改</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">groupmod</span><br><span class="line"><span class="comment"># 修改原有组的gid</span></span><br><span class="line">groupmod -g 777 jiujiu</span><br><span class="line"><span class="comment"># 修改组名</span></span><br><span class="line">groupmod -n like jiujiu</span><br></pre></td></tr></table></figure>
<p>3）删</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">语法：groupdel 组名</span><br><span class="line">注：如果组下面有其他用户，则删不了，要把其他用户移出去在删</span><br></pre></td></tr></table></figure>
<p>4）查</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /etc/group</span><br></pre></td></tr></table></figure>
<p>输入和输出</p>
<table>
<thead>
<tr>
<th><strong>名称</strong></th>
<th><strong>文件描述符</strong></th>
<th><strong>作用</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>stdin</td>
<td>0</td>
<td>标准输入</td>
</tr>
<tr>
<td>stdout</td>
<td>1</td>
<td>标准输出</td>
</tr>
<tr>
<td>stderr</td>
<td>2</td>
<td>错误输出</td>
</tr>
<tr>
<td>文件名</td>
<td>3+</td>
<td></td>
</tr>
</tbody>
</table>
<p>重定向的概念</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">将原本要输出到屏幕的数据信息，重新定向到指定的文件中。</span><br><span class="line">比如：每天凌晨定时备份数据，希望将备份数据的结果保存到某个文件中。这样第二天通过查看结果文件，就知道昨天备份数据是成功，还是失败。</span><br></pre></td></tr></table></figure>
<p>命令返回值</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如何判断上一条命令的执行是否成功</span></span><br><span class="line"><span class="built_in">echo</span> $?</span><br><span class="line">返回值是0 就代表上一条命令执行成功</span><br><span class="line">返回值如果不是0 就代表上一条命令不成功</span><br></pre></td></tr></table></figure>
<p>输出重定向</p>
<p>重定向：改变标准输入、标准输出的方向的就是重定向</p>
<table>
<thead>
<tr>
<th><strong>类型</strong></th>
<th>操作符</th>
<th><strong>用途</strong></th>
</tr>
</thead>
<tbody>
<tr>
<td>标准覆盖输出重定向</td>
<td>1&gt;</td>
<td>将命令的执行结果输出到指定的文件中，而不是直接显示在屏幕上</td>
</tr>
<tr>
<td>标准追加输出重定向</td>
<td>&gt;&gt;</td>
<td>将命令执行的结果追加输出到指定文件</td>
</tr>
<tr>
<td>错误覆盖输出重定向</td>
<td>2&gt;</td>
<td>将程序的错误结果输出到执行的文件中，会覆盖源文件内容</td>
</tr>
<tr>
<td>错误追加输出重 定向</td>
<td>2&gt;&gt;</td>
<td>将程序输出的错误结果以追加的方式输出到指定文件中，不会覆盖源文件</td>
</tr>
<tr>
<td>标准输入重定向</td>
<td>&lt;&lt;</td>
<td>将命令中接收输入的途径由默认的键盘更改为指定的文件</td>
</tr>
</tbody>
</table>
<p>标准输出追加重定向</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">[root@pkq ~]<span class="comment"># echo hello world &gt;&gt; 1.txt</span></span><br><span class="line">[root@pkq ~]<span class="comment"># cat 1.txt</span></span><br><span class="line"><span class="built_in">cat</span>: asdadasd: No such file or directory</span><br><span class="line">hello world</span><br></pre></td></tr></table></figure>
<p>错误输出重定向</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ll /asdasdasd 2&gt; 1.txt</span><br></pre></td></tr></table></figure>
<p>正确和错误都输出到相同位置</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">find / -name <span class="string">&quot;*.conf&quot;</span> &amp;&gt;ab</span><br></pre></td></tr></table></figure>
<p>输出重定向</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">dd</span> <span class="keyword">if</span>=/dev/zero of=/root/1.txt bs=1M count=20</span><br><span class="line"><span class="built_in">dd</span> bs=1K count=1024 &lt;/dev/zero &gt; /root/4.txt</span><br></pre></td></tr></table></figure>
<p>管道符 ：|</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 将/etc/passwd以uid排序并展示前10行</span></span><br><span class="line">[root@pkq ~]<span class="comment"># sort -t &#x27;:&#x27; -k3 -n /etc/passwd|head</span></span><br><span class="line"><span class="comment"># 统计/etc/passwd的所有shell类型</span></span><br><span class="line">[root@pkq ~]<span class="comment"># awk -F: &#x27;&#123;print $NF&#125;&#x27; /etc/passwd | sort | uniq -c</span></span><br><span class="line">106 /bin/bash</span><br><span class="line">1 /bin/sync</span><br><span class="line">1 /sbin/halt</span><br></pre></td></tr></table></figure>
<p>分流技术：tee</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 分流到文件</span></span><br><span class="line">ip addr |grep <span class="string">&#x27;inet &#x27;</span> |<span class="built_in">tee</span> ip.txt |awk -F<span class="string">&quot;/&quot;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> |awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span></span><br><span class="line"><span class="comment"># 分流到终端</span></span><br><span class="line">ip addr |grep <span class="string">&#x27;inet &#x27;</span> |<span class="built_in">tee</span> /dev/pts/0 |awk -F<span class="string">&quot;/&quot;</span> <span class="string">&#x27;&#123;print $1&#125;&#x27;</span> |awk <span class="string">&#x27;&#123;print $2&#125;&#x27;</span></span><br></pre></td></tr></table></figure>
<p>xargs</p>
<p>将原本没有标准输入的命令，收到 xargs 的标准输入中，</p>
<p>在传递给后面的命令处理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">-I 将数据保存在&#123;&#125;之中， 后面的命令可以直接调用&#123;&#125;： find /root/ -name <span class="string">&#x27;*.sh&#x27;</span> | xargs -I &#123;&#125; <span class="built_in">cp</span> &#123;&#125; /opt/</span><br><span class="line">-i 默认&#123;&#125;保存结果</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">参数说明</span><br><span class="line">参数	参数说明</span><br><span class="line">-0, --null	项目之间用null分隔，而不是空格。禁用引号和反斜杠处理</span><br><span class="line">-a, --arg-file=FILE	从文件中读入作为 stdin</span><br><span class="line">-d, --delimiter=CHARACTER	自定义分隔符</span><br><span class="line">-E END	xargs分析到含有flag这个标志的时候就停止</span><br><span class="line">-e [END], --eof[=END]	注意有的时候可能会是-E，flag必须是一个以空格分隔的标志，当xargs分析到含有flag这个标志的时候就停止。</span><br><span class="line">–<span class="built_in">help</span>	打印帮助选项</span><br><span class="line">-I R	将xargs的每项名称，一般是一行一行赋值给 &#123;&#125;，可以用 &#123;&#125; 代替</span><br><span class="line">-i,–replace=[R]	将xargs的每项名称，一般是一行一行赋值给 &#123;&#125;，可以用 &#123;&#125; 代替</span><br><span class="line">-L,-l, --max-lines=MAX-LINES	如果标准输入包含多行，-L参数指定多少行作为一个命令行参数。</span><br><span class="line">-l	从标准输入一次读取 num 行送给 <span class="built_in">command</span> 命令。</span><br><span class="line">-n, --max-args=MAX-ARGS	后面加次数，表示命令在执行的时候一次用的argument的个数，默认是用所有的</span><br><span class="line">-P, --max-procs=MAX-PROCS	xargs默认只用一个进程执行命令。如果命令要执行多次，必须等上一次执行完，才能执行下一次，0表示不限制进程数。</span><br><span class="line">-p, --interactive	当每次执行一个argument的时候询问一次用户。</span><br><span class="line">–process-slot-var=VAR	在子进程中设置环境变量var过程</span><br><span class="line">-r, --no-run-if-empty	当xargs的输入为空的时候则停止xargs，不用再去执行了。</span><br><span class="line">-s, --max-chars=MAX-CHARS	命令行的最大字符数，指的是 xargs 后面那个命令的最大命令行字符数。</span><br><span class="line">–show-limits	显示命令行长度的限制</span><br><span class="line">-t, --verbose	在执行之前详细打印命令</span><br><span class="line">–version	打印版本号信息</span><br><span class="line">-x, --<span class="built_in">exit</span>	<span class="built_in">exit</span>的意思，主要是配合-s使用</span><br></pre></td></tr></table></figure>
<p>LInux 中常见的压缩包类型</p>
<p>***** 号常用</p>
<table>
<thead>
<tr>
<th>用法格式</th>
<th>使用工具</th>
</tr>
</thead>
<tbody>
<tr>
<td>.zip</td>
<td>zip 压缩工具    *</td>
</tr>
<tr>
<td>.gz</td>
<td>gzip 压缩工具，只能压缩文件，会删除源文件（通常配合 tar 使用） *</td>
</tr>
<tr>
<td>.bz2</td>
<td>bzip2 压缩工具，只能压缩文件，会删除源文件（通常配合 tar 使用）</td>
</tr>
<tr>
<td>.tar.gz</td>
<td>先使用 tar  z 命令归档打包，然后使用 gzip 压缩          *</td>
</tr>
<tr>
<td>.tzr.bz2</td>
<td>先使用 tar  j 命令归档打包，然后使用 bzip 压缩</td>
</tr>
<tr>
<td>.tar.xz</td>
<td></td>
</tr>
</tbody>
</table>
<p>gzip</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 如果没有该命令，安装gzip</span></span><br><span class="line">yum install -y gzip</span><br><span class="line"><span class="comment"># 准备文件</span></span><br><span class="line"><span class="built_in">touch</span> file&#123;1..10&#125;</span><br><span class="line"><span class="comment"># 语法</span></span><br><span class="line">gzip 选项 文件名...</span><br><span class="line">gzip [option] [file...]</span><br><span class="line">-r 指定目录，将目录下的所有文件都单独压缩成gz包 <span class="comment">#（目录不会变压缩包，目录下的所有文件会变成压缩包）</span></span><br><span class="line">-d 解压</span><br><span class="line"><span class="comment">#例题：压缩file10文件</span></span><br><span class="line">gzip file10</span><br><span class="line"><span class="comment"># gzip 特性</span></span><br><span class="line">gzip压缩文件 ，源文件消失</span><br><span class="line">gzip压缩文件，每个文件都是单独的压缩包</span><br><span class="line">gzip默认只能压缩文件，不能压缩目录</span><br><span class="line"><span class="comment">#  zcat能查看压缩包里的文件内容  </span></span><br><span class="line">当解压的时候，源文件出来，压缩包会消失</span><br></pre></td></tr></table></figure>
<p>zip</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 安装zip  unzip</span></span><br><span class="line">yum install -y zip unzip</span><br><span class="line"><span class="comment">## 语法</span></span><br><span class="line">zip [选项] [压缩包名] [文件名...]</span><br><span class="line">-r 递归处理，把目录下所有文件都压缩进去</span><br><span class="line"><span class="comment"># 特性</span></span><br><span class="line">zip打包，保留源文件</span><br><span class="line">unzip解压压缩包，压缩包不会消失</span><br><span class="line">zip可以打包目录，但是不加-r纯粹打包空目录</span><br><span class="line">zip解压 unzip 默认解压到当前目录</span><br><span class="line">unzip -d 可以解压到其他指定的路径下</span><br></pre></td></tr></table></figure>
<p>tar</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## 语法</span></span><br><span class="line">tar 选项 文件名</span><br><span class="line"><span class="comment">## 选项</span></span><br><span class="line">c 给文件做归档</span><br><span class="line">f 后面必须接文件名</span><br><span class="line">z 以gzip格式打包</span><br><span class="line">v 显示过程</span><br><span class="line">x 解压归档文件</span><br><span class="line">C 解压指定的目录</span><br><span class="line">t 列出归档文件里的文件列表</span><br><span class="line">j 使用bzip2压缩归档后的文件(.tar.bz2)</span><br><span class="line">J 使用xz压缩归档后的文件(tar.xz)</span><br><span class="line">X 排除多个文件(写入需要排除的文件名称)</span><br><span class="line">h 打包软连接</span><br><span class="line">P 连带绝对路径打包</span><br><span class="line"><span class="comment">## 了解即可</span></span><br><span class="line">--hard-dereference   打包硬链接</span><br><span class="line">--exclude  在打包的时候写入需要排除文件或目录</span><br><span class="line"><span class="comment"># 万能解压</span></span><br><span class="line">tar xf</span><br><span class="line"><span class="comment"># 打包.xz的包</span></span><br><span class="line">tar Jcf xxx.tar.xz xxx （小写j）</span><br><span class="line"><span class="comment"># 打包.bz2的包</span></span><br><span class="line">tar jcf xxx.tar.xz xxx （大写J）</span><br><span class="line"><span class="comment"># 选项无论怎么组合 f后面必须加文件名 f必须放最后！！！！！！！</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># tar有个安全机制，如果是以绝对路径打包，则会删除前面的/</span></span><br><span class="line"><span class="comment"># 为了避免这种情况出现避免解压开的时候覆盖原目录内容，要压缩那个目录，就去这个目录的上一级，使用相对路径</span></span><br><span class="line"><span class="comment"># tar解压后，直接覆盖相同文件，不会提示是否覆盖</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># 排除单个文件</span></span><br><span class="line">tar zcf log.tar.gz --exclude=10.<span class="built_in">log</span> --exclude=9.<span class="built_in">log</span> /opt/</span><br><span class="line"><span class="comment"># 使用大X排除文件，把想要排除的文件写入文件夹，在打包的时候X后面跟上要排除的文件夹名即可</span></span><br><span class="line">tar zcf log.tar.gz -X paichu opt/</span><br><span class="line"></span><br><span class="line"><span class="comment">#常用打包与压缩组合</span></span><br><span class="line">打包/压缩：</span><br><span class="line">czf： 打包tar.gz格式</span><br><span class="line">cjf： 打包tar.bz格式</span><br><span class="line">cJf： 打包tar.xz格式</span><br><span class="line">解压：</span><br><span class="line">zxf： 解压tar.gz格式</span><br><span class="line">jxf： 解压tar.bz格式</span><br><span class="line">xf：  自动选择解压模式</span><br><span class="line">tf：   查看tar压缩包内容</span><br></pre></td></tr></table></figure>
<p>RPM 全称 RPM Package Manager 缩写，由红帽开发用于</p>
<p>软件包的安装，升级卸载与查询</p>
<p><img src="https://s2.loli.net/2023/07/07/DSWPAi9QK2Zat5j.png" alt=""></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#安装包祥明</span></span><br><span class="line">tree-1.6.0-10.el7.x86_64.rpm</span><br><span class="line">tree <span class="comment"># 软件名称</span></span><br><span class="line">1.6.0 <span class="comment">#版本号</span></span><br><span class="line">10 <span class="comment">#发布次数</span></span><br><span class="line">el7 <span class="comment">#使用系统版本（CentOS7.RedHalt7）向下兼容</span></span><br><span class="line">x86_64 <span class="comment">#系统平台 64位 32位</span></span><br><span class="line">rpm <span class="comment">#包后缀名</span></span><br></pre></td></tr></table></figure>
<p>linux 中软件的安装方式</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rpm安装 已经编译好了的源码包，下载好了之后，直接使用rpm命令管理</span><br><span class="line">源码安装 先编译，将源代码翻译成系统能认识的软件，再去安装</span><br><span class="line">二进制安装 绿色软件（免安装）</span><br></pre></td></tr></table></figure>
<p>rpm 包的获取途径</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">.RedHat光盘或官方网站 （通过挂载的方式访问）</span><br><span class="line">2.RPM查询官网网站</span><br><span class="line">3.Nginx软件官方网站</span><br><span class="line">4.MySQL软件官方网站</span><br></pre></td></tr></table></figure>
<p>rpm 安装的命令</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">rpm [选项] rpm包名</span><br><span class="line">rpm包名</span><br><span class="line">-本地包名 在系统的某个目录下</span><br><span class="line">-远程包名 不用下载，直接使用网站上的rpm包</span><br><span class="line"><span class="comment"># 选项</span></span><br><span class="line">-i 安装</span><br><span class="line">-v 显示过程</span><br><span class="line">-h 显示安装的进度条</span><br><span class="line">--<span class="built_in">test</span> 仅测试，不安装</span><br><span class="line">--force 强制安装</span><br><span class="line">--nodeps 忽略依赖关系</span><br><span class="line"><span class="comment"># 常用组合</span></span><br><span class="line">rpm -ivh rpm包名</span><br><span class="line"><span class="comment"># 忽略依赖强制安装</span></span><br><span class="line">rpm -ivh --nodeps --force gcc-4.8.5-36.el7.x86_64.rpm</span><br><span class="line"><span class="comment"># iv</span></span><br><span class="line">[root@localhost /mnt/Packages]<span class="comment"># rpm -iv tree-1.6.0-10.el7.x86_64.rpm</span></span><br><span class="line">Preparing packages...   <span class="comment"># 过程</span></span><br><span class="line">tree-1.6.0-10.el7.x86_64</span><br><span class="line"><span class="comment"># ivh</span></span><br><span class="line">[root@localhost /mnt/Packages]<span class="comment"># rpm -ivh tree-1.6.0-10.el7.x86_64.rpm</span></span><br><span class="line">Preparing...</span><br><span class="line"><span class="comment">################################# [100%]</span></span><br><span class="line">Updating / installing...1:tree-1.6.0-10.el7</span><br><span class="line"><span class="comment">################################# [100%]</span></span><br><span class="line"><span class="comment"># --testrpm -ivh --test wget-1.14-18.el7.x86_64.rpm</span></span><br><span class="line"></span><br><span class="line">[root@localhost /mnt/Packages]<span class="comment"># rpm -i gcc-4.8.5-36.el7.x86_64.rpm</span></span><br><span class="line">error: Failed dependencies:</span><br><span class="line">cpp = 4.8.5-36.el7 is needed by gcc-4.8.5-36.el7.x86_64glibc-devel &gt;= 2.2.90-12 is needed bygcc-4.8.5-36.el7.x86_64libmpc.so.3()(64bit) is needed by gcc-4.8.5-36.el7.x86_64libmpfr.so.4()(64bit) is needed by gcc-4.8.5-36.el7.x86_64</span><br><span class="line">rpm命令-查询</span><br><span class="line"><span class="comment"># 网上下载</span></span><br><span class="line">rpm -ivh https://mirrors.aliyun.com/zabbix/zabbix/5.0/rhel/7/x86_64/zabbix-agent-5.0.1-1.el7.x86_64.rpm</span><br></pre></td></tr></table></figure>
<p>查询</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 语法</span></span><br><span class="line">rpm 选项 rpm包名</span><br><span class="line"><span class="comment"># 选项</span></span><br><span class="line">-q 查看指定的安装包是否安装(能单独使用)</span><br><span class="line">------------以下都需要配合-q使用--------------</span><br><span class="line">-a 全部安装过的包</span><br><span class="line">-i 详细信息</span><br><span class="line">-l 列出rpm包相关的配置文件和目录</span><br><span class="line">-c 只查看该软件的包相关的配置文件</span><br><span class="line">-d 只查看改软件的帮助文档文件</span><br><span class="line">-f 反向查找，根据配置文件，反向查找包</span><br><span class="line">------------以上都需要配合上面选项使用----------</span><br><span class="line">------</span><br><span class="line">-p 查询未安装的包的相关信息</span><br><span class="line"><span class="comment"># -qi</span></span><br><span class="line">[root@localhost ~]<span class="comment"># rpm -qi grub2-pc-2.02-0.76.el7.centos.x86_64</span></span><br><span class="line">Name : grub2-pc</span><br><span class="line">Epoch : 1</span><br><span class="line">Version : 2.02</span><br><span class="line">Release : 0.76.el7.centos</span><br><span class="line">Architecture: x86_64</span><br><span class="line">Install Date: Wed 08 Mar 2023 07:07:28 PM</span><br><span class="line">CST</span><br><span class="line">Group : System Environment/Base</span><br><span class="line">Size : 0</span><br><span class="line">License : GPLv3+</span><br><span class="line">Signature : RSA/SHA256, Mon 12 Nov 2018</span><br><span class="line">10:28:10 PM CST, Key ID 24c6a8a7f4a80eb5</span><br><span class="line">Source RPM : grub2-2.02-</span><br><span class="line">0.76.el7.centos.src.rpm</span><br><span class="line">Build Date : Fri 09 Nov 2018 08:58:43 AM</span><br><span class="line">CST</span><br><span class="line">Build Host : kbuilder.bsys.centos.org</span><br><span class="line">Relocations : (not relocatable)</span><br><span class="line">Packager : CentOS BuildSystem</span><br><span class="line">&lt;http://bugs.centos.org&gt;</span><br><span class="line">Vendor : CentOS</span><br><span class="line">URL :</span><br><span class="line">http://www.gnu.org/software/grub/</span><br><span class="line">Summary : Bootloader with support <span class="keyword">for</span></span><br><span class="line">Linux, Multiboot, and more</span><br><span class="line">Description :</span><br><span class="line">The GRand Unified Bootloader (GRUB) is a</span><br><span class="line">highly configurable and</span><br><span class="line">customizable bootloader with modular</span><br><span class="line">architecture. It supports a rich</span><br><span class="line">variety of kernel formats, file systems,</span><br><span class="line">computer architectures and</span><br><span class="line">hardware devices.</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">rpm -qc grub2-pc-2.02-0.76.el7.centos.x86_64</span><br><span class="line">rpm -ql grub2-pc-2.02-0.76.el7.centos.x86_64</span><br><span class="line">rpm -qd grub2-pc-2.02-0.76.el7.centos.x86_64</span><br><span class="line">rpm -qf /etc/grub2.cfg</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">-qip 查询没有安装过包的详细信息</span><br><span class="line">-qlp 查询没有安装的包会产生那些文件</span><br><span class="line">-qcp 查询没有安装的包会产生那些配置文件</span><br><span class="line">-qdp 查询没有安装的包会产生那些帮助文件</span><br></pre></td></tr></table></figure>
<p>rpm 包升级</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 选项</span></span><br><span class="line">-U updata升级，如果老版本不存在，则会安装新版本，如果老版本存在吗，会直接升级</span><br><span class="line">-f 老版本必须存在</span><br></pre></td></tr></table></figure>
<p>rpm 包卸载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 选项</span></span><br><span class="line">-e 后面接卸载包名</span><br></pre></td></tr></table></figure>
<p>光盘获取（挂载 / 卸载）</p>
<p>挂载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">挂载：</span><br><span class="line">mount  iso路径  需挂载的目录</span><br><span class="line">mount /dev/cdrom /mnt</span><br><span class="line"><span class="comment"># 查看挂载信息</span></span><br><span class="line"><span class="built_in">df</span> -h</span><br><span class="line">/dev/sr0 4.3G 4.3G 0 100% /mnt</span><br></pre></td></tr></table></figure>
<p>卸载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 卸载语法</span></span><br><span class="line">umount 目标路径</span><br><span class="line">umount /mnt/</span><br><span class="line"><span class="comment"># 卸载挂载的报错</span></span><br><span class="line">umount /mnt/</span><br><span class="line">umount: /mnt: target is busy.</span><br><span class="line">(In some cases useful info about</span><br><span class="line">processes that use</span><br><span class="line">the device is found by lsof(8) or</span><br><span class="line">fuser(1))</span><br><span class="line"><span class="comment">## 原因，现在身处目标路径 ，会导致卸载不掉，目标正忙，离开目录即可</span></span><br></pre></td></tr></table></figure>
<p>yum 的使用</p>
<p>换源</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">本地储存位置:/etc/yum.repos.d</span><br><span class="line"><span class="comment"># 删除本地yum源</span></span><br><span class="line"><span class="built_in">rm</span> -fr /etc/yum.repos.d/*</span><br><span class="line"><span class="comment"># 更换base源</span></span><br><span class="line">wget -O /etc/yum.repos.d/CentOSBase.repohttp://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line"><span class="comment">#或者</span></span><br><span class="line">curl -o /etc/yum.repos.d/CentOSBase.repohttp://mirrors.aliyun.com/repo/Centos-7.repo</span><br><span class="line"><span class="comment"># 更换epel源</span></span><br><span class="line">wget -O /etc/yum.repos.d/epel.repohttp://mirrors.aliyun.com/repo/epel-7.repo</span><br><span class="line"></span><br><span class="line"><span class="comment"># yum包缓存设置</span></span><br><span class="line">vim /etc/yum.conf</span><br><span class="line">[main]</span><br><span class="line">keepcache=0--------&gt;1  <span class="comment">#   0：关闭  1：开启</span></span><br><span class="line"><span class="comment"># 加载yum缓存</span></span><br><span class="line">yum makecache</span><br><span class="line"><span class="comment"># 查看本地缓存包</span></span><br><span class="line">/var/cache/yum/x86_64/7/updates/pckages</span><br></pre></td></tr></table></figure>
<p>yum 包查找</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看yum仓库中所有可以安装的包</span></span><br><span class="line">yum list</span><br><span class="line"><span class="comment"># 过滤</span></span><br><span class="line">[root@localhost ~]<span class="comment"># yum list | grep vim</span></span><br><span class="line"><span class="comment"># 包名  版本号 发布次数 系统平台 隶属那个源</span></span><br><span class="line">vim-common.x86_642:7.4.629-8.el7_9 @updates</span><br><span class="line"><span class="comment"># 查看仓库中所有包的详细信息</span></span><br><span class="line">yum info</span><br></pre></td></tr></table></figure>
<p>yum 安装 / 更新</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># yum安装方法：</span></span><br><span class="line">一丶本地安装</span><br><span class="line">yum localinstall -y 包名    <span class="comment">#包名得跟全路径</span></span><br><span class="line">二丶yum源安装</span><br><span class="line">yum install -y 包名</span><br><span class="line">三丶wget安装</span><br><span class="line">wget +URL</span><br><span class="line">四丶网站上安装</span><br><span class="line">yum install -y 包链接网站</span><br><span class="line"><span class="comment"># -y：免交互方式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#卸载：</span></span><br><span class="line">yum remove -y  包名</span><br><span class="line">yum erase -y   包名</span><br><span class="line"></span><br><span class="line"><span class="comment"># 检查所有可以更新的包</span></span><br><span class="line">yum check-update</span><br><span class="line"><span class="comment"># 更新</span></span><br><span class="line">yum update -y 包名  <span class="comment"># 切记，要跟包名。否则此命令相当于升级linux所有可升级的包，包括内核</span></span><br></pre></td></tr></table></figure>
<p>什么是进程？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">在windows上安装的QQ，我们会将其称为QQ程序，那么当QQ运行之后，在任务管理器中，我们可以看到QQ程序在运行着，此时，我们称其为:QQ进程。</span><br></pre></td></tr></table></figure>
<p>进程的概念又是什么？</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 进程是已启动的可执行程序的运行实例，进程有以下组成部分: </span></span><br><span class="line">分配内存, 已分配内存的地址空间</span><br><span class="line">安全属性, 进程的运行身份和权限 </span><br><span class="line">进程代码, 运行一个或多个的线程 </span><br><span class="line">进程状态, 进程运行后的多种状态 </span><br><span class="line">静态程序, 二进制文件, 静态/bin/ls, /usr/sbin/sshd </span><br><span class="line">动态进程, 程序运行的过程, 有生命周期及运行状态</span><br><span class="line"><span class="comment"># 进程的运行环境，包括以下几个部分：</span></span><br><span class="line">局部和全局变量 </span><br><span class="line">当前的调度上下文 </span><br><span class="line">分配给进程使用的系统资源，例如文件描述符、网络端口等 </span><br><span class="line">给进程分配对应的pid,ppid</span><br></pre></td></tr></table></figure>
<p>进程和程序的区别又是什么？</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">1.当程序运行为进程后，系统会为该进程分配内存，以及运行的身份和权限。 </span><br><span class="line">2.在进程运行的过程中，服务器上回有各种状态来表示当前进程的指标信息。</span><br></pre></td></tr></table></figure>
<p>进程的查看：ps</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">语法：ps 选项 参数   <span class="comment">#常用的语法有 ps -ef  ps  -aux</span></span><br><span class="line">选项：</span><br><span class="line">-a 显示所有与终端相关的进程，由终端发起的</span><br><span class="line">-u 显示所有进程的管理用户</span><br><span class="line">-x 显示与终端无关的</span><br><span class="line">-o 自定义展示</span><br><span class="line">-l 显示该进程的启动命令</span><br></pre></td></tr></table></figure>
<p>ps -aux 显示信息详解</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop101 ~]<span class="comment">#ps -aux</span></span><br><span class="line">USER        PID %CPU %MEM    VSZ   RSS TTY      STAT START   TIME COMMAND</span><br><span class="line">USER   <span class="comment">#该进程的管理用户</span></span><br><span class="line">PID    <span class="comment">#进程号</span></span><br><span class="line">%CPU   <span class="comment">#该进程占用CPU的百分比</span></span><br><span class="line">%MEM   <span class="comment">#该进程占用内存的百分比</span></span><br><span class="line">VSZ    <span class="comment">#该进程占用虚拟内存的代销</span></span><br><span class="line">RSS    <span class="comment">#该进程占用物理内存的大小</span></span><br><span class="line">TTY</span><br><span class="line">	？    <span class="comment">#由内核发起的进程</span></span><br><span class="line">	<span class="built_in">tty</span>   <span class="comment">#机器上的终端进程</span></span><br><span class="line">	pts/N  <span class="comment">#远程链接工具的终端进程</span></span><br><span class="line">STAT   <span class="comment">#程序的状态</span></span><br><span class="line">	D  <span class="comment">#无法中断的休眠进程（通IO进程）  //常用</span></span><br><span class="line">	R  <span class="comment">#正在运行的状态    //常用</span></span><br><span class="line">	S  <span class="comment">#处在休眠状态的进程    //常用</span></span><br><span class="line">	T  <span class="comment">#暂停或者被跟踪的状态   //常用</span></span><br><span class="line">	W  <span class="comment">#进入就交换内存的进程 （centos7见不到）</span></span><br><span class="line">	X  <span class="comment">#死掉的进程（少见）</span></span><br><span class="line">	Z  <span class="comment">#僵尸进程      //常用</span></span><br><span class="line">	&lt;  <span class="comment">#优先级高的进程</span></span><br><span class="line">	N  <span class="comment">#优先级低的进程</span></span><br><span class="line">	L  <span class="comment">#有些数据页被锁进内存的进程</span></span><br><span class="line">	s  <span class="comment">#父进程，在底下有子进程</span></span><br><span class="line">	l  <span class="comment">#以线程的方式运行</span></span><br><span class="line">	|  <span class="comment">#存在多线程的进程</span></span><br><span class="line">	+  <span class="comment">#在前台运行    //常用</span></span><br><span class="line">START  <span class="comment">#进程开启的时间</span></span><br><span class="line">TIME   <span class="comment">#该进程占用cpu的时间</span></span><br><span class="line">COMMAND</span><br><span class="line">	[]  <span class="comment">#内核态 //由系统发起的进程</span></span><br><span class="line">	没有[]  <span class="comment"># 用户态进程  //由用户发起的进程</span></span><br></pre></td></tr></table></figure>
<p>后台进程</p>
<p>后台被暂停的进程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看所有暂停的进程   jobs</span></span><br><span class="line">[root@hadoop101 ~]<span class="comment">#ping baidu.com</span></span><br><span class="line">PING baidu.com (110.242.68.66) 56(84) bytes of data.</span><br><span class="line">64 bytes from 110.242.68.66 (110.242.68.66): icmp_seq=1 ttl=128 time=33.8 ms</span><br><span class="line">64 bytes from 110.242.68.66 (110.242.68.66): icmp_seq=2 ttl=128 time=38.9 ms</span><br><span class="line">64 bytes from 110.242.68.66 (110.242.68.66): icmp_seq=3 ttl=128 time=32.9 ms</span><br><span class="line">^Z</span><br><span class="line">[1]+  Stopped                 ping baidu.com</span><br><span class="line">[root@hadoop101 ~]<span class="comment">#vim jj</span></span><br><span class="line"></span><br><span class="line">[2]+  Stopped                 vim jj</span><br><span class="line">[root@hadoop101 ~]<span class="comment">#jobs</span></span><br><span class="line">[1]-  Stopped                 ping baidu.com</span><br><span class="line">[2]+  Stopped                 vim jj</span><br><span class="line"><span class="comment"># 命令</span></span><br><span class="line"><span class="comment">#bg:让暂停的进程运行起来，后面加数字 bg是默认恢复最后一个</span></span><br><span class="line">[root@hadoop101 ~]<span class="comment">#bg 1</span></span><br><span class="line">[1]- ping baidu.com &amp;</span><br><span class="line">[root@hadoop101 ~]<span class="comment">#64 bytes from 110.242.68.66 (110.242.68.66): icmp_seq=4 ttl=128 time=34.3 ms</span></span><br><span class="line">64 bytes from 110.242.68.66 (110.242.68.66): icmp_seq=5 ttl=128 time=36.8 ms</span><br><span class="line">64 bytes from 110.242.68.66 (110.242.68.66): icmp_seq=6 ttl=128 time=35.7 ms</span><br><span class="line">64 bytes from 110.242.68.66 (110.242.68.66): icmp_seq=7 ttl=128 time=33.7 ms</span><br><span class="line">64 bytes from 110.242.68.66 (110.242.68.66): icmp_seq=8 ttl=128 time=33.8 ms</span><br><span class="line"><span class="comment">#fg:是吧后台暂停的进程，放置前台运行，后面加数字</span></span><br></pre></td></tr></table></figure>
<p>进程管理 TOP</p>
<p>top 信息解析</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop101 ~]<span class="comment">#top</span></span><br><span class="line"><span class="comment">#第一行</span></span><br><span class="line">top - 15:12:56 up  2:06,  2 <span class="built_in">users</span>,  load average: 0.00, 0.01, 0.05</span><br><span class="line">top 命令</span><br><span class="line">15：12：56 当前的系统时间</span><br><span class="line">up 2：06 该服务的运行时间</span><br><span class="line">2 <span class="built_in">users</span> 当前登录的用户数量</span><br><span class="line">load average: 0.00, 0.01, 0.05 系统的平均负载</span><br><span class="line">0.00 1分钟前</span><br><span class="line">0.01 5分钟</span><br><span class="line">0.05 15分钟前</span><br><span class="line"><span class="comment">#第二行</span></span><br><span class="line">Tasks:  99 total,   2 running,  95 sleeping,   2 stopped,   0 zombie</span><br><span class="line">99 total 当前系统中所有的进程数量</span><br><span class="line">2 running 当前系统中所有的运行状态的进程数量</span><br><span class="line">95 sleeping 当前系统中所有的睡眠状态的进程数量</span><br><span class="line">2 stopped 当前系统中所有的暂停状态的进程数量</span><br><span class="line">0 zombie 当前系统中所有的僵尸状态的进程数量</span><br><span class="line"><span class="comment">#第三行  cpu百分比</span></span><br><span class="line">%Cpu(s):  0.3 us,  0.0 sy,  0.0 ni, 99.3 <span class="built_in">id</span>,  0.0 wa,  0.0 hi,  0.3 si,  0.0 st</span><br><span class="line">us 用户进程占用的cpu百分比</span><br><span class="line">sy 系统进程占用的cpu百分比</span><br><span class="line">ni 优先级较高的进程占用cpu的百分比</span><br><span class="line"><span class="built_in">id</span> cpu的空闲容量</span><br><span class="line">wa 等待状态的进程占用cpu百分比</span><br><span class="line">hi 硬件终端占用cpu的百分比</span><br><span class="line">si 软件终端占用cpu的百分比</span><br><span class="line">st 虚拟化技术占用cpu的百分比</span><br><span class="line"><span class="comment">#第四行  物理内存</span></span><br><span class="line">KiB Mem :  4323088 total,  3153580 free,   310264 used,   859244 buff/cache</span><br><span class="line">4323088 total 总内存数</span><br><span class="line">3153580 free 空闲内存</span><br><span class="line">310264 used 已使用内存</span><br><span class="line">859244 buff/cache buffer缓冲区/缓冲区</span><br><span class="line"><span class="comment">#第五行  虚拟内存</span></span><br><span class="line">KiB Swap:  2093052 total,  2093052 free,        0 used.  3773604 avail Mem</span><br><span class="line">2093052 total 总虚拟内存</span><br><span class="line">2093052 free 空闲虚拟内存</span><br><span class="line">0 used 已使用的虚拟内存</span><br><span class="line">3773604 avail Mem 可用的虚拟内存书</span><br></pre></td></tr></table></figure>
<p>什么是中断？</p>
<figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">中断是系统用来影响硬件设备请求的一种机制。他会打断进程的正常调度和执行，然后调用内核中的终端处理程序来影响设备的请求</span><br></pre></td></tr></table></figure>
<p>top 命令的使用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">语法：top 选项</span><br><span class="line">选项：</span><br><span class="line">-d 指定刷新时间（默认是3秒）</span><br><span class="line">-p 只查看指定pid的进程</span><br><span class="line">-u 指定相关用户</span><br><span class="line">-b 将top中的内容保存至文件中</span><br><span class="line">-n 指定次数</span><br><span class="line"></span><br><span class="line"><span class="comment">#top常见指令</span></span><br><span class="line">h 查看帮助</span><br><span class="line">z 高亮显示</span><br><span class="line">l  查看所有cpu的负载   //数字1</span><br><span class="line">s 设置刷新时间</span><br><span class="line">b 高亮显示处在R装态的进程</span><br><span class="line">M 按内存百分比进行排序输出</span><br><span class="line">P 按照cpu的百分比进行排序输出</span><br><span class="line">R 对排序进行反转</span><br><span class="line">f 自定义显示字段</span><br><span class="line">k <span class="built_in">kill</span>掉指定的进程</span><br><span class="line">w 保存top的环境变量</span><br><span class="line">q 退出</span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">#top 选项参数说明</span></span><br><span class="line"> PID USER      PR  NI    VIRT    RES    SHR S %CPU %MEM     TIME+ COMMAND </span><br><span class="line"> PID：进程的<span class="built_in">id</span>号</span><br><span class="line"> USER：该进程的用户</span><br><span class="line"> PR NI ：该进程的优先级   <span class="comment">#//-20最优先级，19最慢</span></span><br><span class="line"> VIRT ：虚拟内存占用空间</span><br><span class="line"> RES：物理内存占用空间</span><br><span class="line"> SHR：共享内存占用空间</span><br><span class="line"> S：进程的状态</span><br><span class="line"> %CPU：占用cpu的百分比</span><br><span class="line"> %MEM：占用内存的百分比</span><br><span class="line"> TIME+：运行时间</span><br><span class="line">COMMAND ：进程的运行命令</span><br></pre></td></tr></table></figure>
<p>什么是平均负载</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">平均负载是指，单位时间内，系统处于可运行状态和不可中断状态的平均进程数，也就是平均活跃进程数，</span><br><span class="line"><span class="comment">#因此，可以简单理解为,平均负载其实就是单位时间内的活跃进程数。</span></span><br></pre></td></tr></table></figure>
<p>平均负载多少时合理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#首先最理想的状态是每个cpu上都刚好运行着-个进程，</span></span><br><span class="line">这样每个cpu都得到了充分利用所以在评判负载时，首先你要知道系统有几个CPU，这可以通过命令犹取，或grep mouername/proc/cpuinfo</span><br><span class="line">你要知道系统有几个cpu，这可以通过命令犹取，或grep鼠标名/proc/cpuinfo</span><br><span class="line">例1:</span><br><span class="line">架设现在在4，2, 1核的CPU上，如果平均负载为2时，意味着什么呢?</span><br><span class="line">1在4个CPU的系统上，意味着CPU有50%空闲。</span><br><span class="line">2.在2个CPU的系统上,以为这所有的CPU都刚好完全被占用。</span><br><span class="line">3.在1个CPU的系统上,则意味着有一半的进程竞争不到CPU。</span><br></pre></td></tr></table></figure>
<p>负载过高怎么解决</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">下面我们以三个示例分别来看这三中情况，并用: stress、 mpstat、 pidstat等 工具找出平均负载升高的根源</span><br><span class="line">stresE是Linux系统压力测试工具,这里我们用作异常进程模拟平均负载升高的场景。</span><br><span class="line">mpstat是多核CPU性能分析工具,用来实时检查每个CPU的性能指标，以及所有CPU的平均指标。</span><br><span class="line">pidstat是一个常用的进程性能分析工具，用来实时查看进程的CPU,内存, I0,以及上下文切换等性能指标。</span><br><span class="line"><span class="comment">#首先使用mpstat和pidstat来分析是什么原因造成的负载</span></span><br><span class="line"><span class="comment">#找到原因后选择对应得解决方式，如果是某个命令造成得中断命令即可</span></span><br><span class="line"><span class="comment">#又或者是其他部门在使用得时候造成，比如开发在导出日志数据等</span></span><br></pre></td></tr></table></figure>
<p>进程信号的管理</p>
<p><img src="https://s2.loli.net/2023/07/07/rUg1bojFwtPBsCe.png" alt=""></p>
<p>常用的信号：</p>
<table>
<thead>
<tr>
<th>数字信号</th>
<th>信号别名</th>
<th>作用</th>
</tr>
</thead>
<tbody>
<tr>
<td>1</td>
<td>HUP</td>
<td>挂起信号，往往可以让进程重新配置</td>
</tr>
<tr>
<td>2</td>
<td>INT</td>
<td>中断信号 类似 ctrl+c</td>
</tr>
<tr>
<td>3</td>
<td>QUIT</td>
<td>让进程退出 结果是让进程退出</td>
</tr>
<tr>
<td>9</td>
<td>KILL</td>
<td>直接结束进程，不能被进程捕获</td>
</tr>
<tr>
<td>15</td>
<td>TERM</td>
<td>进程终止。这是默认信号</td>
</tr>
<tr>
<td>18</td>
<td>CONT</td>
<td>被暂停的进程将恢复运行 放在后台运行 bg</td>
</tr>
<tr>
<td>19</td>
<td>STOP</td>
<td>暂停进程</td>
</tr>
<tr>
<td>20</td>
<td>TSTP</td>
<td>用户停止请求，类似 ctrl+z 把程序放置后台运行</td>
</tr>
</tbody>
</table>
<p>centos6 开机启动流程：</p>
<p>启动流程</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">1丶内核引导</span><br><span class="line">2丶运行init</span><br><span class="line">3丶系统初始化</span><br><span class="line">4丶建立终端</span><br><span class="line">5丶用户登录系统</span><br><span class="line">--------------------------------------------------------------------------------</span><br><span class="line">一丶内核引导：</span><br><span class="line">	BIOS通电自检，检测主板上的硬件设备</span><br><span class="line">	读取/boot分区下所有的内核文件 </span><br><span class="line">二丶运行init：</span><br><span class="line">	0  关机</span><br><span class="line">	1  单用户级别</span><br><span class="line">	2  多用户级别（没有文件系统）</span><br><span class="line">	3  多用户级别(有文件系统)   <span class="comment">#//  常用</span></span><br><span class="line">	4  保留/没用</span><br><span class="line">	5  多用户模式，进入GUI图形化操作  <span class="comment"># //常用</span></span><br><span class="line">	6  重启              </span><br><span class="line"><span class="comment">#运行init会默认读取 /etc/inittab配置文件中的默认运行级别</span></span><br><span class="line"><span class="comment">#centos6默认运行级别：</span></span><br><span class="line">id3:initdefault：</span><br><span class="line"><span class="comment">#centos7默认运行级别</span></span><br><span class="line">multi-user.target：</span><br><span class="line">三：系统初始化</span><br><span class="line">根据运行设备设置开机自启动服务来启动</span><br><span class="line"><span class="comment">#centos6：</span></span><br><span class="line">chkconfig --list</span><br><span class="line"><span class="comment">#centos7：</span></span><br><span class="line">ll /etc/systemd/system/multi-user.target.wants/</span><br><span class="line">四丶建立终端</span><br><span class="line">五丶用户登录系统</span><br></pre></td></tr></table></figure>
<p>运行级别：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">1丶<span class="comment">#运行级别（runlevel）的分类：</span></span><br><span class="line">运行级别0：系统停机状态，系统默认运行级别不能设为0，否则不能正常启动</span><br><span class="line">运行级别1：单用户工作状态，root权限，用于系统维护，不能远程连接登录</span><br><span class="line">运行级别2：多用户状态 ，但是没有文件系统</span><br><span class="line">运行级别3：完全的多用户状态（有文件系统），登录后进入控制台终端命令行模式</span><br><span class="line">运行级别4：系统未使用，保留</span><br><span class="line">运行级别5：登录后进入图像化GUI模式</span><br><span class="line">运行级别6：系统正常关闭重启，默认运行级别不能设为6，否则不能正常启动</span><br></pre></td></tr></table></figure>
<p>查看运行级别：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">命令：runlevel</span><br><span class="line">[root@hadoop101 ~]<span class="comment">#runlevel</span></span><br><span class="line">N 3</span><br></pre></td></tr></table></figure>
<p>Linux 关机命令：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#关机</span></span><br><span class="line">init0</span><br><span class="line">shutdown</span><br><span class="line">poweroff</span><br><span class="line"></span><br><span class="line">shutdown关机命令，可以使用--<span class="built_in">help</span>使用查看</span><br><span class="line">shutdown –h 10<span class="comment">#这个命令告诉计算机将在10分钟后关机，并且会显示在登陆用户的当前屏幕中。</span></span><br><span class="line">shutdown –h now 立马关机</span><br><span class="line">shutdown –h 20:25 系统会在今天20:25关机 <span class="comment">#//却决于系统自带时间</span></span><br><span class="line"><span class="comment"># 重启</span></span><br><span class="line">reboot</span><br><span class="line">init6</span><br><span class="line"></span><br><span class="line">hutdown –r now 系统立马重启</span><br><span class="line">shutdown –r +10 系统十分钟后重启</span><br><span class="line">reboot 就是重启，等同于 shutdown –r now</span><br></pre></td></tr></table></figure>
<p>centos7 开机启动流程：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line">1.BIOS(开机自检)</span><br><span class="line">2.MBR ( Master Boot Record 主引导记录)</span><br><span class="line">3.GRUB2 Bootloader（引导菜单）</span><br><span class="line">4.Kernel（内核引导）</span><br><span class="line">5.Systemd （不再使用init，改成了systemd）</span><br><span class="line">6.Runlevel-Target （运行级别）</span><br><span class="line"></span><br><span class="line">1丶BIOS自检：开机时，计算机会进行自检，即Basic Input/Output System (BIOS)自检，检测计算机的硬件设备是否正常工作。</span><br><span class="line"></span><br><span class="line">2丶启动引导程序加载：BIOS自检完成后，会将启动引导程序（boot loader）从硬盘加载到内存中，然后运行该程序。在CentOS 7中，启动引导程序为GRUB2。</span><br><span class="line"></span><br><span class="line">3丶内核加载：启动引导程序会加载Linux内核，即vmlinuz文件。内核是操作系统的核心之一，它会初始化计算机硬件设备，建立内存空间，加载驱动程序等操作。</span><br><span class="line"></span><br><span class="line">4丶初始RAM文件系统加载：内核加载后，它会加载一个叫做initramfs的文件系统。initramfs是一个临时的根文件系统，它包含了一些必要的驱动程序和工具，以便内核可以继续加载后续的文件系统。</span><br><span class="line"></span><br><span class="line">5丶根文件系统加载：在initramfs加载完成后，操作系统会加载真正的根文件系统，即根目录（/）所在的文件系统。在CentOS 7中，根文件系统可以是ext4、XFS、Btrfs等文件系统。</span><br><span class="line"></span><br><span class="line">6丶systemd初始化：CentOS 7使用systemd作为启动管理器，systemd会在内核加载完成后启动。它会读取系统配置文件，初始化系统服务，并启动用户空间进程。</span><br><span class="line"></span><br><span class="line">7丶用户空间进程启动：在systemd初始化完成后，操作系统会启动用户空间进程，包括登录管理器（如GDM、LightDM等）和用户桌面环境（如GNOME、KDE等）。用户可以通过登录管理器登录系统，然后进入桌面环境开始使用计算机。</span><br></pre></td></tr></table></figure>
<p>运行级别：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">0 – 关闭系统   <span class="comment">#//runlevel0.target -&gt; poweroff.target</span></span><br><span class="line">1 – 单用户模式  <span class="comment">#//runlevel1.target -&gt; rescue.target</span></span><br><span class="line">2 – 多用户模式，无网络连接   <span class="comment">#//runlevel2.target -&gt; multi-user.target</span></span><br><span class="line">3 – 多用户模式，有网络连接，命令行界面  <span class="comment">#//runlevel3.target -&gt; multi-user.target</span></span><br><span class="line">4 – 未使用   <span class="comment">#//runlevel4.target -&gt; multi-user.target</span></span><br><span class="line">5 – 图形化界面  <span class="comment">#//runlevel5.target -&gt; graphical.target</span></span><br><span class="line">6 – 重启系统  <span class="comment">#//runlevel6.target -&gt; reboot.target</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#默认运行级别为3。可以使用以下命令查看当前运行级别：</span></span><br><span class="line">systemctl get-default</span><br><span class="line"><span class="comment">#可以使用以下命令修改默认运行级别：其中，&lt;target&gt;可以是上述7个运行级别中的任意一个。例如，设置默认运行级别为图形化界面（运行级别5）：</span></span><br><span class="line">systemctl set-default &lt;target&gt;</span><br><span class="line">例：systemctl set-default graphical.target</span><br><span class="line"><span class="comment">#注意，在CentOS 7中，运行级别的概念已经被替代为&quot;targets&quot;。因此，可以使用以下命令列出所有可用的&quot;targets&quot;：</span></span><br><span class="line">systemctl list-units --<span class="built_in">type</span>=target</span><br></pre></td></tr></table></figure>
<p>systemctl 系统服务</p>
<p>启动服务</p>
<p>centos7</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在centos7中我们使用的系统服务命令是systemctl，</span></span><br><span class="line">语法：systemctl [动作] 服务名</span><br><span class="line">常用动作：</span><br><span class="line">start  //开启</span><br><span class="line">restart  //重启</span><br><span class="line">stop   //停止</span><br><span class="line">status  //查看服务状态</span><br><span class="line">reload   //出重新加载</span><br><span class="line">is-active  //判断服务是否在运行</span><br><span class="line">mask   //禁用</span><br><span class="line">unmask  //取消禁用</span><br></pre></td></tr></table></figure>
<p>centos6</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">语法：/etc/init.d/服务名 start</span><br><span class="line"><span class="comment">#其他语法动作同上，只是后面动作不一样而已</span></span><br></pre></td></tr></table></figure>
<p>开机自启服务管理</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 查看开机自启的服务有哪些</span></span><br><span class="line">chkconfig</span><br><span class="line"><span class="comment">#设置开机自启</span></span><br><span class="line">systemctl <span class="built_in">enable</span> [服务名]</span><br><span class="line"><span class="comment">#关闭自启服务</span></span><br><span class="line">systemctl <span class="built_in">disable</span> [服务名]</span><br><span class="line"><span class="comment"># 查看指定服务是否开机自启</span></span><br><span class="line">语法：systemctl is-enabled [服务名]</span><br><span class="line">[root@hadoop103 ~]<span class="comment"># systemctl is-enabled network</span></span><br><span class="line">enabled  //允许开机自启</span><br><span class="line">[root@hadoop103 ~]<span class="comment"># systemctl is-enabled firewalld</span></span><br><span class="line">disabled  //不允许开机自启</span><br></pre></td></tr></table></figure>
<p>crontab 配置文件详解</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop103 ~]<span class="comment"># vim /etc/crontab </span></span><br><span class="line">SHELL=/bin/bash</span><br><span class="line">PATH=/sbin:/bin:/usr/sbin:/usr/bin</span><br><span class="line">MAILTO=root</span><br><span class="line"></span><br><span class="line"><span class="comment"># For details see man 4 crontabs</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Example of job definition:</span></span><br><span class="line"><span class="comment"># .---------------- minute (0 - 59)  //表示分钟 0-59</span></span><br><span class="line"><span class="comment"># |  .------------- hour (0 - 23)  //表示小时 0-23 </span></span><br><span class="line"><span class="comment"># |  |  .---------- day of month (1 - 31)  //表示天  1-31</span></span><br><span class="line"><span class="comment"># |  |  |  .------- month (1 - 12) OR jan,feb,mar,apr ...  //表示月 1-12 </span></span><br><span class="line"><span class="comment"># |  |  |  |  .---- day of week (0 - 6) (Sunday=0 or 7) OR   //表示周 1-7 sun,mon,tue,wed,thu,fri,sat</span></span><br><span class="line"><span class="comment"># |  |  |  |  |</span></span><br><span class="line"><span class="comment"># *  *  *  *  * user-name  command to be executed</span></span><br></pre></td></tr></table></figure>
<p><strong>crontab 字段的意义</strong>：</p>
<p><img src="https://s2.loli.net/2023/07/07/ePkamLG5JgZdsfR.png" alt=""></p>
<p><strong>crontab 辅助字符</strong></p>
<p><img src="https://s2.loli.net/2023/07/07/lu3aQeqpwoDGb8I.png" alt=""></p>
<p>使用方法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">语法：crontab [选项] </span><br><span class="line">选项：</span><br><span class="line">-l ：列出当前用的所有定时任务</span><br><span class="line">-e ：编写新的定时任务</span><br><span class="line">-u ：指定定时任务的用户</span><br><span class="line">-r ：删除定时任务，（一般用于删除所有指定任务）</span><br></pre></td></tr></table></figure>
<p>系统的 crontab 配置文件</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/etc/cron.allow 将可以使用的crontab账号写入其中，不在这个文件的使用者则不可使用crontab</span><br><span class="line">/etc/cron.deny 将不可以使用crontab账号写入其中，若未记录到这个当中的使用者，就可以使用crontab。</span><br><span class="line">1. /etc/crontab.allow 比 /etc/cron.deny优先，建议只保留一个即可，一般系统默认是保留/etc/cron.deny,可以将不想让他执行crontab那个执行者写入/etc/cron.deny当中，一个账号一行。</span><br><span class="line">2.当用户使用crontab这个指令建立定时任务后，就会被记录到/var/spool/cron里面，而且是以账号来作为判断。</span><br><span class="line">3.另外，cron执行的每一项工作都会记录到/var/log/cron 日志中</span><br></pre></td></tr></table></figure>
<p>例题：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 每天凌晨两点 执行ls</span></span><br><span class="line">00 02 * * * <span class="built_in">ls</span> &gt;/dev/null</span><br><span class="line"><span class="comment"># 每个月的1号的凌晨两点执行ls</span></span><br><span class="line">00 02 1 * * <span class="built_in">ls</span></span><br><span class="line"><span class="comment"># 每年的2.14号的凌晨执行ls</span></span><br><span class="line">00 02 14 2 * <span class="built_in">ls</span></span><br><span class="line"><span class="comment"># 每周日 凌晨2点执行ls</span></span><br><span class="line">00 02 * * 7 <span class="built_in">ls</span></span><br><span class="line"><span class="comment"># 每天凌晨2点没10分钟执行ls</span></span><br><span class="line">*/10 02 * * * <span class="built_in">ls</span></span><br><span class="line"><span class="comment"># 没月的1~8号凌晨两点执行</span></span><br><span class="line">00 02 1-8 * * <span class="built_in">ls</span></span><br><span class="line"><span class="comment"># 每个月的每隔2天的8点到11点的03分和15分分别执行ls命令</span></span><br><span class="line">3,15 8-11 */2 * *</span><br></pre></td></tr></table></figure>
<p>时间同步</p>
<p>安装 ntpdate</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum install -y ntpdate</span><br></pre></td></tr></table></figure>
<p>时间同步</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ntpdate time1.aliyun.com  //time后面是数字1</span><br></pre></td></tr></table></figure>
<p>编写时间同步定时</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop101 ~]<span class="comment">#crontab -e</span></span><br><span class="line"><span class="comment"># userage:sync DATE   Date:2023/4/5 by:jiujiu</span></span><br><span class="line">* * * * * /usr/sbin/ntpdate time1.aliyun.con &amp;&gt;/dev/null</span><br></pre></td></tr></table></figure>
<p>查看定时任务日志：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">tail</span> -f /var/log/cron</span><br></pre></td></tr></table></figure>
<p>编写思路</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">1.手动执行命令，然后保留执行成功的结果。</span><br><span class="line">2.编写脚本</span><br><span class="line">脚本需要统一路径/scripts</span><br><span class="line">脚本内容复制执行成功的命令(减少每个环节出错几率)脚本内容尽可能的优化, 使用一些变量或使用简单的判断语句脚本执行的输出信息可以重定向至其他位置保留或写入/dev/null</span><br><span class="line">3.执行脚本</span><br><span class="line">使用bash命令执行, 防止脚本没有增加执行权限(/usr/bin/bash)执行脚本成功后，复制该执行的命令，以便写入cron</span><br><span class="line">4.编写计划任务加上必要的注释信息, 人、时间、任务设定计划任务执行的周期粘贴执行脚本的命令(不要手敲)</span><br><span class="line">5.调试计划任务增加任务频率测试检查环境变量问题检查crond服务日志</span><br><span class="line"><span class="comment">##创建当前时间当前日期的目录</span></span><br><span class="line"><span class="built_in">mkdir</span> $(<span class="built_in">date</span> +%F-%r)</span><br></pre></td></tr></table></figure>
<p>拒绝某个用户使用定时任务：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/cron.deny</span><br><span class="line">jiujiu</span><br><span class="line"><span class="comment"># 想拒绝谁就把谁写进/etc/cron.deny</span></span><br></pre></td></tr></table></figure>
</div>
        </div>
        
            <div class="kratos-copyright text-center clearfix">
                <h5 itemprop="copyrightNotice">本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
        
        <footer class="kratos-entry-footer clearfix">
            
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                
                
                    <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a>
                    <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "https://jiujiu.tj.cn/[object%20Object]/%E5%9F%BA%E7%A1%80%E6%80%BB%E7%BB%93/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "https://jiujiu.tj.cn/[object%20Object]/%E5%9F%BA%E7%A1%80%E6%80%BB%E7%BB%93/";
            const title         = "「基础总结」";
            const excerpt       = `总结
markdaown 语法
123456789101112131415基础语法标题：一级标题[# 正文]二级标题[## 正文]目录：[TOC]加粗字体：**正文**倾斜字体：*正文*超链接：[正文](网址)分割线：---空格语法框...`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                
                </div>
            
            <div class="footer-tag clearfix">
                <div class="pull-left">
                <i class="fa fa-tags"></i>
                    
                </div>
                <div class="pull-date">
                    <time datetime="2023-07-07T07:39:40.783Z" itemprop="dateModified">最后编辑：2023-07-07</time>
                </div>
            </div>
        </footer>
    </div>
    
        <nav class="navigation post-navigation clearfix" role="navigation">
            
            <div class="nav-previous clearfix">
                <a title=" 三剑客" href="//[object Object]/三剑客/">&lt; 上一篇</a>
            </div>
            
            
            <div class="nav-next clearfix">
                <a title=" NodeJs的安装及配置环境变量" href="//[object Object]/NodeJs的安装及配置环境变量/">下一篇 &gt;</a>
            </div>
            
        </nav>
    
    
</article>

        

            </section>

        

                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/avatar.webp" loading="lazy" decoding="auto" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center">总要试着出去走一下，管它是浪浪山还是书简胡，万一是落魄山呢？</p>
    </div>
    <div class="site-meta">
        <a class="meta-item" href="/archives/">
            <span class="title">
                文章
            </span>
            <span class="count">
                5
            </span>
        </a>
        <a class="meta-item" href="/categories/">
            <span class="title">
                分类
            </span>
            <span class="count">
                0
            </span>
        </a>
        <a class="meta-item" href="/tags/">
            <span class="title">
                标签
            </span>
            <span class="count">
                0
            </span>
        </a>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                

            
                
            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
            <a class="list-group-item" href="/%5Bobject%20Object%5D/Git%E5%85%B3%E8%81%94Github/"><i class="fa  fa-book"></i> Git关联Github</a>
            
          
        
          
          
            <a class="list-group-item" href="/%5Bobject%20Object%5D/Centos-Nginx-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85/"><i class="fa  fa-book"></i> Centos_Nginx-源码安装</a>
            
          
        
          
          
            <a class="list-group-item" href="/%5Bobject%20Object%5D/NodeJs%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/"><i class="fa  fa-book"></i> NodeJs的安装及配置环境变量</a>
            
          
        
          
          
            <a class="list-group-item" href="/%5Bobject%20Object%5D/%E5%9F%BA%E7%A1%80%E6%80%BB%E7%BB%93/"><i class="fa  fa-book"></i> 基础总结</a>
            
          
        
          
          
            <a class="list-group-item" href="/%5Bobject%20Object%5D/%E4%B8%89%E5%89%91%E5%AE%A2/"><i class="fa  fa-book"></i> 三剑客</a>
            
          
        
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer"  class="ap-lrc"  >
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        <!-- Keep for compatibility -->
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <!-- New links -->
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2023 山有木兮木有枝，心悦君兮君未知 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by 酒酒.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            <li>Hosted on <a href="https://github.io" target="_blank">Github Pages</a></li>
                        </div>
                        <div>
                            
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
                    <div class="box theme-box" id="snow-switch">
                        <span class="fa fa-snowflake-o"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="/vendors/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="/vendors/nprogress@0.2.0/nprogress.js"></script>
<script>
    if (!window.kr) {
        window.kr = {};
    }
    window.kr.notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));
    window.kr.siteRoot = "/";
</script>

    <div>
        <canvas id="snow"></canvas>
        <script async src="/js/snow.min.js"></script>
    </div>


    <script async src="/js/candy.min.js"></script>



    <script defer src="/vendors/aplayer@1.10.1/dist/APlayer.min.js"></script>
    
    <script defer src="/vendors/meting@2.0.1/dist/Meting.min.js"></script>
    <meting-js
        server="netease"
        type="playlist"
        id="718291344"
        order="random"
        fixed="true"
    >
    </meting-js>



    <script defer src="/vendors/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>



<!-- Extra support for third-party plguins  -->


    <script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":2,"vHeadPos":1,"jsonPath":"/live2dw/assets/histoire/histoire.model.json"},"display":{"superSample":2,"width":280,"height":480,"position":"right","hOffset":-2,"vOffset":-2},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body>
</html>
