<!DOCTYPE html>
<html lang="zh_CN">
    <head>
  <!-- 元数据 -->
  <meta charset="utf-8">
  
  
  <title>三剑客 | 山有木兮木有枝，心悦君兮君未知</title>
  
  <meta name="author" content="酒酒" />
  <meta http-equiv="Cache-Control" content="no-transform" />
  <meta http-equiv="Cache-Control" content="no-siteapp" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="robots" content="index,follow" />
  <meta name="viewport" content="width=device-width, initial-scale=1, maximum-scale=1" />
  <meta name="format-detection" content="telphone=no, email=no" />
  
    <meta name="keywords" content="" />
  
  <meta name="description" content="三剑客 grep 丶 awk 丶 sed 正则表达式 1.1 什么是正则表达式  匹配一些有规律的东西，比如手机号丶日志文件等 正则表达式 regular expression (RE) 正则使用：使用一些符号表达重复出现大小写，开头 &#x2F; 结尾含义  1.2 应用场景    正则表达式 Linux 三剑客使用，或者一些开发语言 (python,golang…)     应用场景 过滤有规律的内容，">
<meta property="og:type" content="article">
<meta property="og:title" content="三剑客">
<meta property="og:url" content="https://jiujiu.tj.cn/[object%20Object]/%E4%B8%89%E5%89%91%E5%AE%A2/index.html">
<meta property="og:site_name" content="山有木兮木有枝，心悦君兮君未知">
<meta property="og:description" content="三剑客 grep 丶 awk 丶 sed 正则表达式 1.1 什么是正则表达式  匹配一些有规律的东西，比如手机号丶日志文件等 正则表达式 regular expression (RE) 正则使用：使用一些符号表达重复出现大小写，开头 &#x2F; 结尾含义  1.2 应用场景    正则表达式 Linux 三剑客使用，或者一些开发语言 (python,golang…)     应用场景 过滤有规律的内容，">
<meta property="og:locale" content="zh_CN">
<meta property="og:image" content="https://s2.loli.net/2023/07/07/JWEUfjDHGdhlwNi.png">
<meta property="og:image" content="https://s2.loli.net/2023/07/07/WvfJxtU6C1ZK7Nd.png">
<meta property="og:image" content="https://s2.loli.net/2023/07/07/ZqPkL2SydC8xQjm.png">
<meta property="og:image" content="https://s2.loli.net/2023/07/07/Rgnm7lUWc3V5GaX.png">
<meta property="article:published_time" content="2023-07-07T00:21:35.000Z">
<meta property="article:modified_time" content="2023-07-07T08:29:22.082Z">
<meta property="article:author" content="酒酒">
<meta name="twitter:card" content="summary">
<meta name="twitter:image" content="https://s2.loli.net/2023/07/07/JWEUfjDHGdhlwNi.png">
  
  <!-- 站点验证相关 -->
  
    
    
    
  
  <!-- 样式表文件 -->
  <link rel="stylesheet" id="kratos-css" href="/css/kratosr.min.css" media="all"></script>
  
    <link rel="stylesheet" id="darkmode-css" href="/css/kr-color-dark.min.css" media="(prefers-color-scheme: dark)"></script>
    <script src="/js/kr-dark.min.js"></script>
  
  
    <link rel="stylesheet" id="highlight-css" href="/css/highlight/night-eighties.min.css" media="all"></script>
  
  <link rel="stylesheet" id="fontawe-css" href="/vendors/font-awesome@4.7.0/css/font-awesome.min.css" media="all"></script>
  <link rel="stylesheet" id="nprogress-css" href="/vendors/nprogress@0.2.0/nprogress.css" media="all"></script>
  
  
    <link rel="stylesheet" href="/vendors/aplayer@1.10.1/dist/APlayer.min.css"></script>
  
  
    <link rel="stylesheet" href="/vendors/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.css"></script>
  
  <!-- 不得不预先加载的一些JS文件 -->
  <script src="/vendors/jquery@3.6.0/dist/jquery.min.js"></script>
  
    <script src="/vendors/qrcode_js@1.0.0/qrcode.min.js"></script>
  
  
  <style>
    
    
  </style>
  
<meta name="generator" content="Hexo 6.3.0"></head>


    <body class="custom-background">
        <div id="kratos-wrapper">
    <div id="kratos-page">
        <div id="kratos-header">
            <header id="kratos-desktop-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="nav-header">
                        <nav id="kratos-menu-wrap">
                            <ul id="kratos-primary-menu" class="sf-menu">
                                
                                    
                                    
                                
                            </ul>
                        </nav>
                    </div>
                </div>
            </header>
            <header id="kratos-mobile-topnav" class="kratos-topnav">
                <div class="container">
                    <div class="color-logo"><a href="/">山有木兮木有枝，心悦君兮君未知</a></div>
                    <div class="nav-toggle">
                        <a class="kratos-nav-toggle js-kratos-nav-toggle">
                            <i></i>
                        </a>
                    </div>
                </div>
            </header>
        </div>
        <div class="kratos-start kratos-hero-2">
            <!-- <div class="kratos-overlay"></div> -->
            <div class="kratos-cover kratos-cover-2 text-center">
                <div class="desc desc2 animate-box">
                    <a href="/">
                        <h2>山有木兮木有枝，心悦君兮君未知</h2> <br />
                        <span>酒酒</span>
                    </a>
                </div>
            </div>
        </div>

        <div id="kratos-blog-post">
            <div class="container">
                <div id="main" class="row">
                    

        

            <section class="col-md-8">

        

            <article itemscope itemtype="https://schema.org/Article">
    
    <link itemprop="mainEntityOfPage" href="https://jiujiu.tj.cn/[object%20Object]/%E4%B8%89%E5%89%91%E5%AE%A2/">
    <div class="kratos-hentry kratos-post-inner clearfix">
        <header class="kratos-entry-header">
            
                <h1 class="kratos-entry-title text-center" itemprop="name headline">三剑客</h1>
            
            
            <ul class="kratos-post-meta text-center">
                <li><time datetime="2023-07-07T00:21:35.000Z" itemprop="datePublished"><i class="fa fa-calendar"></i> 2023-07-07</time></li>
                <li itemprop="author" itemscope itemtype="https://schema.org/Person">
                    <i class="fa fa-user"></i> 作者 <span itemprop="name">酒酒</span>
                </li>
                
                    <li>
                        <i class="fa fa-edit"></i> 
                        
                        
                            ~20.37K
                        
                        字
                    </li>
                
                
            </ul>
        </header>
        <div class="kratos-post-content">
            
            <div id="expire-alert" class="alert alert-warning hidden" role="alert">
                <div class="icon"><i class="fa fa-warning"></i></div>
                <div class="text"><p>本文最后编辑于 <time datetime="1688718562082"></time> 前，其中的内容可能需要更新。</p></div>
            </div>
            
            
            
            <hr />
            <div itemprop="articleBody"><p>三剑客 grep 丶 awk 丶 sed</p>
<p>正则表达式</p>
<p>1.1 什么是正则表达式</p>
<ul>
<li>匹配一些<font color = 'red'>有规律的</font>东西，比如手机号丶日志文件等</li>
<li>正则表达式 regular expression (RE)</li>
<li>正则使用：使用一些符号表达重复出现大小写，开头 / 结尾含义</li>
</ul>
<p>1.2 应用场景</p>
<table>
<thead>
<tr>
<th>正则表达式</th>
<th>Linux 三剑客使用，或者一些开发语言 (python,golang…)</th>
</tr>
</thead>
<tbody>
<tr>
<td>应用场景</td>
<td>过滤有规律的内容，尤其是日志</td>
</tr>
</tbody>
</table>
<p>1.3 正则使用事项</p>
<ul>
<li>所有的符号英文符号</li>
<li>学习正则，是通过 grep 命令学习 grep 加上单引号 如  grep ‘xxx’</li>
<li>注意系统的字符集；en_US.UTF-8 , 如果字符集出现问题修改成 C ( <code>export LANG=c</code> )</li>
<li>快速掌握正则：配合 grep -o 参数学习</li>
</ul>
<p>1.4 正则符号</p>
<table>
<thead>
<tr>
<th>分类</th>
<th></th>
<th>命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>基础正则</td>
<td>^  $  ^$   .   *    .*  \</td>
<td>grep/sed/awk</td>
</tr>
<tr>
<td>扩展正则</td>
<td>+ | () {} ?</td>
<td>egrep/sed-r/awk</td>
</tr>
</tbody>
</table>
<p>1.5 正则 vs 通配符</p>
<table>
<thead>
<tr>
<th>分类</th>
<th>用途</th>
<th>支持的命令</th>
</tr>
</thead>
<tbody>
<tr>
<td>正则 (RE)</td>
<td>三剑客，高级语言，进行过滤</td>
<td>三剑客 grep 丶 awk 丶 sed 丶 find</td>
</tr>
<tr>
<td>通配符 (pathname extenslon  或 glob)</td>
<td 1..10="">匹配文件 (文件名)*.txt  *.log</td>
<td>Linux 下面的大部分命令</td>
</tr>
</tbody>
</table>
<p>1.6 基础正则</p>
<p>1)<strong>^</strong></p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">作用：表示以什么开始...的行</span><br><span class="line">例：</span><br><span class="line">搜素文件txt中以a开头的行</span><br><span class="line">grep <span class="string">&#x27;^a&#x27;</span>  [文件名(txt)]</span><br><span class="line">注：如果没有任何提示，则表示要么字符有问题或者没有已a开头的行</span><br></pre></td></tr></table></figure>
<p>2)$</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">作用：表示已什么..结尾</span><br><span class="line">例：</span><br><span class="line">搜素文件txt中以a结尾的行</span><br><span class="line">grep <span class="string">&#x27;a$&#x27;</span>  [文件名(txt)]</span><br><span class="line">注：搜素结尾$得在后面</span><br></pre></td></tr></table></figure>
<p>3)^$</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">作用：表示搜素空行</span><br><span class="line">空行这一行中没有任何内容(空格也是符号)</span><br><span class="line">例：</span><br><span class="line">搜素文件txt中的空行</span><br><span class="line">grep <span class="string">&#x27;^$&#x27;</span>  [文件名(txt)]</span><br><span class="line">-v:反向抓取，也可用于排除(我想搜索123，加-v的话就是除了123显示 其他都显示)</span><br></pre></td></tr></table></figure>
<p>4）.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">表示任意一个字符(.不匹配空行)</span><br></pre></td></tr></table></figure>
<p>5）\ 转义字符</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">作用：表示去除原本特殊含义</span><br><span class="line">例;</span><br><span class="line">搜素文件txt.(点)结尾的行</span><br><span class="line">[root@hadoop100 ~]<span class="comment"># grep &#x27;.$&#x27; txt </span></span><br><span class="line">ifgdsfgd</span><br><span class="line">sdfsss.</span><br><span class="line">trete.g</span><br><span class="line">gdfgd</span><br><span class="line">eryer</span><br><span class="line">str.</span><br><span class="line">srtgrt</span><br><span class="line">trtg</span><br><span class="line">dfsfds.d</span><br><span class="line">注;如果以.$正则来搜索的话，结果是任意一个字符结尾的行</span><br><span class="line">[root@hadoop100 ~]<span class="comment"># grep &#x27;\.$&#x27; txt </span></span><br><span class="line">sdfsss.</span><br><span class="line">str.</span><br><span class="line">加上\转义符后，就去除了.(点)原本的匹配任意字符的含义</span><br></pre></td></tr></table></figure>
<ul>
<li>
<p>转义字符序列 (部分)</p>
<ul>
<li>\n  表示回车换行</li>
<li>\t  表示 tab 键</li>
</ul>
</li>
</ul>
<p>6）*</p>
<figure class="highlight sh"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">作用：*(星号)前一个字符匹配连续出现0次或者次以上</span><br><span class="line">例：</span><br><span class="line">[root@hadoop100 ~]<span class="comment"># grep &#x27;s*&#x27; txt </span></span><br><span class="line">ifgdsfgd</span><br><span class="line">sdfsss.</span><br><span class="line">trete.g</span><br><span class="line"></span><br><span class="line">gdfgd</span><br><span class="line">eryer</span><br><span class="line">str.</span><br><span class="line"></span><br><span class="line">srtgrt</span><br><span class="line">trtg</span><br><span class="line">dfsfds.d</span><br><span class="line">注：刚开始*比较少单独用，熟练掌握正则后</span><br></pre></td></tr></table></figure>
<p>7）.</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">作用：在正则表达式里面表示所有内容， 任何内容，任意内容</span><br><span class="line">整体记忆：.*表示所有即可</span><br><span class="line">拆分： .（点）任意一个字符+ *前一个字符出现0次或者0次以上，加起来就表示所有了</span><br></pre></td></tr></table></figure>
<ul>
<li>扩展
<ul>
<li>匹配以 s 开头到的任意结尾行
<ul>
<li>[root@hadoop100 ~]# grep ‘^s.*’ txt<br>
sdfsss.<br>
str.<br>
srtgrt<br>
sdadwaet</li>
</ul>
</li>
<li>匹配以 s 开头 t 结尾的行，中间任意内容
<ul>
<li>[root@hadoop100 ~]# grep ‘^s.*t’ txt<br>
str.<br>
srtgrt<br>
sdadwaet</li>
</ul>
</li>
<li>正则特色
<ul>
<li>正则表达式得到贪婪行，.* 表示所有或 * 连续出现的时候，会尽可能的过度匹配</li>
</ul>
</li>
</ul>
</li>
</ul>
<ol start="8">
<li>[] 中括号</li>
</ol>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line">[abc] 1次匹配1个字符，匹配任何一个字符[a或b或c]</span><br><span class="line">[]里面的内容去掉特殊意义，比如.在括号里面就是普通点</span><br><span class="line">例;</span><br><span class="line">[root@hadoop100 ~]<span class="comment"># cat txt </span></span><br><span class="line">ifgdsfgd</span><br><span class="line">sdfsss.</span><br><span class="line">trete.g</span><br><span class="line"></span><br><span class="line">gdfgd</span><br><span class="line">eryer</span><br><span class="line">str.</span><br><span class="line"></span><br><span class="line">srtgrt</span><br><span class="line">trtg</span><br><span class="line">dfsfds.d</span><br><span class="line">sdadwaet</span><br><span class="line">[root@hadoop100 ~]<span class="comment"># grep &#x27;[abc]&#x27; txt </span></span><br><span class="line">sdadwaet</span><br><span class="line">注：通常如果匹配多个字符的情况下可以用什么到什么来写</span><br><span class="line">如：匹配a到z的行</span><br><span class="line">[root@hadoop100 ~]<span class="comment"># grep &#x27;[a-z]&#x27; txt </span></span><br><span class="line">ifgdsfgd</span><br><span class="line">sdfsss.</span><br><span class="line">trete.g</span><br><span class="line">gdfgd</span><br><span class="line">eryer</span><br><span class="line">str.</span><br><span class="line">srtgrt</span><br><span class="line">trtg</span><br><span class="line">dfsfds.d</span><br><span class="line">sdadwaet</span><br><span class="line"></span><br><span class="line">如何匹配多个不同字符</span><br><span class="line">例;匹配txt文件中的大写和数字</span><br><span class="line">[root@hadoop100 ~]<span class="comment"># grep &#x27;[A-Z0-9]&#x27; txt </span></span><br><span class="line">AdwsXfs</span><br><span class="line">F</span><br><span class="line"> oDSADSA</span><br><span class="line">543DASA</span><br><span class="line">注：大小写可以简写成a-Z</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>9）[^]</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">作用：取反丶排除</span><br><span class="line">例：</span><br><span class="line">grep <span class="string">&#x27;[^abc]&#x27;</span> txt</span><br><span class="line">表示：从txt中标记所有的包含abc的词，输出剩下行</span><br></pre></td></tr></table></figure>
<p>10）总结</p>
<table>
<thead>
<tr>
<th>基础正则</th>
<th>含义</th>
<th>搭配</th>
</tr>
</thead>
<tbody>
<tr>
<td>^</td>
<td>以… 开头的行</td>
<td></td>
</tr>
<tr>
<td>$</td>
<td>以… 结尾的行</td>
<td></td>
</tr>
<tr>
<td>^$</td>
<td>表示空行</td>
<td>搭配固定</td>
</tr>
<tr>
<td>.</td>
<td>任意一个字符</td>
<td></td>
</tr>
<tr>
<td>*</td>
<td>前一个字符连续出现 0 次或者 0 次以上</td>
<td></td>
</tr>
<tr>
<td>.*</td>
<td>表示所有内容</td>
<td>搭配</td>
</tr>
<tr>
<td>\</td>
<td>转义符字符，、\n  \t</td>
<td></td>
</tr>
<tr>
<td>正则贪婪性</td>
<td>.* 的时候或者是连续出现</td>
<td>一般与 + 号搭配</td>
</tr>
<tr>
<td>[]</td>
<td>一个整体，匹配里面任意一个字符</td>
<td></td>
</tr>
<tr>
<td>[^]</td>
<td>取反，排除，也是一个整体</td>
<td></td>
</tr>
</tbody>
</table>
<p>1.7 扩展正则</p>
<table>
<thead>
<tr>
<th>符号</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td></td>
<td></td>
</tr>
<tr>
<td>|</td>
<td></td>
<td></td>
</tr>
<tr>
<td>（）</td>
<td></td>
<td></td>
</tr>
<tr>
<td>{}</td>
<td></td>
<td></td>
</tr>
<tr>
<td>？</td>
<td></td>
<td></td>
</tr>
</tbody>
</table>
<p>1）+  前一个字符出现 1 次或者 1 次以上</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">注：grep不支持扩展正则，得用egrep</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># grep &#x27;6+&#x27; txt </span></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># egrep &#x27;6+&#x27; txt </span></span><br><span class="line">434666666</span><br><span class="line">34235435643</span><br><span class="line"><span class="comment">#或者在+前面加上转义字符\</span></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># grep &#x27;6\+&#x27; txt </span></span><br><span class="line">434666666</span><br><span class="line">34235435643</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<ul>
<li>匹配出连续出现的数字</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop102 ~]<span class="comment"># egrep &#x27;[0-9]+&#x27; txt </span></span><br><span class="line">434666666</span><br><span class="line">34235435643</span><br><span class="line">5e5y</span><br><span class="line">e5745y</span><br><span class="line"><span class="comment"># -o；只输出匹配的内容</span></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># egrep -o &#x27;[0-9]+&#x27; txt </span></span><br><span class="line">434666666</span><br><span class="line">34235435643</span><br><span class="line">5</span><br><span class="line">5</span><br><span class="line">5745</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>2）|  或者</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#同中括号大同小异，中括号解决不了就可以用 | </span></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># cat txt </span></span><br><span class="line">sdfsdfs</span><br><span class="line">sdfsdfs</span><br><span class="line">ddddghggrr</span><br><span class="line">cxgrsg</span><br><span class="line">434666666</span><br><span class="line">dtsfgdrge</span><br><span class="line">34235435643</span><br><span class="line"> </span><br><span class="line"></span><br><span class="line"></span><br><span class="line">etrtgr</span><br><span class="line">5e5y</span><br><span class="line">y</span><br><span class="line">e5745y</span><br><span class="line">rtd:wq</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># egrep &#x27;e|4&#x27; txt </span></span><br><span class="line">434666666</span><br><span class="line">dtsfgdrge</span><br><span class="line">34235435643</span><br><span class="line">etrtgr</span><br><span class="line">5e5y</span><br><span class="line">e5745y</span><br><span class="line">	</span><br></pre></td></tr></table></figure>
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
<th>应用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>[]</td>
<td>1 次匹配一个字符</td>
<td>匹配单个字符 [] 和 +</td>
</tr>
<tr>
<td>|</td>
<td>匹配 1 个字符或者多个字符</td>
<td>匹配单词的时候</td>
</tr>
</tbody>
</table>
<p>3） （） 被括起来的内容，表示一个整体   反向引用（一般用于 sed）</p>
<ul>
<li>被括起来的内容，表示一个整体</li>
<li>反向引用（一般用于 sed）</li>
</ul>
<ol start="4">
<li>{}  连续出现 o {n，m}  前一个字母 o 最少连续出现 n 次，最多出现 m 次</li>
</ol>
<table>
<thead>
<tr>
<th>符号</th>
<th></th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td n，m="">o</td>
<td>前一个字母 o 最少连续出现 n 次，最多出现 m 次</td>
<td></td>
</tr>
<tr>
<td n="">o</td>
<td>前一个字母 o 连续出现 n 次</td>
<td></td>
</tr>
</tbody>
</table>
<p><img src="https://s2.loli.net/2023/07/07/JWEUfjDHGdhlwNi.png" alt=""></p>
<p>5） ？ 前一个字符出现 0 次或者 1 次</p>
<p><img src="https://s2.loli.net/2023/07/07/WvfJxtU6C1ZK7Nd.png" alt=""></p>
<p>6） 扩展正则总结</p>
<table>
<thead>
<tr>
<th>符号</th>
<th>含义</th>
<th>搭配</th>
</tr>
</thead>
<tbody>
<tr>
<td>+</td>
<td>前一个字符出现 1 次或者 1 次以上</td>
<td>[]+</td>
</tr>
<tr>
<td>|</td>
<td>或者</td>
<td></td>
</tr>
<tr>
<td>[]</td>
<td>一个整体，sed 反向引用</td>
<td></td>
</tr>
<tr>
<td>{}</td>
<td>前一个字母 o 最少连续出现 n 次，最多出现 m 次</td>
<td></td>
</tr>
<tr>
<td>?</td>
<td>前一个字符出现 0 次或者 1 次</td>
<td></td>
</tr>
</tbody>
</table>
<p>2.1 三剑客</p>
<p>三剑客的特点及应用</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>特点</th>
<th>应用</th>
</tr>
</thead>
<tbody>
<tr>
<td>grep</td>
<td>过滤丶查找</td>
<td>grep 过滤的速度是最快的</td>
</tr>
<tr>
<td>sed</td>
<td>替换，修改文件内容丶取 行</td>
<td>如果要替换 / 修改文件内容，取出某个范围的值</td>
</tr>
<tr>
<td>awk</td>
<td>取列，统计计算</td>
<td>取列丶对比比较丶统计计算</td>
</tr>
</tbody>
</table>
<p>grep</p>
<table>
<thead>
<tr>
<th>选项</th>
<th>含义</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>-E</td>
<td>=egrep</td>
<td></td>
</tr>
<tr>
<td>-A</td>
<td>例：-A5 匹配你要的内容显示下接来的 5 行</td>
<td></td>
</tr>
<tr>
<td>-B</td>
<td>例：-B5 匹配你要的内容显示接上面的 5 行</td>
<td></td>
</tr>
<tr>
<td>-C</td>
<td>例：-C 5 匹配你要的内容显示上下面的 5 行</td>
<td></td>
</tr>
<tr>
<td>-c</td>
<td>统计出现了多少次行，同 wc -l</td>
<td></td>
</tr>
<tr>
<td>-v</td>
<td>取反丶排除 (行)</td>
<td></td>
</tr>
<tr>
<td>-n</td>
<td>显示行号</td>
<td></td>
</tr>
<tr>
<td>-i</td>
<td>忽略大小写</td>
<td></td>
</tr>
<tr>
<td>-w</td>
<td>匹配单词</td>
<td></td>
</tr>
</tbody>
</table>
<p>-o                        精确过滤</p>
<p><img src="https://s2.loli.net/2023/07/07/ZqPkL2SydC8xQjm.png" alt=""></p>
<p>sed</p>
<p>字符串替换</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">语法：sed <span class="string">&#x27;s/原字符串/替换字符串/&#x27;</span> [文件路径]</span><br><span class="line"><span class="comment">#注意：</span></span><br><span class="line"><span class="comment">#若存在特殊字符，需要使用反斜线\进行转义；</span></span><br><span class="line"><span class="comment">#若存在单引号，外层的单引号改成双引号 sed &quot;s/原字符串/替换字符串/&quot;</span></span><br><span class="line"><span class="comment">#删除某一个字符串可写为：sed &#x27;s/原字符串//g&#x27;</span></span><br><span class="line">替换所有匹配到的关键字：</span><br><span class="line">sed <span class="string">&#x27;s/原字符串/替换字符串/g&#x27;</span></span><br><span class="line"><span class="comment"># 在末尾加g替换每一个匹配的关键字,否则只替换每行的第一个</span></span><br><span class="line"><span class="comment">#替换文件整行内容：</span></span><br><span class="line">例：把unr第四行替换成www.baidu</span><br><span class="line">[root@hadoop102 ~]<span class="comment">#sed -i &#x27;4c\www.baidu&#x27; unr   </span></span><br><span class="line">选项	功能</span><br><span class="line">-e	直接在命令行模式上进行sed动作编辑，此为默认选项</span><br><span class="line">-f	将sed的动作写在一个文件内，用–f filename 执行filename内的sed动作</span><br><span class="line">-i	直接修改文件内容</span><br><span class="line">-n	只打印模式匹配的行</span><br><span class="line">-r	支持扩展正则表达式</span><br><span class="line">-h --<span class="built_in">help</span>	显示帮助</span><br><span class="line">-v --version	显示版本信息</span><br><span class="line"><span class="comment">#命令：</span></span><br><span class="line">a\	在当前行下面插入文本</span><br><span class="line">i\	在当前行上面插入文本</span><br><span class="line">c\	把选定的行改为新的文本</span><br><span class="line">d	删除，删除选择的行</span><br><span class="line">D	删除模板块的第一行</span><br><span class="line">s	替换指定字符</span><br><span class="line">h	拷贝模板块的内容到内存中的缓冲区</span><br><span class="line">H	追加模板块的内容到内存中的缓冲区</span><br><span class="line">g	获得内存缓冲区的内容，并替代当前模板块中的文本</span><br><span class="line">G	获得内存缓冲区的内容，并追加到当前模板块文本的后面</span><br><span class="line">l	列表不能打印字符的清单</span><br><span class="line">n	读取下一个输入行，用下一个命令处理新的行而不是用第一个命令</span><br><span class="line">N	追加下一个输入行到模板块后面并在二者间嵌入一个新行，改变当前行号码</span><br><span class="line">p	打印模板块的行</span><br><span class="line">P	打印模板块的第一行</span><br><span class="line">q	退出Sed</span><br><span class="line">b	lable 分支到脚本中带有标记的地方，如果分支不存在则分支到脚本的末尾</span><br><span class="line">r	file 从file中读行</span><br><span class="line">t	label <span class="keyword">if</span>分支，从最后一行开始，条件一旦满足或者T，t命令，将导致分支到带有标号的命令处，或者到脚本的末尾</span><br><span class="line">T	label 错误分支，从最后一行开始，一旦发生错误或者T，t命令，将导致分支到带有标号的命令处，或者到脚本的末尾</span><br><span class="line">w	file 写并追加模板块到file末尾</span><br><span class="line">W	file 写并追加模板块的第一行到file末尾</span><br><span class="line">!	表示后面的命令对所有没有被选定的行发生作用</span><br><span class="line">=	打印当前行号</span><br><span class="line"><span class="comment">#	把注释扩展到下一个换行符以前</span></span><br><span class="line"><span class="comment">#sed 替换标记 (s 替换脚本命令)</span></span><br><span class="line">标记	作用</span><br><span class="line">n	1~512 之间的数字，表示指定要替换的字符串出现第几次时才进行替换，例如，一行中有 3 个 A，但用户只想替换第二个 A，这时就用到这个标记</span><br><span class="line">g	行内全局替换，如果没有 g，则只会在第一次匹配成功时做替换操作。例如，一行数据中有 3 个 A，则只会替换第一个 A</span><br><span class="line">p	会打印与替换命令中指定的模式匹配的行。此标记通常与 -n 选项一起使用</span><br><span class="line">w	将缓冲区中的内容写到指定的 file 文件中</span><br><span class="line">x	互换模板块中的文本和缓冲区中的文本</span><br><span class="line">y	把一个字符翻译为另外的字符（但是不用于正则表达式）</span><br><span class="line">\n	匹配第n个子串，该子串之前在pattern中用 () 指定</span><br><span class="line">&amp;	已匹配字符串标记，用正则表达式匹配的内容进行替换</span><br><span class="line">\	转义（转义替换部分包含：&amp;、\ 等）</span><br></pre></td></tr></table></figure>
<ul>
<li>特点及格式
<ul>
<li>sed stram edior 流编辑器，sed 把处理的内容 (文件) 当作是水，源源不断的进行处理，直到文件末尾</li>
<li>sed 格式</li>
</ul>
</li>
</ul>
<table>
<thead>
<tr>
<th>命令</th>
<th>选项</th>
<th>(s）sed 命令功能 (g) 修饰符</th>
</tr>
</thead>
<tbody>
<tr>
<td>sed</td>
<td>-r</td>
<td>‘s#oldboy#oldgirl#g’</td>
</tr>
</tbody>
</table>
<ul>
<li>sed 命令核心功能</li>
</ul>
<table>
<thead>
<tr>
<th>功能</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>s</td>
<td>替换 (substitute)  sub</td>
</tr>
<tr>
<td>P</td>
<td>显示</td>
</tr>
<tr>
<td>d</td>
<td>delete</td>
</tr>
<tr>
<td>cai</td>
<td>增加</td>
</tr>
</tbody>
</table>
<p>3） sed 查找</p>
<p>选项：</p>
<p>-n：按行号查找，搭配<strong> p</strong> 使用  例：sed  -n ‘5p’  jiujiu.txt  注：如果不加 - n，则原文输出并重复输出指定行一遍 - e      多重编辑，且命令顺序会影响结果<br>
 - f       指定一个 sed 脚本文件到命令行执行，<br>
-r       Sed 使用扩展正则<br>
 - i       直接修改文档读取的内容，不在屏幕上输出</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>效果</th>
</tr>
</thead>
<tbody>
<tr>
<td>p</td>
<td>行号的意思</td>
</tr>
<tr>
<td>d</td>
<td>删除（不加 - 选项 ）</td>
</tr>
</tbody>
<tbody>
<tr>
<td>查找格式</td>
<td></td>
</tr>
<tr>
<td>------------------</td>
<td>------------------------------------------------------------</td>
</tr>
<tr>
<td>‘2p’</td>
<td>指定行号查找</td>
</tr>
<tr>
<td>‘1,5p’</td>
<td>指定行号范围查找</td>
</tr>
<tr>
<td>‘/xxxx/p’</td>
<td>类似于‘grep’过滤，// 里面可以写正则  例：sed -n ‘/^s/p’  jiujiu.txt</td>
</tr>
<tr>
<td>‘/10:00/,/11:00/p’</td>
<td>表示范围的过滤，如果结尾范围输错，则从哪里开始查找输出到结尾</td>
</tr>
</tbody>
</table>
<p>4）删除 d</p>
<table>
<thead>
<tr>
<th>删除格式</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>‘2d’</td>
<td>指定行号删除</td>
</tr>
<tr>
<td>‘1,5d’</td>
<td>指定行号范围删除</td>
</tr>
<tr>
<td>‘/xxxx/’</td>
<td>类似于‘grep’过滤，// 里面可以写正则  例：sed -n ‘/^s/d’  jiujiu.txt</td>
</tr>
<tr>
<td>‘/10:00/,/11:00/p’</td>
<td>表示范围的过滤，如果结尾范围输错，则从哪里开始删除输出到结尾</td>
</tr>
<tr>
<td>注：d 是删除一行</td>
<td>常用：例 sed ‘5d’ jiujiu.txt</td>
</tr>
</tbody>
</table>
<p>案例：删除文件中得到空行和包含 #的行</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">egrep -v <span class="string">&#x27;^$|#&#x27;</span> /etc/ssh/sshd_config</span><br><span class="line">sed -r <span class="string">&#x27;/^$|#/d&#x27;</span> /etc/ssh/sshd_config</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment"># !的妙用</span></span><br><span class="line">在sed和awk中表示取反</span><br><span class="line">sed -nr <span class="string">&#x27;/^$|#/!p&#x27;</span> /etc/ssh/sshd_config  <span class="comment">#!p表示不显示空行/包含#号的行	</span></span><br></pre></td></tr></table></figure>
<p>5）增加 ：cai</p>
<table>
<thead>
<tr>
<th>命令</th>
<th>含义</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>c   （replace）替代</td>
<td>替换这行的内容</td>
<td></td>
</tr>
<tr>
<td>**a ** （append）追加    * 重点</td>
<td>向指定的行或每一行追加内容 （相当于 &gt;&gt;）【行的末尾追加】</td>
<td></td>
</tr>
<tr>
<td>i      (insert) 插入</td>
<td>向指定的行或每一行插入内容  （行的前面插入）</td>
<td></td>
</tr>
</tbody>
</table>
<p>例：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#在txt中第四行下面追加一句jiujiu</span></span><br><span class="line">[root@hadoop100 ~]<span class="comment"># sed &#x27;4a jiujiu&#x27; txt </span></span><br><span class="line"><span class="comment">#在txt中第四行上面追加一句jiujiu</span></span><br><span class="line">[root@hadoop100 ~]<span class="comment"># sed &#x27;4i jiujiu&#x27; txt</span></span><br><span class="line"><span class="comment">#把txt中第四行删除并改为jiujiu</span></span><br><span class="line">[root@hadoop100 ~]<span class="comment"># sed &#x27;4c jiujiu&#x27; txt</span></span><br></pre></td></tr></table></figure>
<p>试题：</p>
<p>向 config 文件中追加多行内容</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#需追加内容为：</span></span><br><span class="line">UseDNS no</span><br><span class="line">GSSAPIAUTCATTON no</span><br><span class="line">permitRootLogin no</span><br><span class="line"> <span class="comment">#方法一</span></span><br><span class="line"> <span class="built_in">cat</span> &gt;&gt; config &lt;&lt; <span class="string">EOF</span></span><br><span class="line"><span class="string"> UseDNS no</span></span><br><span class="line"><span class="string">GSSAPIAUTCATTON no</span></span><br><span class="line"><span class="string">permitRootLogin no</span></span><br><span class="line"><span class="string">EOF</span></span><br><span class="line"><span class="comment">#如果要追加的内容包含特殊符号，则在EOF两边加是‘’</span></span><br><span class="line"><span class="comment">#方法二</span></span><br><span class="line">sed <span class="string">&#x27;$a UseDNS no\GSSAPIAUTCATTON no\permitRootLogin no&#x27;</span>  config</span><br></pre></td></tr></table></figure>
<p>6) 替换：s</p>
<p>替换格式：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">语法：sed <span class="string">&#x27;s#xxx#xxx#g&#x27;</span></span><br><span class="line">  s:<span class="comment">#想要的搜索内容#想替换的内容#g   </span></span><br><span class="line">  s：搜索                     g：全局</span><br></pre></td></tr></table></figure>
<p>反向引用：</p>
<p>口诀：先保护，在使用</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">例：把hello，world前后反过来</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># echo hello,world </span></span><br><span class="line">hello,world</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># echo hello,world | sed -r &#x27;s#(^.*),(.*$)#\2 \1#g&#x27;</span></span><br><span class="line">world hello</span><br><span class="line"></span><br><span class="line">注：尽量使用<span class="comment">#</span></span><br></pre></td></tr></table></figure>
<p>awk</p>
<p>1）awk 基本概念</p>
<figure class="highlight bash"><figcaption><span>awk 是一个按需求格式化文本再进行输出的工具。</span></figcaption><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">  awk 是一个按需求格式化文本再进行输出的工具。</span><br><span class="line">  和 sed 命令类似，awk 命令也是逐行扫描文件（从第 1 行到最后一行），寻找含有目标文本的行，如果匹配成功，则会在该行上执行用户想要的操作；反之，则不对行做任何处理。</span><br><span class="line">  awk -f 脚本文件 数据文件  执行awk脚本文件</span><br><span class="line">  awk 的应用场景：</span><br><span class="line">看下 awk 能干些什么事情：</span><br><span class="line">1. 能够将给定的文本内容，按照我们期望的格式输出显示，打印成报表。</span><br><span class="line">2. 分析处理系统日志，快速地分析挖掘我们关心的数据，并生成统计信息；</span><br><span class="line">3. 方便地用来统计数据，比如网站的访问量，访问的 IP 量等；</span><br><span class="line">4. 通过各种工具的组合，快速地汇总分析系统的运行信息，让你对系统的运行了如指掌；</span><br><span class="line">5. 强大的脚本语言表达能力，支持循环、条件、数组等语法，助你分析更加复杂的数据；</span><br><span class="line">awk 不是万能的，它比较擅长处理格式化的文本，比如 日志、 csv 格式数据等；</span><br></pre></td></tr></table></figure>
<p>awk 的工作流程图如图</p>
<p><img src="https://s2.loli.net/2023/07/07/Rgnm7lUWc3V5GaX.png" alt=""></p>
<p>工作原理：</p>
<p>逐行读取文本，默认以空格或 tab 键为分隔符进行分隔，将分隔所得的各个字段保存到内建变量中，并按模式或者条件执行编辑命令。</p>
<p>在使用 awk 命令的过程中，可以使用逻辑操作符 “&amp;&amp;” 表示 “与”、“||” 表示 “或”、“!” 表示 “非”；还可以进行简单的数学运算，如 +、-、*、/、%、^ 分别表示加、减、乘、除、取余和乘方。</p>
<p>2）语法</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">举例：</span><br><span class="line"><span class="comment"># awk -F: &#x27;BEGIN&#123;print&quot;-----header-----&quot;&#125; &#123;print $1,$7&#125; END&#123;print&quot;-----footer-----&quot;&#125;&#x27; /etc/passwd</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>3）awk 结构</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line">1. BEGIN 区域</span><br><span class="line">Begin 区域的语法:</span><br><span class="line">BEGIN &#123; awk-commands &#125;</span><br><span class="line">BEGIN 区域的命令只最开始、在 awk 执行 body 区域命令之前执行一次。</span><br><span class="line">BEGIN 区域很适合用来打印报文头部信息，以及用来初始化变量。</span><br><span class="line">BEGIN 区域可以有一个或多个 awk 命令</span><br><span class="line">关键字 BEGIN 必须要用大写</span><br><span class="line">BEGIN 区域是可选的</span><br><span class="line">2. body 区域</span><br><span class="line">body 区域的语法:</span><br><span class="line">/pattern/ &#123;action&#125;</span><br><span class="line">body 区域的命令每次从输入文件读取一行就会执行一次</span><br><span class="line">如果输入文件有 10 行，那 body 区域的命令就会执行 10 次(每行执行一次)</span><br><span class="line">Body 区域没有用任何关键字表示，只有用正则模式和命令。</span><br><span class="line">Body 区域是可选的</span><br><span class="line">3. END 区域</span><br><span class="line">END 区域的语法:</span><br><span class="line">END &#123; awk-commands &#125;</span><br><span class="line">END 区域在 awk 执行完所有操作后执行，并且只执行一次。</span><br><span class="line">END 区域很适合打印报文结尾信息，以及做一些清理动作</span><br><span class="line">END 区域可以有一个或多个 awk 命令</span><br><span class="line">关键字 END 必须要用大写</span><br><span class="line">END 区域是可选的</span><br><span class="line">提示：如果命令很长，即可以放到单行执行，也可以用\折成多行执行。</span><br></pre></td></tr></table></figure>
<p>行与列</p>
<table>
<thead>
<tr>
<th>名词</th>
<th>awk 一些叫法</th>
<th>一些说明</th>
</tr>
</thead>
<tbody>
<tr>
<td>行</td>
<td>记录 (record)</td>
<td>每一行默认通过回车分割的</td>
</tr>
<tr>
<td>列</td>
<td>字段 (field)</td>
<td>每一列默认通过空格分割的</td>
</tr>
<tr>
<td>awk 中行与列结束的标记都是可以修改的</td>
<td></td>
<td></td>
</tr>
</tbody>
<tbody>
<tr>
<td>内置变量</td>
<td>功能</td>
</tr>
<tr>
<td>--------</td>
<td>------------------------------------------------------------</td>
</tr>
<tr>
<td>NF</td>
<td>当前处理的行的字段个数（就是：有多少列）</td>
</tr>
<tr>
<td>NR</td>
<td>当前处理的行的行号（就是：有多少行）例：NR==1 [取出某一行]</td>
</tr>
<tr>
<td>FNR</td>
<td>读取文件的记录数（行号），从 1 开始，新的文件重新从 1 开始计数</td>
</tr>
<tr>
<td>$0</td>
<td>当前处理的行的整行内容（就是：表示一行的内容）</td>
</tr>
<tr>
<td>$n</td>
<td>当前处理行的第 n 个字段（就是：第 n 列）</td>
</tr>
<tr>
<td>FILENAME</td>
<td>被处理的文件名</td>
</tr>
<tr>
<td>FS</td>
<td>指定每行的字段分隔符，默认为空格或制表位（相当于选项 -F ）</td>
</tr>
<tr>
<td>OFS</td>
<td>输出字段的分隔符，默认也是空格</td>
</tr>
<tr>
<td>RS</td>
<td>行分割符。awk 从文件上读取资料时，将根据 Rs 的定义把资料切割成许多条记录，而 awk 一次仅读取一条记录，预设值是 “\n“</td>
</tr>
<tr>
<td>ORS</td>
<td>输出分割符，默认也是换行符</td>
</tr>
</tbody>
</table>
<p>1）取行</p>
<table>
<thead>
<tr>
<th>awk</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>NR==1</td>
<td>取出某一行</td>
</tr>
<tr>
<td>NR&gt;=1&amp;&amp;（并且）NR&lt;=5</td>
<td>取出 1 到 5 行范围</td>
</tr>
<tr>
<td>常用符号</td>
<td>&gt;  &lt;=&gt;=   &lt;=   ==  !=（不等于）</td>
</tr>
<tr>
<td>/jiujiu/</td>
<td>//(双斜线搜索 / 过滤)</td>
</tr>
<tr>
<td>/xx/，/xx/</td>
<td>例：[root@hadoop102 ~]# awk ‘/1/,/4/’ like<br/>1hello ,world<br/>2like<br/>4linux</td>
</tr>
</tbody>
</table>
<p>2）取列</p>
<p>在 awk 中取列首先要认识 - F</p>
<ul>
<li>-F：指定分隔符，指定每一列结束标记 (默认是空格 / 连续的空格 / 还有 tab 键)</li>
<li><span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mtext>数字：表示取出某一列注意：在</mtext><mi>a</mi><mi>w</mi><mi>k</mi><mtext>中</mtext></mrow><annotation encoding="application/x-tex">数字：表示取出某一列 注意：在awk中</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:0.69444em;vertical-align:0em;"></span><span class="mord cjk_fallback">数</span><span class="mord cjk_fallback">字</span><span class="mord cjk_fallback">：</span><span class="mord cjk_fallback">表</span><span class="mord cjk_fallback">示</span><span class="mord cjk_fallback">取</span><span class="mord cjk_fallback">出</span><span class="mord cjk_fallback">某</span><span class="mord cjk_fallback">一</span><span class="mord cjk_fallback">列</span><span class="mord cjk_fallback">注</span><span class="mord cjk_fallback">意</span><span class="mord cjk_fallback">：</span><span class="mord cjk_fallback">在</span><span class="mord mathnormal">a</span><span class="mord mathnormal" style="margin-right:0.02691em;">w</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord cjk_fallback">中</span></span></span></span>内容一个意思，表示取出某一列</li>
<li>$0: 表示整行的内容</li>
<li print="" xxx="">取列一般是</li>
<li>$NF: 表示取最后一列</li>
</ul>
<p>小结</p>
<ul>
<li>行与列的认知，[行：记录   列：字段 / 域]</li>
<li>awk 取行与取列</li>
<li></li>
</ul>
<p>awk 模式匹配</p>
<table>
<thead>
<tr>
<th>awk</th>
<th>-F&quot;[ /]+&quot;</th>
<th>‘NR==2{print $2}’</th>
</tr>
</thead>
<tbody>
<tr>
<td>命令</td>
<td>选项</td>
<td>‘条件 {动作}’</td>
</tr>
</tbody>
</table>
<ul>
<li>比较符号：&lt;(小于)  &gt;(大于)  =（等于） &gt;=(大于等于)  &lt;=(小于等于)   !=(不等于)</li>
<li>正则：</li>
<li>范围： 表达式 ；</li>
<li>特殊条件：BEGIN 和 END</li>
</ul>
<p>1）比较表达式 - 参考上面取行部分</p>
<p>2）正则：</p>
<ul>
<li>//(双划线) 支持扩展正则</li>
<li>awk 可以精确到某一列，某一列中包含 / 不包含… 内容</li>
<li>~  ：包含</li>
<li>!~: 不包含</li>
</ul>
<table>
<thead>
<tr>
<th>正则</th>
<th>awk 正则</th>
</tr>
</thead>
<tbody>
<tr>
<td>^  表示… 开头</td>
<td>某一列的开头  $2~/^like/ : 第二列以 like 开头的</td>
</tr>
<tr>
<td>$  表示… 结尾</td>
<td>某一列的结尾   <span class="katex"><span class="katex-mathml"><math xmlns="http://www.w3.org/1998/Math/MathML"><semantics><mrow><mn>2</mn><mtext> </mtext><mi mathvariant="normal">/</mi><mi>l</mi><mi>i</mi><mi>k</mi><mi>e</mi></mrow><annotation encoding="application/x-tex">2~/like</annotation></semantics></math></span><span class="katex-html" aria-hidden="true"><span class="base"><span class="strut" style="height:1em;vertical-align:-0.25em;"></span><span class="mord">2</span><span class="mspace nobreak"> </span><span class="mord">/</span><span class="mord mathnormal" style="margin-right:0.01968em;">l</span><span class="mord mathnormal">i</span><span class="mord mathnormal" style="margin-right:0.03148em;">k</span><span class="mord mathnormal">e</span></span></span></span>/ : 第二列以 like 结尾的</td>
</tr>
<tr>
<td>^$  空行</td>
<td>某一列的空的   2~/^/ : 第二列空行的</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">练习：</span><br><span class="line"><span class="comment">#找出第三列以2开头的行，并显示第一列，第三列，最后一列</span></span><br><span class="line">文件：/etc/passwd</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># awk -F: &#x27;$3~/^2/&#x27; /etc/passwd| awk -F : &#x27;&#123;print $1,$3,$NF&#125;&#x27;</span></span><br><span class="line"><span class="comment">#取找出第三列以1或者2开头的行，并显示第一列，第三列，最后一列</span></span><br><span class="line"> awk -F: <span class="string">&#x27;$3~/^[12]/&#x27;</span> /etc/passwd| awk -F : <span class="string">&#x27;&#123;print $1,$3,$NF&#125;&#x27;</span></span><br><span class="line"> awk -F: <span class="string">&#x27;$3~/^1|^2/&#x27;</span> /etc/passwd| awk -F : <span class="string">&#x27;&#123;print $1,$3,$NF&#125;&#x27;</span></span><br><span class="line"> 可以多种写法，主要看正则怎么写</span><br></pre></td></tr></table></figure>
<p>3）表示范围</p>
<ul>
<li>/ 从哪里开始 /./ 哪里结束 /  常用</li>
<li>NR<mark>1，NR</mark>5  从第一行开始到第五行结束   类似于 sed  -n  ‘1,5p’</li>
</ul>
<p>4) 特殊模式 BEGIN {} 和 END {}</p>
<table>
<thead>
<tr>
<th>模式</th>
<th>含义</th>
<th>应用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>BEGIN</td>
<td>里面的内容会在 awk<strong> 读取文件之前</strong>执行</td>
<td>1）进行简单的统计，计算，不涉及读取文件（<strong>常用</strong>）<br />2）用来处理文件之前，添加个表头（了解）<br />3) 用来定义 awk 变量（很少用，因为可以用 - v）</td>
</tr>
<tr>
<td>END</td>
<td>里面的内容会在 awk<strong> 读取文件之后</strong>执行</td>
<td>1）awk 进行统计，一般是过程；<font color=red><strong>先进行计算，最后 END 里面输出结果</strong></font>（常用）<br />2）awk 使用数组，用来输出数组结果（常用）</td>
</tr>
</tbody>
</table>
<ul>
<li>
<p>END {} 统计计算</p>
</li>
<li>
<p>统计方法：</p>
<table>
<thead>
<tr>
<th>统计方法</th>
<th>简写形式</th>
<th>应用场景</th>
</tr>
</thead>
<tbody>
<tr>
<td>i++</td>
<td>i=i+1</td>
<td>计数型，统计次数</td>
</tr>
<tr>
<td>sum=sum+??</td>
<td>sum+=??</td>
<td>求和，累加</td>
</tr>
<tr>
<td>注意：i  sum  都是变量，可以随便写</td>
<td></td>
<td></td>
</tr>
<tr>
<td>array[]=array[]+1</td>
<td>array[]++</td>
<td>数组分类计算</td>
</tr>
</tbody>
</table>
</li>
</ul>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">统计/etc/service里面有多少个空行</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># awk &#x27;/^$/&#123;i++&#125;END&#123;print i&#125;&#x27; /etc/services </span></span><br><span class="line">17</span><br><span class="line"><span class="comment">#求1到100的和</span></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># seq 100|awk &#x27;&#123;sum=sum+$1&#125;END&#123;print sum&#125;&#x27;</span></span><br><span class="line">5050</span><br><span class="line">如果要显示过程则：</span><br><span class="line">在条件后跟上<span class="built_in">print</span> xxx</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># seq 100|awk &#x27;&#123;sum=sum+$1，print sum&#125;END&#123;print sum&#125;&#x27;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>5）awk 数组</p>
<ul>
<li>统计日志：类似于统计个每个 ip 出现的字数，统计每种状态码出现的次数 / 统计系统中每个用户被攻击的次数等等…</li>
<li>累加求和；统计每个 ip 消耗的流量</li>
</ul>
<table>
<thead>
<tr>
<th></th>
<th>shell 数组</th>
<th>awk 数组</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>形式</td>
<td>array[0]=jiujiu   array[1]=like</td>
<td>array[0]=jiujiu   array[1]=like</td>
<td></td>
</tr>
<tr>
<td>使用</td>
<td>echo $(array[0])   echo $(array[1])</td>
<td>print array[0]  array[1]</td>
<td></td>
</tr>
<tr>
<td>批量输出数组内容</td>
<td>for i in $(array[*])<br />do<br />    echo $i <br />done</td>
<td>for (i in array)<br />      print i <br />      print  [i]</td>
<td>awk 数组专用循环，变量获取到的是数组的下标，如果想要数组内容 用 a [i]   注释 1</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#awk数组一般定义和使用</span></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># awk &#x27;BEGIN&#123;a[0]=jiujiu;a[1]=like; print a[0],a[1]&#125;&#x27;</span></span><br><span class="line"> </span><br><span class="line">[root@hadoop102 ~]<span class="comment"># #这里显示空白是因为在awk中字母会被识别为变量，如果只是想</span></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># #使用字符串需要用双引号引起来</span></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># #数字不受影响</span></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># awk &#x27;BEGIN&#123;a[0]=123;a[1]=321; print a[0],a[1]&#125;&#x27;</span></span><br><span class="line">123 321</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># awk &#x27;BEGIN&#123;a[0]=&quot;jiujiu&quot;;a[1]=&quot;like&quot;; print a[0],a[1]&#125;&#x27;</span></span><br><span class="line">jiujiu like</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#注释1：awk数组专用</span></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># awk &#x27;BEGIN&#123;a[0]=123;a[1]=321; for (i in a) print i&#125;&#x27;</span></span><br><span class="line">0</span><br><span class="line">1</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># awk &#x27;BEGIN&#123;a[0]=123;a[1]=321; for (i in a) print a[i]&#125;&#x27;</span></span><br><span class="line">123</span><br><span class="line">321</span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>练习题：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#统计以下域名出现次数(用awk)</span></span><br><span class="line">https://blog.driverzeng.com/index.html</span><br><span class="line">https://blog.driverzeng.com/index.html</span><br><span class="line">https://blog.driverzeng.com/index.html</span><br><span class="line">https://blog.driverzeng.com/1.html</span><br><span class="line">http://post.driverzeng.com/index.html</span><br><span class="line">https://blog.driverzeng.com/1.html</span><br><span class="line">https://blog.driverzeng.com/1.html</span><br><span class="line">http://mp3.driverzeng.com/index.html</span><br><span class="line">https://blog.driverzeng.com/1.html</span><br><span class="line">https://blog.driverzeng.com/3.html</span><br><span class="line">http://post.driverzeng.com/2.html</span><br><span class="line">http://post.driverzeng.com/2.html</span><br><span class="line">http://post.driverzeng.com/2.html</span><br><span class="line">http://post.driverzeng.com/2.html</span><br><span class="line">http://post.driverzeng.com/2.html</span><br><span class="line">http://post.driverzeng.com/2.html</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># cat 111 | awk -F &#x27;/&#x27; &#x27;&#123;array[$3]++&#125;END&#123;for (i in array)print i,array[i]&#125;&#x27; 111 </span></span><br><span class="line">blog.driverzeng.com 8</span><br><span class="line">post.driverzeng.com 7</span><br><span class="line">mp3.driverzeng.com 1</span><br><span class="line"></span><br><span class="line"><span class="comment">#array[]++ 你要统计什么  []里面就是什么(某一列</span></span><br><span class="line"><span class="comment">#比如：统计access.log中ip出现的次数  array[$1]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure>
<p>注意：使用 awk 统计日志，尽量精确匹配</p>
<p>6）for 循环 /if 判断</p>
<table>
<thead>
<tr>
<th>shell 编程 c 语言 for 循环</th>
<th>awk  for 循环</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>for((i=1;i&lt;=10;i++))<br />do<br />      echo '$i’<br />down</td>
<td>for(i=1;1&lt;=10;i++)<br />print i</td>
<td>awk  for 循环用来循环每个字段</td>
</tr>
</tbody>
</table>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">例：</span><br><span class="line">1+100的和</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># awk &#x27;BEGIN&#123;for(i=1;i&lt;=100;i++)sum+=i;print sum&#125;&#x27;</span></span><br><span class="line">5050</span><br><span class="line"></span><br><span class="line">[root@hadoop102 ~]<span class="comment"># awk &#x27;BEGIN&#123;</span></span><br><span class="line"><span class="keyword">for</span>(i=1;i&lt;=100;i++)</span><br><span class="line">	<span class="built_in">sum</span>+=i;</span><br><span class="line"><span class="built_in">print</span> <span class="built_in">sum</span></span><br><span class="line">&#125;<span class="string">&#x27;</span></span><br><span class="line"><span class="string">5050</span></span><br><span class="line"><span class="string"></span></span><br></pre></td></tr></table></figure>
<p>if 判断</p>
<table>
<thead>
<tr>
<th>shell  if    判断</th>
<th>awk  if  判断</th>
<th></th>
</tr>
</thead>
<tbody>
<tr>
<td>if[“who” -eq  20 ];then<br />     echo ’成年人’<br />fi</td>
<td>if（条件）<br /> print &quot; 成年人”</td>
<td>常用</td>
</tr>
<tr>
<td>if[“who” -eq  20 ];then<br />     echo ’成年人’<br /> else<br />     echo &quot; 未成年人 “<br /> fi</td>
<td>if（条件）<br />      print &quot; 成年人”<br /> else<br />      print &quot; 未成年人 “</td>
<td></td>
</tr>
</tbody>
</table>
<p>例子：</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">统计磁盘空间使用率，如果大于1%，则提示磁盘空间不足，并显示磁盘分区，磁盘使用率，磁盘挂载点</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># df -h</span></span><br><span class="line">Filesystem               Size  Used Avail Use% Mounted on</span><br><span class="line">devtmpfs                 2.1G     0  2.1G   0% /dev</span><br><span class="line">tmpfs                    2.1G     0  2.1G   0% /dev/shm</span><br><span class="line">tmpfs                    2.1G   12M  2.1G   1% /run</span><br><span class="line">tmpfs                    2.1G     0  2.1G   0% /sys/fs/cgroup</span><br><span class="line">/dev/mapper/centos-root   45G  1.5G   44G   4% /</span><br><span class="line">/dev/sda1                3.0G  138M  2.9G   5% /boot</span><br><span class="line">tmpfs                    423M     0  423M   0% /run/user/0</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># df -h | awk -F &#x27;[ %]+&#x27; &#x27;NR&gt;1&#123;if($5&gt;=1)print &quot;disk no enough&quot;,$1,$5,$NF&#125;&#x27;</span></span><br><span class="line">disk no enough tmpfs 1 /run</span><br><span class="line">disk no enough /dev/mapper/centos-root 4 /</span><br><span class="line">disk no enough /dev/sda1 5 /boot</span><br><span class="line"><span class="comment">#注意：</span></span><br><span class="line">awk使用多个条件的时候，第一个条件可以放在‘条件&#123;动作&#125;’ 第二个条件一般使用<span class="keyword">if</span>判断</span><br></pre></td></tr></table></figure>
<p>试题：</p>
<p>统计这段语句中，单词字符数小于 6 的单词 ，显示出来</p>
<p>Life is too short to spend time with people who suck the happiness out of you</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">[root@hadoop102 ~]<span class="comment"># echo Life is too short to spend time with people who suck the happiness out of you</span></span><br><span class="line">awk <span class="string">&#x27;&#123;for(i=1;i&lt;=NF;i++) if(length($i)&lt;6) print $i&#125;&#x27;</span></span><br><span class="line">Life</span><br><span class="line">is</span><br><span class="line">too</span><br><span class="line">short</span><br><span class="line">to</span><br><span class="line">spend</span><br><span class="line">time</span><br><span class="line">with</span><br><span class="line"><span class="built_in">who</span></span><br><span class="line">suck</span><br><span class="line">the</span><br><span class="line">out</span><br><span class="line">of</span><br><span class="line">you</span><br></pre></td></tr></table></figure>
<p>awk 函数</p>
<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">length：统计</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># echo jiujiu | awk &#x27;&#123;print length()&#125;&#x27;</span></span><br><span class="line">6</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># echo jiujiu like | awk &#x27;&#123;print length($1)&#125;&#x27;</span></span><br><span class="line">6</span><br><span class="line">[root@hadoop102 ~]<span class="comment"># echo jiujiu like | awk &#x27;&#123;print length($2)&#125;&#x27;</span></span><br><span class="line">4</span><br><span class="line">如果不属于<span class="variable">$1</span>/<span class="variable">$2</span>则默认<span class="variable">$0</span>整行输出</span><br></pre></td></tr></table></figure>
<p>正则支持表</p>
<table>
<thead>
<tr>
<th>字符</th>
<th>说明</th>
<th>Basic RegEx</th>
<th>Extended RegEx</th>
<th>python RegEx</th>
<th>Perl regEx</th>
</tr>
</thead>
<tbody>
<tr>
<td>转义</td>
<td></td>
<td>\</td>
<td>\</td>
<td>\</td>
<td>\</td>
</tr>
<tr>
<td>^</td>
<td>匹配行首，例如’^dog’匹配以字符串 dog 开头的行（注意：awk 指令中，’^' 则是匹配字符串的开始）</td>
<td>^</td>
<td>^</td>
<td>^</td>
<td>^</td>
</tr>
<tr>
<td>$</td>
<td>匹配行尾，例如：’^、dog 匹配以字符串为结尾的行（注意：指令中，' 则是匹配字符串的结尾）</td>
<td>$</td>
<td>$</td>
<td>$</td>
<td>$</td>
</tr>
<tr>
<td>^$</td>
<td>匹配空行</td>
<td>^$</td>
<td>^$</td>
<td>^$</td>
<td>^$</td>
</tr>
<tr>
<td>^string$</td>
<td>匹配行，例如：’^dog$' 匹配只含一个字符串 dog 的行</td>
<td>^string$</td>
<td>^string$</td>
<td>^string$</td>
<td>^string$</td>
</tr>
<tr>
<td>&lt;</td>
<td>匹配单词，例如：’&lt;frog’ （等价于’\bfrog’），匹配以 frog 开头的单词</td>
<td>&lt;</td>
<td>&lt;</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong>（但可以使用 \b 来匹配单词，例如：’\bfrog’）</td>
</tr>
<tr>
<td>&gt;</td>
<td>匹配单词，例如：‘frog&gt;’（等价于’frog\b '），匹配以 frog 结尾的单词</td>
<td>&gt;</td>
<td>&gt;</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong>（但可以使用 \b 来匹配单词，例如：‘frog\b’）</td>
</tr>
<tr>
<td><x></td>
<td>匹配一个单词或者一个特定字符，例如：’<frog>’（等价于’\bfrog\b’）、’<G>’</td>
<td><x></td>
<td><x></td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong>（但可以使用 \b 来匹配单词，例如：’\bfrog\b’</td>
</tr>
<tr>
<td>()</td>
<td>匹配表达式，例如：不支持’（frog）’</td>
<td><strong>不支持</strong>（但可以使用，如：dogdog</td>
<td>()</td>
<td>()</td>
<td>()</td>
</tr>
<tr>
<td></td>
<td>匹配表达式，例如：不支持’（frog）’</td>
<td></td>
<td><strong>不支持</strong>（同 ())</td>
<td><strong>不支持</strong>（同 ())</td>
<td><strong>不支持</strong>（同 ())</td>
</tr>
<tr>
<td>？</td>
<td>匹配前面的子表达式 0 次或 1 次（等价于 {0,1}），例如：where (is)? 能匹配 &quot;where&quot; 以及 &quot;whereis&quot;</td>
<td><strong>不支持</strong>（同？)</td>
<td>？</td>
<td>？</td>
<td>？</td>
</tr>
<tr>
<td>?</td>
<td>匹配前面的子表达式 0 次或 1 次（等价于’{0,1}’），例如：'whereisis? ' 能匹配 “where&quot;以及&quot;whereis”</td>
<td>?</td>
<td><strong>不支持</strong>（同？)</td>
<td><strong>不支持</strong>（同？)</td>
<td><strong>不支持</strong>（同？)</td>
</tr>
<tr>
<td>?</td>
<td>当该字符紧跟在任何一个其他限制符（*, +, ?, {n},{n,}, {n,m}） 后面时，匹配模式是非贪婪的。非贪婪模式尽可能少的匹配所搜索的字符串，而默认的贪婪模式则尽可能多的匹配所搜索的字符串。例如，对于字符串 “oooo”，‘o+?’ 将匹配单个 &quot;o&quot;，而 ‘o+’ 将匹配所有 ‘o’</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
</tr>
<tr>
<td>.</td>
<td>匹配除换行符（’\n’）之外的任意单个字符（注意：awk 指令中的句点能匹配换行符）</td>
<td>.</td>
<td>.（如果要匹配包括 “\n” 在内的任何一个字符，请使用：’(^$)|（.）</td>
<td>.</td>
<td>.（如果要匹配包括 “\n” 在内的任何一个字符，请使用：’ [.\n] ’</td>
</tr>
<tr>
<td>*</td>
<td>匹配前面的子表达式 0 次或多次（等价于 {0,}），例如：zo* 能匹配 &quot;z&quot; 以及 “zoo”</td>
<td>*</td>
<td>*</td>
<td>*</td>
<td>*</td>
</tr>
<tr>
<td>+</td>
<td>匹配前面的子表达式 1 次或多次（等价于’{1,}’），例如：'whereisis+ ' 能匹配 “whereis&quot;以及&quot;whereisis”</td>
<td>+</td>
<td><strong>不支持</strong>（同 +)</td>
<td><strong>不支持</strong>（同 +)</td>
<td><strong>不支持</strong>（同 +)</td>
</tr>
<tr>
<td>+</td>
<td>匹配前面的子表达式 1 次或多次（等价于 {1,}），例如：zo + 能匹配 &quot;zo&quot; 以及 “zoo”，但不能匹配 “z”</td>
<td><strong>不支持</strong>（同 +)</td>
<td>+</td>
<td>+</td>
<td>+</td>
</tr>
<tr n="">
<td n=""></td>
<td>n 必须是一个 0 或者正整数，匹配子表达式 n 次，例如：zo {2} 能匹配</td>
<td><strong>不支持</strong>（同 {n})</td>
<td n=""></td>
<td n=""></td>
<td></td>
</tr>
<tr n,="">
<td n,=""></td>
<td 2,="">“zooz”，但不能匹配 &quot;Bob&quot;n 必须是一个 0 或者正整数，匹配子表达式大于等于 n 次，例如：go</td>
<td><strong>不支持</strong>（同 {n,})</td>
<td n,=""></td>
<td n,=""></td>
<td></td>
</tr>
<tr n,m="">
<td n,m=""></td>
<td>能匹配 “good”，但不能匹配 godm 和 n 均为非负整数，其中 n &lt;= m，最少匹配 n 次且最多匹配 m 次 ，例如：o {1,3} 将配 &quot;fooooood&quot; 中的前三个 o（请注意在逗号和两个数之间不能有空格）</td>
<td><strong>不支持</strong>（同 {n,m})</td>
<td n,m=""></td>
<td n,m=""></td>
<td></td>
</tr>
<tr>
<td>x|y</td>
<td>匹配 x 或 y，例如： 不支持’z|（food）’ 能匹配 “z” 或 &quot;food&quot;；’（z|f）ood’ 则匹配 &quot;zood&quot; 或 “food”</td>
<td><strong>不支持</strong>（同 x|y)</td>
<td>x|y</td>
<td>x|y</td>
<td>x|y</td>
</tr>
<tr>
<td>[0-9]</td>
<td>匹配从 0 到 9 中的任意一个数字字符（注意：要写成递增）</td>
<td>[0-9]</td>
<td>[0-9]</td>
<td>[0-9]</td>
<td>[0-9]</td>
</tr>
<tr>
<td>[xyz]</td>
<td>字符集合，匹配所包含的任意一个字符，例如：’[abc]' 可以匹配 &quot;lay&quot; 中的 ‘a’（注意：如果元字符，例如：. * 等，它们被放在 [ ] 中，那么它们将变成一个普通字符）</td>
<td>[xyz]</td>
<td>[xyz]</td>
<td>[xyz]</td>
<td>[xyz]</td>
</tr>
<tr>
<td>[^xyz]</td>
<td>负值字符集合，匹配未包含的任意一个字符（注意：不包括换行符），例如：’[^abc]’ 可以匹配 “Lay” 中的’L’（注意：[^xyz] 在 awk 指令中则是匹配未包含的任意一个字符 + 换行符）</td>
<td>[^xyz]</td>
<td>[^xyz]</td>
<td>[^xyz]</td>
<td>[^xyz]</td>
</tr>
<tr>
<td>[A-Za-z]</td>
<td>匹配大写字母或者小写字母中的任意一个字符（注意：要写成递增）</td>
<td>[A-Za-z]</td>
<td>[A-Za-z]</td>
<td>[A-Za-z]</td>
<td>[A-Za-z]</td>
</tr>
<tr>
<td>[^A-Za-z]</td>
<td>匹配除了大写与小写字母之外的任意一个字符（注意：写成递增）</td>
<td>[^A-Za-z]</td>
<td>[^A-Za-z]</td>
<td>[^A-Za-z]</td>
<td>[^A-Za-z]</td>
</tr>
<tr>
<td><strong>\d</strong></td>
<td>匹配从 0 到 9 中的任意一个数字字符（等价于 [0-9]）</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td>\d</td>
<td>\d</td>
</tr>
<tr>
<td><strong>\D</strong></td>
<td>匹配非数字字符（等价于 [^0-9]）</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td>\D</td>
<td>\D</td>
</tr>
<tr>
<td>\S</td>
<td>匹配任何非空白字符（等价于 [^\f\n\r\t\v]）</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td>\S</td>
<td>\S</td>
</tr>
<tr>
<td>\s</td>
<td>匹配任何空白字符，包括空格、制表符、换页符等等（等价于 [\f\n\r\t\v]）</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td>\s</td>
<td>\s</td>
</tr>
<tr>
<td>\W</td>
<td>匹配任何非单词字符 (等价于 [^A-Za-z0-9_])</td>
<td>\W</td>
<td>\W</td>
<td>\W</td>
<td>\W</td>
</tr>
<tr>
<td>\w</td>
<td>匹配包括下划线的任何单词字符（等价于 [A-Za-z0-9_]）</td>
<td>\w</td>
<td>\w</td>
<td>\w</td>
<td>\w</td>
</tr>
<tr>
<td>\B</td>
<td>匹配非单词边界，例如：‘er\B’ 能匹配 “verb” 中的’er’，但不能匹配 &quot;never&quot; 中的’er’</td>
<td>\B</td>
<td>\B</td>
<td>\B</td>
<td>\B</td>
</tr>
<tr>
<td>\b</td>
<td>匹配一个单词边界，也就是指单词和空格间的位置，例如： ‘er\b’ 可以匹配 &quot;never&quot; 中的 ‘er’，但不能匹配 “verb” 中的’er’</td>
<td>\b</td>
<td>\b</td>
<td>\b</td>
<td>\b</td>
</tr>
<tr>
<td>\t</td>
<td>匹配一个横向制表符（等价于 \x09 和 \cI）</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td>\t</td>
<td>\t</td>
</tr>
<tr>
<td>\v</td>
<td>匹配一个垂直制表符（等价于 \x0b 和 \cK）</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td>\v</td>
<td>\v</td>
</tr>
<tr>
<td>\n</td>
<td>匹配一个换行符（等价于 \x0a 和 \cJ）</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td>\n</td>
<td>\n</td>
</tr>
<tr>
<td>\f</td>
<td>匹配一个换页符（等价于 \x0c 和 \cL）</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td>\f</td>
<td>\f</td>
</tr>
<tr>
<td>\r</td>
<td>匹配一个回车符（等价于 \x0d 和 \cM）</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td>\r</td>
<td>\r</td>
</tr>
<tr>
<td>\</td>
<td>匹配转义字符本身 &quot;&quot;</td>
<td>\</td>
<td>\</td>
<td>\</td>
<td>\</td>
</tr>
<tr>
<td>\cx</td>
<td>匹配由 x 指明的控制字符，例如：\cM 匹配一个 Control-M 或回车符，x 的值必须为 A-Z 或 a-z 之一，否则，将 c 视为一个原义的 ‘c’ 字符</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td></td>
<td>\cx</td>
</tr>
<tr>
<td>\xn</td>
<td>匹配 n，其中 n 为十六进制转义值。十六进制转义值必须为确定的两个数字长，例如：’\x41’ 匹配 “A”。’\x041’ 则等价于’\x04’ &amp; “1”。正则表达式中可以使用 ASCII 编码</td>
<td><strong>不支持</strong></td>
<td><strong>不支持</strong></td>
<td></td>
<td>\xn</td>
</tr>
<tr>
<td>\num</td>
<td>匹配 num，其中 num 是一个正整数。表示对所获取的匹配的引用</td>
<td><strong>不支持</strong></td>
<td>\num</td>
<td>\num</td>
<td></td>
</tr>
<tr>
<td>[:alnum:]</td>
<td>匹配任何一个字母或数字（[A-Za-z0-9]），例如：’[[:alnum:]] ’</td>
<td>[:alnum:]</td>
<td>[:alnum:]</td>
<td>[:alnum:]</td>
<td>[:alnum:]</td>
</tr>
<tr>
<td>[:alpha:]</td>
<td>匹配任何一个字母（[A－Za－z]）， 例如：’ [[:alpha:]] ’</td>
<td>[:alpha:]</td>
<td>[:alpha:]</td>
<td>[:alpha:]</td>
<td>[:alpha:]</td>
</tr>
<tr>
<td>[:digit:]</td>
<td>匹配任何一个数字（[0-9]），例如：’[[:digit:]] ’</td>
<td>[:digit:]</td>
<td>[:digit:]</td>
<td>[:digit:]</td>
<td>[:digit:]</td>
</tr>
<tr>
<td>[:lower:]</td>
<td>匹配任何一个小写字母（[a-z]）， 例如：’ [[:lower:]] ’</td>
<td>[:lower:]</td>
<td>[:lower:]</td>
<td>[:lower:]</td>
<td>[:lower:]</td>
</tr>
<tr>
<td>[:upper:]</td>
<td>匹配任何一个大写字母（[A-Z]）</td>
<td>[:upper:]</td>
<td>[:upper:]</td>
<td>[:upper:]</td>
<td>[:upper:]</td>
</tr>
<tr>
<td>[:space:]</td>
<td>任何一个空白字符： 支持制表符、空格，例如：’ [[:space:]] ’</td>
<td>[:space:]</td>
<td>[:space:]</td>
<td>[:space:]</td>
<td>[:space:]</td>
</tr>
<tr>
<td>[:blank:]</td>
<td>空格和制表符（横向和纵向），例如：’[[:blank:]]‘ó’[\s\t\v]’</td>
<td>[:blank:]</td>
<td>[:blank:]</td>
<td>[:blank:]</td>
<td>[:blank:]</td>
</tr>
<tr>
<td>[:graph:]</td>
<td>任何一个可以看得见的且可以打印的字符（注意：不包括空格和换行符等），例如：’[[:graph:]] ’</td>
<td>[:graph:]</td>
<td>[:graph:]</td>
<td>[:graph:]</td>
<td>[:graph:]</td>
</tr>
<tr>
<td>[:print:]</td>
<td>任何一个可以打印的字符（注意：不包括：[:cntrl:]、字符串结束符’\0’、EOF 文件结束符（-1）， 但包括空格符号），例如：’[[:print:]] ’</td>
<td>[:print:]</td>
<td>[:print:]</td>
<td>[:print:]</td>
<td>[:print:]</td>
</tr>
<tr>
<td>[:cntrl:]</td>
<td>任何一个控制字符（ASCII 字符集中的前 32 个字符，即：用十进制表示为从 0 到 31，例如：换行符、制表符等等），例如：’ [[:cntrl:]]’</td>
<td>[:cntrl:]</td>
<td>[:cntrl:]</td>
<td>[:cntrl:]</td>
<td>[:cntrl:]</td>
</tr>
<tr>
<td>[:punct:]</td>
<td>任何一个标点符号（不包括：[:alnum:]、[:cntrl:]、[:space:] 这些字符集）</td>
<td>[:punct:]</td>
<td>[:punct:]</td>
<td>[:punct:]</td>
<td>[:punct:]</td>
</tr>
<tr>
<td>[:xdigit:]</td>
<td>任何一个十六进制数（即：0-9，a-f，A-F）</td>
<td>[:xdigit:]</td>
<td>[:xdigit:]</td>
<td>[:xdigit:]</td>
<td>[:xdigit:]</td>
</tr>
</tbody>
</table>
</div>
        </div>
        
            <div class="kratos-copyright text-center clearfix">
                <h5 itemprop="copyrightNotice">本作品采用 <a rel="license nofollow" target="_blank" href="https://creativecommons.org/licenses/by-sa/4.0/">知识共享署名-相同方式共享 4.0 国际许可协议</a> 进行许可</h5>
            </div>
        
        <footer class="kratos-entry-footer clearfix">
            
                <div class="post-like-donate text-center clearfix" id="post-like-donate">
                
                
                    <a class="share" href="javascript:;"><i class="fa fa-share-alt"></i> 分享</a>
                    <div class="share-wrap" style="display: none;">
    <div class="share-group">
        <a href="javascript:;" class="share-plain qq" onclick="share('qq');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-qq"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain qzone" onclick="share('qzone');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-star"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weixin pop style-plain" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weixin"></i>
            </div>
            <div class="share-int">
                <div class="qrcode" id="wechat-qr"></div>
                <p>打开微信“扫一扫”，打开网页后点击屏幕右上角分享按钮</p>
            </div>
        </a>
        <a href="javascript:;" class="share-plain weibo" onclick="share('weibo');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-weibo"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain facebook style-plain" onclick="share('facebook');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-facebook"></i>
            </div>
        </a>
        <a href="javascript:;" class="share-plain twitter style-plain" onclick="share('twitter');" rel="nofollow">
            <div class="icon-wrap">
                <i class="fa fa-twitter"></i>
            </div>
        </a>
    </div>
    <script type="text/javascript">
        $(()=>{
            new QRCode("wechat-qr", {
                text: "https://jiujiu.tj.cn/[object%20Object]/%E4%B8%89%E5%89%91%E5%AE%A2/",
                width: 150,
                height: 150,
                correctLevel : QRCode.CorrectLevel.H
            });
        });
        function share(dest) {
            const qqBase        = "https://connect.qq.com/widget/shareqq/index.html?";
            const weiboBase     = "https://service.weibo.com/share/share.php?";
            const qzoneBase     = "https://sns.qzone.qq.com/cgi-bin/qzshare/cgi_qzshare_onekey?";
            const facebookBase  = "https://www.facebook.com/sharer/sharer.php?";
            const twitterBase   = "https://twitter.com/intent/tweet?";
            const hostUrl       = "https://jiujiu.tj.cn/[object%20Object]/%E4%B8%89%E5%89%91%E5%AE%A2/";
            const title         = "「三剑客」";
            const excerpt       = `三剑客 grep 丶 awk 丶 sed
正则表达式
1.1 什么是正则表达式

匹配一些有规律的东西，比如手机号丶日志文件等
正则表达式 regular expression (RE)
正则使用：使用一些符号表达重复出现大小写，开头...`;
            let _URL;
            switch (dest) {
                case "qq"       : _URL = qqBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";     break;
                case "weibo"    : _URL = weiboBase+"url="+hostUrl+"&title="+title+excerpt;                                 break;
                case "qzone"    : _URL = qzoneBase+"url="+hostUrl+"&title="+title+"&desc=&summary="+excerpt+"&site=cxpy";  break;
                case "facebook" : _URL = facebookBase+"u="+hostUrl;                                                        break;
                case "twitter"  : _URL = twitterBase+"text="+title+excerpt+"&url="+hostUrl;                                break;
            }
            window.open(_URL);
        };
    </script>
</div>
                
                </div>
            
            <div class="footer-tag clearfix">
                <div class="pull-left">
                <i class="fa fa-tags"></i>
                    
                </div>
                <div class="pull-date">
                    <time datetime="2023-07-07T08:29:22.082Z" itemprop="dateModified">最后编辑：2023-07-07</time>
                </div>
            </div>
        </footer>
    </div>
    
        <nav class="navigation post-navigation clearfix" role="navigation">
            
            
            <div class="nav-next clearfix">
                <a title=" 基础总结" href="//[object Object]/基础总结/">下一篇 &gt;</a>
            </div>
            
        </nav>
    
    
</article>

        

            </section>

        

                
            

<section id="kratos-widget-area" class="col-md-4 hidden-xs hidden-sm">
    <!-- 文章和页面根据splitter来分割，没有的话就从头开始设置为sticky -->
    
    
                <aside id="krw-about" class="widget widget-kratos-about clearfix">
    <div class="photo-background"></div>
    <div class="photo-wrapper clearfix">
        <div class="photo-wrapper-tip text-center">
            <img class="about-photo" src="/images/avatar.webp" loading="lazy" decoding="auto" />
        </div>
    </div>
    <div class="textwidget">
        <p class="text-center">总要试着出去走一下，管它是浪浪山还是书简胡，万一是落魄山呢？</p>
    </div>
    <div class="site-meta">
        <a class="meta-item" href="/archives/">
            <span class="title">
                文章
            </span>
            <span class="count">
                4
            </span>
        </a>
        <a class="meta-item" href="/categories/">
            <span class="title">
                分类
            </span>
            <span class="count">
                0
            </span>
        </a>
        <a class="meta-item" href="/tags/">
            <span class="title">
                标签
            </span>
            <span class="count">
                0
            </span>
        </a>
    </div>
</aside>
            
                    <div class="sticky-area">
                
                

            
                
            
                
  <aside id="krw-posts" class="widget widget-kratos-posts">
  <h4 class="widget-title"><i class="fa fa-file"></i>最新文章</h4>
  <div class="tab-content">
      <ul class="list-group">
        
        
          
          
            <a class="list-group-item" href="/%5Bobject%20Object%5D/Centos-Nginx-%E6%BA%90%E7%A0%81%E5%AE%89%E8%A3%85/"><i class="fa  fa-book"></i> Centos_Nginx-源码安装</a>
            
          
        
          
          
            <a class="list-group-item" href="/%5Bobject%20Object%5D/NodeJs%E7%9A%84%E5%AE%89%E8%A3%85%E5%8F%8A%E9%85%8D%E7%BD%AE%E7%8E%AF%E5%A2%83%E5%8F%98%E9%87%8F/"><i class="fa  fa-book"></i> NodeJs的安装及配置环境变量</a>
            
          
        
          
          
            <a class="list-group-item" href="/%5Bobject%20Object%5D/%E5%9F%BA%E7%A1%80%E6%80%BB%E7%BB%93/"><i class="fa  fa-book"></i> 基础总结</a>
            
          
        
          
          
            <a class="list-group-item" href="/%5Bobject%20Object%5D/%E4%B8%89%E5%89%91%E5%AE%A2/"><i class="fa  fa-book"></i> 三剑客</a>
            
          
        
      </ul>
  </div>
  </aside>

            
    </div>
</section>
        
        </div>
    </div>
</div>
<footer>
    <div id="footer"  class="ap-lrc"  >
        <div class="container">
            <div class="row">
                <div class="col-md-6 col-md-offset-3 footer-list text-center">
                    <ul class="kratos-social-icons">
                        <!-- Keep for compatibility -->
                        
                        
                        
                        
                        
                        
                        
                        
                        
                        <!-- New links -->
                        
                    </ul>
                    <ul class="kratos-copyright">
                        <div>
                            <li>&copy; 2023 山有木兮木有枝，心悦君兮君未知 版权所有.</li>
                            <li>本站已运行<span id="span_dt">Loading...</span></li>
                        </div>
                        <div>
                            <li>Theme <a href="https://github.com/Candinya/Kratos-Rebirth" target="_blank">Kratos:Rebirth</a></li>
                            <li>Site built with&nbsp;<i class="fa fa-heart throb" style="color:#d43f57"></i>&nbsp;by 酒酒.</li>
                        </div>
                        <div>
                            <li>Powered by <a href="https://hexo.io" target="_blank" rel="nofollow">Hexo</a></li>
                            <li>Hosted on <a href="https://github.io" target="_blank">Github Pages</a></li>
                        </div>
                        <div>
                            
                            
                        </div>
                    </ul>
                </div>
            </div>
        </div>
        <div class="kr-tool text-center">
            <div class="tool">
                
                    <div class="box search-box">
                        <a href="/search/">
                            <span class="fa fa-search"></span>
                        </a>
                    </div>
                
                
                    <div class="box theme-box" id="darkmode-switch">
                        <span class="fa fa-adjust"></span>
                    </div>
                
                
                    <div class="box theme-box" id="snow-switch">
                        <span class="fa fa-snowflake-o"></span>
                    </div>
                
                
            </div>
            <div class="box gotop-box">
                <span class="fa fa-chevron-up"></span>
            </div>
        </div>
    </div>
</footer>
</div>
</div>

        <script defer src="/vendors/bootstrap@3.3.4/dist/js/bootstrap.min.js"></script>
<script defer src="/vendors/nprogress@0.2.0/nprogress.js"></script>
<script>
    if (!window.kr) {
        window.kr = {};
    }
    window.kr.notMobile = (!(navigator.userAgent.match(/(phone|pad|pod|iPhone|iPod|ios|iPad|Android|Mobile|BlackBerry|IEMobile|MQQBrowser|JUC|Fennec|wOSBrowser|BrowserNG|WebOS|Symbian|Windows Phone)/i)));
    window.kr.siteRoot = "/";
</script>

    <div>
        <canvas id="snow"></canvas>
        <script async src="/js/snow.min.js"></script>
    </div>


    <script async src="/js/candy.min.js"></script>



    <script defer src="/vendors/aplayer@1.10.1/dist/APlayer.min.js"></script>
    
    <script defer src="/vendors/meting@2.0.1/dist/Meting.min.js"></script>
    <meting-js
        server="netease"
        type="playlist"
        id="718291344"
        order="random"
        fixed="true"
    >
    </meting-js>



    <script defer src="/vendors/@fancyapps/fancybox@3.5.7/dist/jquery.fancybox.min.js"></script>

<script defer src="/js/kratosr.min.js"></script>
<script defer src="/js/pjax.min.js"></script>



<!-- Extra support for third-party plguins  -->


    <script src="/live2dw/lib/L2Dwidget.min.js?094cbace49a39548bed64abff5988b05"></script><script>L2Dwidget.init({"pluginRootPath":"live2dw/","pluginJsPath":"lib/","pluginModelPath":"assets/","tagMode":false,"debug":false,"model":{"scale":1,"hHeadPos":2,"vHeadPos":1,"jsonPath":"/live2dw/assets/histoire/histoire.model.json"},"display":{"superSample":2,"width":280,"height":480,"position":"right","hOffset":-2,"vOffset":-2},"mobile":{"show":false,"scale":0.5},"react":{"opacityDefault":0.7,"opacityOnHover":0.2},"log":false});</script></body>
</html>
